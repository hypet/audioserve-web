var ka=Object.defineProperty;var ya=(i,e,t)=>e in i?ka(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var _e=(i,e,t)=>(ya(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=t(l);fetch(l.href,a)}})();function J(){}function Ca(i,e){for(const t in e)i[t]=e[t];return i}function Dr(i){return i()}function an(){return Object.create(null)}function Be(i){i.forEach(Dr)}function Ci(i){return typeof i=="function"}function de(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function La(i){return Object.keys(i).length===0}function Xt(i,...e){if(i==null){for(const n of e)n(void 0);return J}const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Ot(i){let e;return Xt(i,t=>e=t)(),e}function te(i,e,t){i.$$.on_destroy.push(Xt(e,t))}function Ft(i,e,t,n){if(i){const l=Vr(i,e,t,n);return i[0](l)}}function Vr(i,e,t,n){return i[1]&&n?Ca(t.ctx.slice(),i[1](n(e))):t.ctx}function Nt(i,e,t,n){if(i[2]&&n){const l=i[2](n(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const a=[],r=Math.max(e.dirty.length,l.length);for(let u=0;u<r;u+=1)a[u]=e.dirty[u]|l[u];return a}return e.dirty|l}return e.dirty}function Dt(i,e,t,n,l,a){if(l){const r=Vr(e,t,n,a);i.p(r,l)}}function Vt(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ae(i,e,t){return i.set(t),e}function dt(i){return i&&Ci(i.destroy)?i.destroy:J}const jr=typeof window<"u";let un=jr?()=>window.performance.now():()=>Date.now(),xt=jr?i=>requestAnimationFrame(i):J;const nt=new Set;function Gr(i){nt.forEach(e=>{e.c(i)||(nt.delete(e),e.f())}),nt.size!==0&&xt(Gr)}function Pa(i){let e;return nt.size===0&&xt(Gr),{promise:new Promise(t=>{nt.add(e={c:i,f:t})}),abort(){nt.delete(e)}}}const Aa=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function g(i,e){i.appendChild(e)}function E(i,e,t){i.insertBefore(e,t||null)}function S(i){i.parentNode&&i.parentNode.removeChild(i)}function Fi(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function L(i){return document.createElement(i)}function G(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function U(i){return document.createTextNode(i)}function F(){return U(" ")}function pe(){return U("")}function Z(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function Ye(i){return function(e){return e.preventDefault(),i.call(this,e)}}function Sa(i){return function(e){return e.stopPropagation(),i.call(this,e)}}function o(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Ur(i){let e;return{p(...t){e=t,e.forEach(n=>i.push(n))},r(){e.forEach(t=>i.splice(i.indexOf(t),1))}}}function Te(i){return i===""?null:+i}function Ea(i){return Array.from(i.childNodes)}function K(i,e){e=""+e,i.data!==e&&(i.data=e)}function he(i,e){i.value=e??""}function ti(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,n?"important":"")}function dn(i,e,t){for(let n=0;n<i.options.length;n+=1){const l=i.options[n];if(l.__value===e){l.selected=!0;return}}(!t||e!==void 0)&&(i.selectedIndex=-1)}function za(i){const e=i.querySelector(":checked");return e&&e.__value}function yi(i,e,t){i.classList.toggle(e,!!t)}function Ta(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}let gt;function _t(i){gt=i}function ot(){if(!gt)throw new Error("Function called outside component initialization");return gt}function qr(i){ot().$$.before_update.push(i)}function Wi(i){ot().$$.on_mount.push(i)}function pt(i){ot().$$.on_destroy.push(i)}function Yi(){const i=ot();return(e,t,{cancelable:n=!1}={})=>{const l=i.$$.callbacks[e];if(l){const a=Ta(e,t,{cancelable:n});return l.slice().forEach(r=>{r.call(i,a)}),!a.defaultPrevented}return!0}}function on(i,e){return ot().$$.context.set(i,e),e}function rt(i){return ot().$$.context.get(i)}const et=[],We=[];let lt=[];const sn=[],Ha=Promise.resolve();let jt=!1;function Ra(){jt||(jt=!0,Ha.then(Jr))}function bt(i){lt.push(i)}const Rt=new Set;let Ki=0;function Jr(){if(Ki!==0)return;const i=gt;do{try{for(;Ki<et.length;){const e=et[Ki];Ki++,_t(e),Ba(e.$$)}}catch(e){throw et.length=0,Ki=0,e}for(_t(null),et.length=0,Ki=0;We.length;)We.pop()();for(let e=0;e<lt.length;e+=1){const t=lt[e];Rt.has(t)||(Rt.add(t),t())}lt.length=0}while(et.length);for(;sn.length;)sn.pop()();jt=!1,Rt.clear(),_t(i)}function Ba(i){if(i.fragment!==null){i.update(),Be(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(bt)}}function Ia(i){const e=[],t=[];lt.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),lt=e}const vt=new Set;let Zi;function ke(){Zi={r:0,c:[],p:Zi}}function ye(){Zi.r||Be(Zi.c),Zi=Zi.p}function I(i,e){i&&i.i&&(vt.delete(i),i.i(e))}function V(i,e,t,n){if(i&&i.o){if(vt.has(i))return;vt.add(i),Zi.c.push(()=>{vt.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function Ke(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function re(i){i&&i.c()}function ne(i,e,t){const{fragment:n,after_update:l}=i.$$;n&&n.m(e,t),bt(()=>{const a=i.$$.on_mount.map(Dr).filter(Ci);i.$$.on_destroy?i.$$.on_destroy.push(...a):Be(a),i.$$.on_mount=[]}),l.forEach(bt)}function le(i,e){const t=i.$$;t.fragment!==null&&(Ia(t.after_update),Be(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ma(i,e){i.$$.dirty[0]===-1&&(et.push(i),Ra(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function oe(i,e,t,n,l,a,r,u=[-1]){const c=gt;_t(i);const f=i.$$={fragment:null,ctx:[],props:a,update:J,not_equal:l,bound:an(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:an(),dirty:u,skip_bound:!1,root:e.target||c.$$.root};r&&r(f.root);let _=!1;if(f.ctx=t?t(i,e.props||{},(w,b,...d)=>{const A=d.length?d[0]:b;return f.ctx&&l(f.ctx[w],f.ctx[w]=A)&&(!f.skip_bound&&f.bound[w]&&f.bound[w](A),_&&Ma(i,w)),b}):[],f.update(),_=!0,Be(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const w=Ea(e.target);f.fragment&&f.fragment.l(w),w.forEach(S)}else f.fragment&&f.fragment.c();e.intro&&I(i.$$.fragment),ne(i,e.target,e.anchor),Jr()}_t(c)}class se{constructor(){_e(this,"$$");_e(this,"$$set")}$destroy(){le(this,1),this.$destroy=J}$on(e,t){if(!Ci(t))return J;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!La(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Oa="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Oa);const Xi=[];function Zr(i,e){return{subscribe:Ne(i,e).subscribe}}function Ne(i,e=J){let t;const n=new Set;function l(u){if(de(i,u)&&(i=u,t)){const c=!Xi.length;for(const f of n)f[1](),Xi.push(f,i);if(c){for(let f=0;f<Xi.length;f+=2)Xi[f][0](Xi[f+1]);Xi.length=0}}}function a(u){l(u(i))}function r(u,c=J){const f=[u,c];return n.add(f),n.size===1&&(t=e(l,a)||J),u(i),()=>{n.delete(f),n.size===0&&t&&(t(),t=null)}}return{set:l,update:a,subscribe:r}}function Et(i,e,t){const n=!Array.isArray(i),l=n?[i]:i;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=e.length<2;return Zr(t,(r,u)=>{let c=!1;const f=[];let _=0,w=J;const b=()=>{if(_)return;w();const A=e(n?f[0]:f,r,u);a?r(A):w=Ci(A)?A:J},d=l.map((A,R)=>Xt(A,z=>{f[R]=z,_&=~(1<<R),c&&b()},()=>{_|=1<<R}));return c=!0,b(),function(){Be(d),w(),c=!1}})}var Re=(i=>(i.LAST_FOLDER="AUDIOSERVE_LAST_FOLDER",i.LAST_COLLECTION="AUDIOSERVE_LAST_COLLECTION",i.LAST_FILE="AUDIOSERVE_LAST_FILE",i.LAST_POSITION="AUDIOSERVE_LAST_POSITION",i.LAST_PAUSE="AUDIOSERVE_LAST_PAUSE",i.THEME="AUDIOSERVE_THEME",i.TRANSCODING="AUDIOSERVE_TRANSCODING",i.GROUP="AUDIOSERVE_GROUP",i.PREFERENCES="AUDIOSERVE_PREFERENCES",i.PLAYBACK_SPEED="AUDIOSERVE_PLAYBACK_SPEED",i.PLAYBACK_VOLUME="AUDIOSERVE_PLAYBACK_VOLUME",i))(Re||{}),be=(i=>(i[i.REGULAR=0]="REGULAR",i[i.SEARCH=1]="SEARCH",i[i.RECENT=2]="RECENT",i))(be||{}),yt=(i=>(i[i.PLAYLIST_FOLDER=0]="PLAYLIST_FOLDER",i[i.PLAY_ITEM=1]="PLAY_ITEM",i))(yt||{}),Mi=(i=>(i[i.Off=0]="Off",i[i.CurrentDir=1]="CurrentDir",i[i.CollectionWide=2]="CollectionWide",i[i.Global=3]="Global",i))(Mi||{}),pi=(i=>(i[i.RegisterDeviceEvent=0]="RegisterDeviceEvent",i[i.DevicesOnlineEvent=1]="DevicesOnlineEvent",i[i.MakeDeviceActiveEvent=2]="MakeDeviceActiveEvent",i[i.PlayTrackEvent=3]="PlayTrackEvent",i[i.PauseEvent=4]="PauseEvent",i[i.ResumeEvent=5]="ResumeEvent",i[i.SwitchShuffleEvent=6]="SwitchShuffleEvent",i[i.CurrentPosEvent=7]="CurrentPosEvent",i[i.RewindToEvent=8]="RewindToEvent",i[i.VolumeChangeEvent=9]="VolumeChangeEvent",i))(pi||{}),fi=(i=>(i[i.RegisterDevice=0]="RegisterDevice",i[i.MakeDeviceActive=1]="MakeDeviceActive",i[i.PlayTrack=2]="PlayTrack",i[i.Pause=3]="Pause",i[i.Resume=4]="Resume",i[i.NextTrack=5]="NextTrack",i[i.PrevTrack=6]="PrevTrack",i[i.SwitchShuffle=7]="SwitchShuffle",i[i.CurrentPos=8]="CurrentPos",i[i.RewindTo=9]="RewindTo",i[i.VolumeChange=10]="VolumeChange",i))(fi||{});function Qr(i){localStorage.setItem(Re.PREFERENCES,JSON.stringify(i))}function Wr(){return(localStorage.getItem(Re.THEME)||"light")==="light"?"dark":"light"}function zt(){let i=location.pathname;return i=i.replace(/index.html$/,""),i.replace(/\/+$/,"")}function Fa(i){let e;i?e="http://localhost:3000":e=`${location.protocol}//${location.host}`;const t=zt();return t&&(e+=t),e}function cn(i){if(i=="http:")return"ws:";if(i=="https:")return"wss:"}function Yr(i,e){let t=i?`${cn(window.location.protocol)}//${window.location.hostname}:${e}`:`${cn(window.location.protocol)}//${window.location.host}`;const n=zt();return n&&(t+=n),t}function Na(i,e){let t,n;function l(u){if(u.type.startsWith("touch"))t=u.touches[0].pageX,n=u.touches[0].pageY;else{if(u.button!==0)return;t=u.clientX,n=u.clientY}i.dispatchEvent(new CustomEvent("slidestart",{detail:{x:t,y:n}})),window.addEventListener("mousemove",a),window.addEventListener("touchmove",a),window.addEventListener("mouseup",r),window.addEventListener("touchend",r)}function a(u){let c=t,f=n;u.type.startsWith("touch")?(c=u.touches[0].pageX,f=u.touches[0].pageY):(c=u.clientX,f=u.clientY);const _=c-t,w=f-n;i.dispatchEvent(new CustomEvent("slidemove",{detail:{dx:_,dy:w}}))}function r(u){t=0,n=0,i.dispatchEvent(new CustomEvent("slideend")),window.removeEventListener("mousemove",a),window.removeEventListener("touchmove",a),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r)}if(!e.disabled)return i.addEventListener("mousedown",l),i.addEventListener("touchstart",l,{passive:!0}),{destroy(){i.removeEventListener("mousedown",l),i.removeEventListener("touchstart",l)}}}function Da(){const{userAgent:i}=navigator;let e=i.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],t;if(/trident/i.test(e[1]))return t=/\brv[ :]+(\d+)/g.exec(i)||[],`IE ${t[1]||""}`;if(e[1]==="Chrome"){if(t=i.match(/\b(OPR|Edge)\/(\d+)/),t!==null)return t.slice(1).join(" ").replace("OPR","Opera");if(t=i.match(/\b(Edg)\/(\d+)/),t!==null)return t.slice(1).join(" ").replace("Edg","Edge (Chromium)")}return e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],t=i.match(/version\/(\d+)/i),t!==null&&e.splice(1,1,t[1]),e.join(" ").concat(" on ",navigator.platform)}const Va={maxParallelDownload:1,cacheAheadFiles:3,cacheAheadDelay:15,transcodingTolerance:.15,positionReportingPeriod:10,sleepTimerPeriod:30,sleepTimerExtend:15,jumpBackTime:15,jumpForwardTime:10,transcodingJumpLimit:5*60,autorewind:!1,recentDays:365,alwaysTranscode:"",folderIconSize:64,showFolderRemainingTime:!1,expandedPlayerTray:!1,enableSlideInBrowser:!1},ja="https://audioserve.zderadicka.eu".replace(/\/+$/,"");class Tt{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:ja}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||Xr}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return typeof e=="function"?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return typeof e=="function"?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}const Ga=new Tt;class $t{constructor(e=Ga){_e(this,"middleware");_e(this,"fetchApi",async(e,t)=>{let n={url:e,init:t};for(const a of this.middleware)a.pre&&(n=await a.pre({fetch:this.fetchApi,...n})||n);let l;try{l=await(this.configuration.fetchApi||fetch)(n.url,n.init)}catch(a){for(const r of this.middleware)r.onError&&(l=await r.onError({fetch:this.fetchApi,url:n.url,init:n.init,error:a,response:l?l.clone():void 0})||l);if(l===void 0)throw a instanceof Error?new Ja(a,"The request failed and the interceptors did not return an alternative response"):a}for(const a of this.middleware)a.post&&(l=await a.post({fetch:this.fetchApi,url:n.url,init:n.init,response:l.clone()})||l);return l});this.configuration=e,this.middleware=e.middleware}withMiddleware(...e){const t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){const t=e.map(n=>({pre:n}));return this.withMiddleware(...t)}withPostMiddleware(...e){const t=e.map(n=>({post:n}));return this.withMiddleware(...t)}async request(e,t){const{url:n,init:l}=await this.createFetchParams(e,t),a=await this.fetchApi(n,l);if(a&&a.status>=200&&a.status<300)return a;throw new Kr(a,"Response returned an error code")}async createFetchParams(e,t){let n=this.configuration.basePath+e.path;e.query!==void 0&&Object.keys(e.query).length!==0&&(n+="?"+this.configuration.queryParamsStringify(e.query));const l=Object.assign({},this.configuration.headers,e.headers);Object.keys(l).forEach(f=>l[f]===void 0?delete l[f]:{});const a=typeof t=="function"?t:async()=>t,r={method:e.method,headers:l,body:e.body,credentials:this.configuration.credentials},u={...r,...await a({init:r,context:e})},c={...u,body:qa(u.body)||u.body instanceof URLSearchParams||Ua(u.body)?u.body:JSON.stringify(u.body)};return{url:n,init:c}}clone(){const e=this.constructor,t=new e(this.configuration);return t.middleware=this.middleware.slice(),t}}function Ua(i){return typeof Blob<"u"&&i instanceof Blob}function qa(i){return typeof FormData<"u"&&i instanceof FormData}class Kr extends Error{constructor(t,n){super(n);_e(this,"name","ResponseError");this.response=t}}class Ja extends Error{constructor(t,n){super(n);_e(this,"name","FetchError");this.cause=t}}class Ge extends Error{constructor(t,n){super(n);_e(this,"name","RequiredError");this.field=t}}function ze(i,e){const t=i[e];return t!=null}function Xr(i,e=""){return Object.keys(i).map(t=>xr(t,i[t],e)).filter(t=>t.length>0).join("&")}function xr(i,e,t=""){const n=t+(t.length?`[${i}]`:i);if(e instanceof Array){const l=e.map(a=>encodeURIComponent(String(a))).join(`&${encodeURIComponent(n)}=`);return`${encodeURIComponent(n)}=${l}`}if(e instanceof Set){const l=Array.from(e);return xr(i,l,t)}return e instanceof Date?`${encodeURIComponent(n)}=${encodeURIComponent(e.toISOString())}`:e instanceof Object?Xr(e,n):`${encodeURIComponent(n)}=${encodeURIComponent(String(e))}`}function Za(i){for(const e of i)if(e.contentType==="multipart/form-data")return!0;return!1}class Vi{constructor(e,t=n=>n){this.raw=e,this.transformer=t}async value(){return this.transformer(await this.raw.json())}}class Qa{constructor(e){this.raw=e}async value(){}}class Bt{constructor(e){this.raw=e}async value(){return await this.raw.blob()}}class $r{constructor(e){this.raw=e}async value(){return await this.raw.text()}}class Wa extends $t{async authenticatePostRaw(e,t){if(e.secret===null||e.secret===void 0)throw new Ge("secret","Required parameter requestParameters.secret was null or undefined when calling authenticatePost.");const n={},l={};Za([{contentType:"application/x-www-form-urlencoded"},{contentType:"application/json"}]);let r;r=new URLSearchParams,e.secret!==void 0&&r.append("secret",e.secret);const u=await this.request({path:"/authenticate",method:"POST",headers:l,query:n,body:r},t);return new $r(u)}async authenticatePost(e,t){return await(await this.authenticatePostRaw(e,t)).value()}}function Ya(i){return Ka(i)}function Ka(i,e){return i==null?i:{duration:ze(i,"duration")?i.duration:void 0,bitrate:ze(i,"bitrate")?i.bitrate:void 0,tags:ze(i,"tags")?i.tags:void 0}}function Xa(i){return xa(i)}function xa(i,e){return i==null?i:{start:ze(i,"start")?i.start:void 0,duration:ze(i,"duration")?i.duration:void 0}}function ea(i){return $a(i)}function $a(i,e){return i==null?i:[i.id,{id:i.id,name:i.name,path:i.path,parent_dir:i.parent_dir,meta:ze(i,"meta")?Ya(i.meta):void 0,mime:i.mime,section:ze(i,"section")?Xa(i.section):void 0}]}function eu(i){return iu(i)}function iu(i,e){return i==null?i:{timestamp:i.timestamp,path:i.path,position:i.position}}function ia(i){return tu(i)}function tu(i,e){return i==null?i:{name:i.name,path:i.path,isFile:ze(i,"is_file")?i.is_file:void 0,modified:ze(i,"modified")?i.modified:void 0,finished:ze(i,"finished")?i.finished:void 0}}function fn(i){return nu(i)}function nu(i,e){return i==null?i:{path:i.path,mime:i.mime}}function It(i){return lu(i)}function lu(i,e){return i==null?i:{isFile:ze(i,"is_file")?i.is_file:void 0,isCollapsed:ze(i,"is_collapsed")?i.is_collapsed:void 0,modified:ze(i,"modified")?i.modified:void 0,totalTime:ze(i,"total_time")?i.total_time:void 0,subfolders:ze(i,"subfolders")?i.subfolders.map(ia):void 0,files:ze(i,"files")?new Map(i.files.map(ea)):void 0,cover:ze(i,"cover")?fn(i.cover):void 0,description:ze(i,"description")?fn(i.description):void 0,tags:ze(i,"tags")?i.tags:void 0,position:ze(i,"position")?eu(i.position):void 0}}function ru(i){return au(i)}function au(i,e){return i==null?i:{names:ze(i,"names")?i.names:void 0,count:ze(i,"count")?i.count:void 0,folderDownload:ze(i,"folder_download")?i.folder_download:void 0,sharedPositions:ze(i,"shared_positions")?i.shared_positions:void 0,version:ze(i,"version")?i.version:void 0}}function hn(i){return uu(i)}function uu(i,e){return i==null?i:{timestamp:i.timestamp,collection:i.collection,folder:i.folder,file:i.file,folderFinished:ze(i,"folder_finished")?i.folder_finished:void 0,position:i.position}}function du(i){if(i!==void 0)return i===null?null:{timestamp:i.timestamp,collection:i.collection,folder:i.folder,file:i.file,folder_finished:i.folderFinished,position:i.position}}function mn(i){return ou(i)}function ou(i,e){return i==null?i:{files:ze(i,"files")?new Map(i.files.map(ea)):void 0,subfolders:ze(i,"subfolders")?i.subfolders.map(ia):void 0}}class su extends $t{async colIdAudioPathGetRaw(e,t){if(e.colId===null||e.colId===void 0)throw new Ge("colId","Required parameter requestParameters.colId was null or undefined when calling colIdAudioPathGet.");if(e.path===null||e.path===void 0)throw new Ge("path","Required parameter requestParameters.path was null or undefined when calling colIdAudioPathGet.");const n={};e.seek!==void 0&&(n.seek=e.seek),e.trans!==void 0&&(n.trans=e.trans);const l={};if(e.range!==void 0&&e.range!==null&&(l.range=String(e.range)),this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/{col_id}/audio/{path}".replace("{col_id}",encodeURIComponent(String(e.colId))).replace("{path}",encodeURIComponent(String(e.path))),method:"GET",headers:l,query:n},t);return new Bt(a)}async colIdAudioPathGet(e,t){return await(await this.colIdAudioPathGetRaw(e,t)).value()}async colIdCoverPathGetRaw(e,t){if(e.colId===null||e.colId===void 0)throw new Ge("colId","Required parameter requestParameters.colId was null or undefined when calling colIdCoverPathGet.");if(e.path===null||e.path===void 0)throw new Ge("path","Required parameter requestParameters.path was null or undefined when calling colIdCoverPathGet.");const n={},l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/{col_id}/cover/{path}".replace("{col_id}",encodeURIComponent(String(e.colId))).replace("{path}",encodeURIComponent(String(e.path))),method:"GET",headers:l,query:n},t);return new Bt(a)}async colIdCoverPathGet(e,t){return await(await this.colIdCoverPathGetRaw(e,t)).value()}async colIdDescPathGetRaw(e,t){if(e.colId===null||e.colId===void 0)throw new Ge("colId","Required parameter requestParameters.colId was null or undefined when calling colIdDescPathGet.");if(e.path===null||e.path===void 0)throw new Ge("path","Required parameter requestParameters.path was null or undefined when calling colIdDescPathGet.");const n={},l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/{col_id}/desc/{path}".replace("{col_id}",encodeURIComponent(String(e.colId))).replace("{path}",encodeURIComponent(String(e.path))),method:"GET",headers:l,query:n},t);return new $r(a)}async colIdDescPathGet(e,t){return await(await this.colIdDescPathGetRaw(e,t)).value()}async colIdDownloadPathGetRaw(e,t){if(e.colId===null||e.colId===void 0)throw new Ge("colId","Required parameter requestParameters.colId was null or undefined when calling colIdDownloadPathGet.");if(e.path===null||e.path===void 0)throw new Ge("path","Required parameter requestParameters.path was null or undefined when calling colIdDownloadPathGet.");const n={};e.fmt!==void 0&&(n.fmt=e.fmt);const l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/{col_id}/download/{path}".replace("{col_id}",encodeURIComponent(String(e.colId))).replace("{path}",encodeURIComponent(String(e.path))),method:"GET",headers:l,query:n},t);return new Bt(a)}async colIdDownloadPathGet(e,t){return await(await this.colIdDownloadPathGetRaw(e,t)).value()}async colIdFolderGetRaw(e,t){if(e.colId===null||e.colId===void 0)throw new Ge("colId","Required parameter requestParameters.colId was null or undefined when calling colIdFolderGet.");const n={};e.ord!==void 0&&(n.ord=e.ord),e.group!==void 0&&(n.group=e.group);const l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/{col_id}/folder/".replace("{col_id}",encodeURIComponent(String(e.colId))),method:"GET",headers:l,query:n},t);return new Vi(a,r=>It(r))}async colIdFolderGet(e,t){return await(await this.colIdFolderGetRaw(e,t)).value()}async colIdFolderPathGetRaw(e,t){if(e.colId===null||e.colId===void 0)throw new Ge("colId","Required parameter requestParameters.colId was null or undefined when calling colIdFolderPathGet.");if(e.path===null||e.path===void 0)throw new Ge("path","Required parameter requestParameters.path was null or undefined when calling colIdFolderPathGet.");const n={};e.ord!==void 0&&(n.ord=e.ord),e.group!==void 0&&(n.group=e.group);const l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/{col_id}/folder/{path}".replace("{col_id}",encodeURIComponent(String(e.colId))).replace("{path}",encodeURIComponent(String(e.path))),method:"GET",headers:l,query:n},t);return new Vi(a,r=>It(r))}async colIdAllRaw(e,t){if(e.colId===null||e.colId===void 0)throw new Ge("colId","Required parameter requestParameters.colId was null or undefined when calling colIdFolderPathGet.");const n={},l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/{col_id}/all".replace("{col_id}",encodeURIComponent(String(e.colId))),method:"GET",headers:l,query:n},t);return new Vi(a,r=>It(r))}async colIdFolderPathGet(e,t){return await(await this.colIdFolderPathGetRaw(e,t)).value()}async colIdAll(e,t){return await(await this.colIdAllRaw(e,t)).value()}async colIdRecentGetRaw(e,t){if(e.colId===null||e.colId===void 0)throw new Ge("colId","Required parameter requestParameters.colId was null or undefined when calling colIdRecentGet.");const n={};e.group!==void 0&&(n.group=e.group);const l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/{col_id}/recent".replace("{col_id}",encodeURIComponent(String(e.colId))),method:"GET",headers:l,query:n},t);return new Vi(a,r=>mn(r))}async colIdRecentGet(e,t){return await(await this.colIdRecentGetRaw(e,t)).value()}async colIdSearchGetRaw(e,t){if(e.colId===null||e.colId===void 0)throw new Ge("colId","Required parameter requestParameters.colId was null or undefined when calling colIdSearchGet.");if(e.q===null||e.q===void 0)throw new Ge("q","Required parameter requestParameters.q was null or undefined when calling colIdSearchGet.");const n={};e.ord!==void 0&&(n.ord=e.ord),e.group!==void 0&&(n.group=e.group),e.q!==void 0&&(n.q=e.q);const l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/{col_id}/search".replace("{col_id}",encodeURIComponent(String(e.colId))),method:"GET",headers:l,query:n},t);return new Vi(a,r=>mn(r))}async colIdSearchGet(e,t){return await(await this.colIdSearchGetRaw(e,t)).value()}async collectionsGetRaw(e){const t={},n={};if(this.configuration&&this.configuration.accessToken){const a=this.configuration.accessToken,r=await a("bearerAuth",[]);r&&(n.Authorization=`Bearer ${r}`)}const l=await this.request({path:"/collections/",method:"GET",headers:n,query:t},e);return new Vi(l,a=>ru(a))}async collectionsGet(e){return await(await this.collectionsGetRaw(e)).value()}}class cu extends $t{async positionsGroupGetRaw(e,t){if(e.group===null||e.group===void 0)throw new Ge("group","Required parameter requestParameters.group was null or undefined when calling positionsGroupGet.");const n={};e.finished!==void 0&&(n.finished=e.finished),e.unfinished!==void 0&&(n.unfinished=e.unfinished),e.from!==void 0&&(n.from=e.from),e.to!==void 0&&(n.to=e.to);const l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/positions/{group}".replace("{group}",encodeURIComponent(String(e.group))),method:"GET",headers:l,query:n},t);return new Vi(a,r=>r.map(hn))}async positionsGroupGet(e,t){return await(await this.positionsGroupGetRaw(e,t)).value()}async positionsGroupLastGetRaw(e,t){if(e.group===null||e.group===void 0)throw new Ge("group","Required parameter requestParameters.group was null or undefined when calling positionsGroupLastGet.");const n={},l={};if(this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/positions/{group}/last".replace("{group}",encodeURIComponent(String(e.group))),method:"GET",headers:l,query:n},t);return new Vi(a,r=>hn(r))}async positionsGroupLastGet(e,t){return await(await this.positionsGroupLastGetRaw(e,t)).value()}async positionsGroupPostRaw(e,t){if(e.group===null||e.group===void 0)throw new Ge("group","Required parameter requestParameters.group was null or undefined when calling positionsGroupPost.");if(e.position===null||e.position===void 0)throw new Ge("position","Required parameter requestParameters.position was null or undefined when calling positionsGroupPost.");const n={},l={};if(l["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const r=this.configuration.accessToken,u=await r("bearerAuth",[]);u&&(l.Authorization=`Bearer ${u}`)}const a=await this.request({path:"/positions/{group}".replace("{group}",encodeURIComponent(String(e.group))),method:"POST",headers:l,query:n,body:du(e.position)},t);return new Qa(a)}async positionsGroupPost(e,t){await this.positionsGroupPostRaw(e,t)}}class fu{constructor(e){_e(this,"socketUrl");_e(this,"closed");_e(this,"filePath");_e(this,"failures");_e(this,"socket");_e(this,"lastSend");_e(this,"pendingPosition");_e(this,"pendingPositionTimeout");_e(this,"pendingQuery");_e(this,"pendingQueryTimeout");_e(this,"pendingQueryAnswer");_e(this,"pendingQueryReject");_e(this,"pendingOpen",null);_e(this,"config");_e(this,"_groupPrefix");_e(this,"_enabled");this.socketUrl=Yr(e.development,e.developmentPort)+"/position",this.closed=!1,this.filePath=null,this._groupPrefix=null,this.failures=0,this._enabled=!0,this._groupPrefix=e.group,this.config=e}get groupPrefix(){return this._enabled?this._groupPrefix:null}set groupPrefix(e){this._groupPrefix=e}disable(){this._enabled=!1}try_open(){this.pendingOpen!=null||this.opening||(this.pendingOpen=window.setTimeout(()=>{this.open(),this.pendingOpen=null},Math.min(1e4,this.failures<3?0:(this.failures-2)*500)))}open(){this.closed=!1,console.debug("Opening ws on url "+this.socketUrl);const e=new WebSocket(this.socketUrl);e.addEventListener("error",t=>{console.error(`Web socket error (in row ${this.failures})`,t),this.failures+=1}),e.addEventListener("close",t=>{this.socket=null,console.debug("Web socket close",t)}),e.addEventListener("open",t=>{this.failures=0,this.filePath=null,this.lastSend=null,console.debug("Web socket is ready"),this.pendingPosition&&(new Date().getTime()-this.pendingPosition.timestamp.getTime()<3e8&&this.enqueuePosition(this.pendingPosition.filePath,this.pendingPosition.position,this.pendingPosition.timestamp),this.pendingPosition=null),this.pendingQuery&&(this.socket.send(this.pendingQuery),this.pendingQuery=null)}),e.addEventListener("message",t=>{console.debug("Got message "+t.data);const n=JSON.parse(t.data),l=a=>{if(a&&a.folder){const[r,u]=/^(\d+)\//.exec(a.folder);a.folder=a.folder.substr(r.length),a.collection=parseInt(u)}};l(n.folder),l(n.last),this.pendingQueryAnswer&&(this.pendingQueryTimeout&&clearInterval(this.pendingQueryTimeout),this.pendingQueryTimeout=null,this.pendingQueryAnswer(n),this.pendingQueryAnswer=null,this.pendingQueryReject=null)}),this.socket=e}close(){this.closed=!0,this.socket.close(),this.socket=null}enqueuePosition(e,t,n=null){if(this.pendingPositionTimeout&&(window.clearTimeout(this.pendingPositionTimeout),this.pendingPositionTimeout=null),!!this.groupPrefix){if(!this.active){this.pendingPosition={filePath:e,position:t,timestamp:new Date},this.try_open();return}if(e=this.groupPrefix+e,this.filePath&&this.lastSend&&e==this.filePath){const l=(Date.now()-this.lastSend.timestamp.getTime())/1e3,a=Math.abs(t-this.lastSend.position);l>=this.config.positionReportingPeriod||a>this.config.positionReportingPeriod?this.sendMessage(t):this.pendingPositionTimeout=window.setTimeout(()=>{this.sendMessage(t),this.pendingPositionTimeout=null},this.config.positionReportingPeriod*1e3)}else this.filePath=e,this.sendMessage(t,e,n)}}sendMessage(e,t,n){if(this.active){e=Math.round(e*10)/10;let l=e.toString()+"|";t&&(l+=t),n&&(l+="|"+Math.round(n.getTime()/1e3)),this.socket.send(l),this.lastSend={position:e,timestamp:new Date}}else console.error("Cannot send message, socket not ready")}queryPosition(e){if(this.pendingQueryReject&&(this.pendingQueryTimeout&&(clearTimeout(this.pendingQueryTimeout),this.pendingQueryTimeout=null),this.pendingQueryReject(new Error("Canceled by next query")),this.pendingQueryAnswer=null,this.pendingQueryReject=null),this.groupPrefix&&this.active){const t=this._makeQueryPromise();return this.socket.send(e?this.groupPrefix+e:"?"),t}else return this.groupPrefix&&!this.active?(this.pendingQuery=e?this.groupPrefix+e:"?",this.try_open(),this._makeQueryPromise()):Promise.resolve(null)}_makeQueryPromise(){return new Promise((e,t)=>{this.pendingQueryAnswer=e,this.pendingQueryReject=t,this.pendingQueryTimeout=window.setTimeout(()=>{t(new Error("Timeout")),this.pendingQueryTimeout=null,this.pendingQueryReject=null,this.pendingQueryAnswer=null,this.pendingQuery=null},3e3)})}get active(){return!this.closed&&this.socket&&this.socket.readyState==WebSocket.OPEN}get opening(){return this.socket&&this.socket.readyState==WebSocket.CONNECTING}}class Ct{constructor(e){_e(this,"id");_e(this,"url");_e(this,"duration");_e(this,"name");_e(this,"path");_e(this,"startPlay");_e(this,"cached");_e(this,"time");_e(this,"mime");var t;this.id=e.file.id,this.url=this.constructURLWithId(e.file.id,e.collection),this.duration=(t=e.file.meta)==null?void 0:t.duration,this.name=e.file.name,this.path=e.file.path,this.cached=e.file.cached,this.startPlay=e.startPlay,this.time=e.time,this.mime=e.file.mime}constructURLWithId(e,t){const n=Ot(zi).basePath,l=t??Ot(je);let a=n+"/"+l+"/media/"+e;const u=new URLSearchParams().toString();return u&&(a+="?"+u),a}createMediaSourceUrl(){const e=new MediaSource;return e.addEventListener("sourceopen",t=>{console.debug("Media source opened",t),fetch(this.url,{credentials:"include"}).then(n=>{if(n.status>=400)throw new Error("Error response from server: "+n.status);let l=n.headers.get("Content-Type");if(!MediaSource.isTypeSupported(l))throw new Error(`Mime type ${l} is not supported as MediaSource`);const a=e.addSourceBuffer(l),r=n.body.getReader();let u=({done:c,value:f})=>{c?console.debug("End of stream for "+this.url):(console.debug(`Read ${f.length} bytes`),a.appendBuffer(f))};r.read().then(u),a.addEventListener("updateend",()=>r.read().then(u)),a.addEventListener("error",c=>{console.error("Media stream error",c)})}).catch(n=>{console.error("Media source error",n),e.endOfStream("network")})}),URL.createObjectURL(e)}}function Ei(i,e){var t={},n=fi[i];return t[n]=e,t}const ta="REPLACE_ENV",na="REPLACE_VERSION",la="REPLACE_COMMIT_HASH",ra=ta==="DEVELOPMENT",Ri=Ne(!0),zi=Ne(new Tt),Ui=Ne(localStorage.getItem(Re.GROUP)),Gt=Ne(),je=Ne(),Ue=Ne(void 0),Bi=Ne(void 0),Qi=Ne(null),_n=Ne(0),Ht=Ne(void 0),at=Ne(void 0),en=Ne([]),Lt=Ne(Mi.Off),ki=Ne(!1),it=Ne(void 0),xi=Ne(!1),Ut=Ne(void 0),aa=Ne(void 0),tn=Et(zi,i=>new su(i)),hu=Et([zi,Ui],([i,e])=>Ui?new cu(i):null),mu=()=>{const i=localStorage.getItem(Re.PREFERENCES);let e=Va;if(i)try{const t=JSON.parse(i);e=Object.assign(e,t)}catch{console.error("Invalid preferences")}return e},Ii=Ne(mu()),_u=Et([Ii,zi,Ui],([i,e,t])=>new fu({development:ra,developmentPort:3e3,positionReportingPeriod:i.positionReportingPeriod,group:t}));function gn(){return{width:window.innerWidth,height:window.innerHeight}}const nn=Zr(gn(),i=>{window.addEventListener("resize",()=>i(gn()))}),li=Ne(0);let kt,qt,Jt,Zt,ua;Ht.subscribe(i=>i);Bi.subscribe(i=>kt=i);ki.subscribe(i=>qt=i);Qi.subscribe(i=>Jt=i);en.subscribe(i=>Zt=i);at.subscribe(i=>ua=i);let ri=new WebSocket(Yr(!0,3e3)+"/ws");ri.addEventListener("open",()=>{console.log("WebSocket opened");let i=Ei(fi.RegisterDevice,{name:Da()});ri.send(JSON.stringify(i))});ri.addEventListener("error",i=>{console.error("Web socket error",i)});ri.addEventListener("close",i=>{console.debug("Web socket close",i)});ri.addEventListener("message",i=>{console.debug("evt: ",i);const e=JSON.parse(i.data),t=Object.keys(e)[0],n=e[t];switch(pi[t]){case pi.RewindToEvent:{const r=n.time;r>0&&(console.log("RewindTo: ",r),Ut.set(r));break}case pi.CurrentPosEvent:{const r=n.track_id,u=n.time;if(!Qi)return;if(!kt||kt.id!==r){console.log("CurrentPosEvent id=",r);const c=Jt.files.get(r),f=!1,_=new Ct({file:c,startPlay:f,time:u});Bi.set(_),je.set(n.collection)}else kt.time=u;qt||(console.log("isPlayingState: ",qt),ki.set(!0)),it.set(u);break}case pi.PauseEvent:ki.set(!1),console.log("isPlaying: ",ki);break;case pi.ResumeEvent:ki.set(!0);break;case pi.PlayTrackEvent:{const r=n.track_id;ki.set(!1);const u=Jt.files.get(r),c=0,f=!0;je.set(n.collection);const _=new Ct({file:u,startPlay:f,time:c});Bi.set(_);break}case pi.VolumeChangeEvent:{aa.set(n.value);break}case pi.DevicesOnlineEvent:{en.set(n.devices);for(let r of Zt)if(r.active){at.set(r.id);break}console.log("Devices: ",Zt),console.log("Selected device: "+ua);break}case pi.RegisterDeviceEvent:console.debug("RegisterDeviceEvent"),Ht.set(n.device_id);break;case pi.MakeDeviceActiveEvent:at.set(n.device_id);break;case pi.SwitchShuffleEvent:const a=n.mode;Lt.set(a);break}});var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wt={};wt.byteLength=vu;wt.toByteArray=yu;wt.fromByteArray=Pu;var Hi=[],vi=[],wu=typeof Uint8Array<"u"?Uint8Array:Array,Mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $i=0,pu=Mt.length;$i<pu;++$i)Hi[$i]=Mt[$i],vi[Mt.charCodeAt($i)]=$i;vi["-".charCodeAt(0)]=62;vi["_".charCodeAt(0)]=63;function da(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=i.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function vu(i){var e=da(i),t=e[0],n=e[1];return(t+n)*3/4-n}function ku(i,e,t){return(e+t)*3/4-t}function yu(i){var e,t=da(i),n=t[0],l=t[1],a=new wu(ku(i,n,l)),r=0,u=l>0?n-4:n,c;for(c=0;c<u;c+=4)e=vi[i.charCodeAt(c)]<<18|vi[i.charCodeAt(c+1)]<<12|vi[i.charCodeAt(c+2)]<<6|vi[i.charCodeAt(c+3)],a[r++]=e>>16&255,a[r++]=e>>8&255,a[r++]=e&255;return l===2&&(e=vi[i.charCodeAt(c)]<<2|vi[i.charCodeAt(c+1)]>>4,a[r++]=e&255),l===1&&(e=vi[i.charCodeAt(c)]<<10|vi[i.charCodeAt(c+1)]<<4|vi[i.charCodeAt(c+2)]>>2,a[r++]=e>>8&255,a[r++]=e&255),a}function Cu(i){return Hi[i>>18&63]+Hi[i>>12&63]+Hi[i>>6&63]+Hi[i&63]}function Lu(i,e,t){for(var n,l=[],a=e;a<t;a+=3)n=(i[a]<<16&16711680)+(i[a+1]<<8&65280)+(i[a+2]&255),l.push(Cu(n));return l.join("")}function Pu(i){for(var e,t=i.length,n=t%3,l=[],a=16383,r=0,u=t-n;r<u;r+=a)l.push(Lu(i,r,r+a>u?u:r+a));return n===1?(e=i[t-1],l.push(Hi[e>>2]+Hi[e<<4&63]+"==")):n===2&&(e=(i[t-2]<<8)+i[t-1],l.push(Hi[e>>10]+Hi[e>>4&63]+Hi[e<<2&63]+"=")),l.join("")}async function Au(i){let e=new TextEncoder().encode(i),t=new Uint8Array(32);window.crypto.getRandomValues(t);let n=new Uint8Array(e.length+t.length);n.set(e),n.set(t,e.length);let l;window.crypto.subtle?l=window.crypto.subtle.digest("SHA-256",n):console.error("Crypto subtle is not available - too old browser. CLIENT WILL NOT WORK!");const a=await l;return wt.fromByteArray(t)+"|"+wt.fromByteArray(new Uint8Array(a))}function Su(){document.cookie="audioserve_token=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function Eu(i){let e;return{c(){e=L("p"),e.textContent=`Service Worker is not available. You're probably not using secure\r
      connection connection with trusted server certificate or you have old\r
      browser. Some functionality (especially caching) will not be available.`,o(e,"class","warning"),o(e,"role","alert")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function bn(i){let e;return{c(){e=L("p"),e.textContent="Login failed!",o(e,"class","warning"),o(e,"role","alert")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function zu(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A,R,z,j,q=i[3]==null&&Eu(),T=i[2]&&bn();return{c(){e=L("div"),t=L("h1"),t.textContent="Audioserve Login",n=F(),q&&q.c(),l=F(),T&&T.c(),a=F(),r=L("form"),u=L("label"),u.textContent="Shared Secret",c=F(),f=L("input"),_=F(),w=L("label"),w.textContent="Playback Group",b=F(),d=L("input"),A=F(),R=L("button"),R.textContent="Log in",o(u,"for","shared-secret"),o(f,"type","password"),o(f,"name","shared-secret"),o(f,"id","shared-secret"),o(w,"for","playback-group"),o(d,"type","text"),o(d,"name","playback-group"),o(d,"id","playback-group"),o(R,"id","login-button"),o(e,"class","login")},m(s,h){E(s,e,h),g(e,t),g(e,n),q&&q.m(e,null),g(e,l),T&&T.m(e,null),g(e,a),g(e,r),g(r,u),g(r,c),g(r,f),he(f,i[0]),g(r,_),g(r,w),g(r,b),g(r,d),he(d,i[1]),g(r,A),g(r,R),z||(j=[Z(f,"input",i[5]),Z(d,"input",i[6]),Z(r,"submit",Ye(i[4]))],z=!0)},p(s,[h]){s[2]?T||(T=bn(),T.c(),T.m(e,a)):T&&(T.d(1),T=null),h&1&&f.value!==s[0]&&he(f,s[0]),h&2&&d.value!==s[1]&&he(d,s[1])},i:J,o:J,d(s){s&&S(e),q&&q.d(),T&&T.d(),z=!1,Be(j)}}}function Tu(i,e,t){let n,l,a;te(i,Ri,d=>t(7,n=d)),te(i,Ui,d=>t(8,l=d)),te(i,zi,d=>t(9,a=d));let r,u=localStorage.getItem(Re.GROUP),c=!1;const f=rt("cache");async function _(){if(console.debug("Initiating client login"),t(2,c=!1),r){const d=await Au(r),A=new Wa(a);try{const R=await A.authenticatePost({secret:d});console.debug("Client succesfully authenticated with server"),ae(Ri,n=!0,n),zi.update(z=>new Tt({basePath:z.basePath,credentials:z.credentials})),u?(localStorage.setItem(Re.GROUP,u),ae(Ui,l=u,l)):localStorage.removeItem(Re.GROUP)}catch(R){console.error("Login error",R),t(2,c=!0),ae(Ri,n=!1,n)}t(0,r="")}}function w(){r=this.value,t(0,r)}function b(){u=this.value,t(1,u)}return[r,u,c,f,_,w,b]}class Hu extends se{constructor(e){super(),oe(this,e,Tu,zu,de,{})}}function wn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function pn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Ru(i){let e,t,n,l=i[7]&&wn(i),a=i[6]&&pn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=wn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=pn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Bu(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class Iu extends se{constructor(e){super(),oe(this,e,Bu,Ru,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Mu(i){return i.length==0?"":i[0].toUpperCase()+i.slice(1)}function Ou(i,e){const t=new URL(i);let n=decodeURIComponent(t.pathname);e&&(n=n.substring(e.length));const l=n.split("/");return{collection:parseInt(l[1]),path:l.slice(3).join("/")}}function Qt(i){let e=i.lastIndexOf("/");return e<0&&(e=i.lastIndexOf("\\")),e>=0?{folder:i.substring(0,e),file:i.substring(e+1)}:{file:i}}function Fu(i){if(!i)return{path:""};let e=i.indexOf("/");return e<0&&(e=i.lastIndexOf("\\")),e>=0?{root:i.substring(0,e),path:i.substring(e+1)}:{path:i}}function oa(i){const e=i.path.lastIndexOf(".");if(e>=0){const t=i.path.substring(e);return{baseName:i.name.endsWith(t)?i.name.substring(0,i.name.length-t.length):i.name,extension:t.substring(1)}}else return{baseName:i.name}}function Nu(i){if(/\$\$/.test(i)){const t=i.split("$$");if(t.length===2)i=i.replace("$$"," ");else{if(t.length===3)return t[0];if(t.length==4)return t[1]}}const e=i.lastIndexOf(".");return e>0?i.substring(0,e):i}function Pt(i){return i?i instanceof Array?i.length>0:Object.keys(i).length>0:!1}function ut(i){return[...i].sort()}const Du="api",Vu=864e5,ju=26,Wt=770;function ln(i,e){const t=n=>{!i.contains(n.target)&&(!e||!e.contains(n.target))&&i.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function Gu(i){i.focus()}class sa{constructor(e,t=ju){this.container=e,this.scrollOffset=t}needScroll(e){const t=this.container.scrollTop,n=t+this.container.clientHeight,l=e.offsetTop,a=l+e.clientHeight;return l>=t&&a<=n?2:a>n?0:1}scrollToView(e){const t=this.needScroll(e);t!==2&&(e.scrollIntoView(t===1),t===0&&this.container.scrollBy({top:this.scrollOffset}))}}function vn(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A,R,z,j,q,T,s,h,m=i[2]&&kn(i),p=i[3]&&Uu(i);return{c(){e=L("div"),t=L("aside"),n=L("nav"),l=L("ul"),m&&m.c(),a=F(),r=L("li"),u=L("a"),u.textContent="Logout",c=F(),f=L("li"),_=L("a"),_.textContent=`${Mu(Wr())} Theme`,w=F(),b=L("li"),d=L("a"),d.textContent="Preferences",A=F(),p&&p.c(),R=F(),z=L("li"),j=L("a"),j.textContent="About",o(u,"href","#"),o(u,"data-menu","logout"),o(u,"class","svelte-18c7wvm"),o(_,"href","#"),o(_,"data-menu","switch-theme"),o(_,"class","svelte-18c7wvm"),o(d,"href","#"),o(d,"data-menu","show-preferences"),o(d,"class","svelte-18c7wvm"),o(j,"href","#"),o(j,"data-menu","about"),o(j,"class","svelte-18c7wvm"),o(t,"class","dropdown-content svelte-18c7wvm"),o(t,"style",q=i[0]?"":"display:none")},m(k,C){E(k,e,C),g(e,t),g(t,n),g(n,l),m&&m.m(l,null),g(l,a),g(l,r),g(r,u),g(l,c),g(l,f),g(f,_),g(l,w),g(l,b),g(b,d),g(l,A),p&&p.m(l,null),g(l,R),g(l,z),g(z,j),s||(h=[Z(u,"click",Ye(i[4])),Z(_,"click",Ye(i[4])),Z(d,"click",Ye(i[4])),Z(j,"click",Ye(i[4])),dt(T=ln.call(null,e,i[1])),Z(e,"outclick",i[7])],s=!0)},p(k,C){k[2]?m?m.p(k,C):(m=kn(k),m.c(),m.m(l,a)):m&&(m.d(1),m=null),k[3]&&p.p(k,C),C&1&&q!==(q=k[0]?"":"display:none")&&o(t,"style",q),T&&Ci(T.update)&&C&2&&T.update.call(null,k[1])},d(k){k&&S(e),m&&m.d(),p&&p.d(),s=!1,Be(h)}}}function kn(i){let e,t,n,l;return{c(){e=L("li"),t=L("a"),t.textContent="Recently Listened",o(t,"href","#"),o(t,"data-menu","recent"),o(t,"class","svelte-18c7wvm")},m(a,r){E(a,e,r),g(e,t),n||(l=Z(t,"click",Ye(i[4])),n=!0)},p:J,d(a){a&&S(e),n=!1,l()}}}function Uu(i){let e,t,n,l,a,r,u;return{c(){e=L("li"),t=L("a"),t.textContent="Cache Current Folder",n=F(),l=L("li"),a=L("a"),a.textContent="Clear Cache",o(t,"href","#"),o(t,"data-menu","download"),o(t,"class","svelte-18c7wvm"),o(a,"href","#"),o(a,"data-menu","clear-cache"),o(a,"class","svelte-18c7wvm")},m(c,f){E(c,e,f),g(e,t),E(c,n,f),E(c,l,f),g(l,a),r||(u=[Z(t,"click",Ye(i[4])),Z(a,"click",Ye(i[4]))],r=!0)},p:J,d(c){c&&(S(e),S(n),S(l)),r=!1,Be(u)}}}function qu(i){let e,t,n,l,a,r,u;n=new Iu({props:{size:"1.9rem"}});let c=i[0]&&vn(i);return{c(){e=L("div"),t=L("a"),re(n.$$.fragment),l=F(),c&&c.c(),o(t,"href","#"),o(t,"aria-label","Menu"),o(t,"aria-expanded",i[0]),o(t,"id","main-menu-button"),o(t,"class","svelte-18c7wvm"),o(e,"class","dropdown svelte-18c7wvm")},m(f,_){E(f,e,_),g(e,t),ne(n,t,null),i[6](t),g(e,l),c&&c.m(e,null),a=!0,r||(u=Z(t,"click",Ye(i[5])),r=!0)},p(f,[_]){(!a||_&1)&&o(t,"aria-expanded",f[0]),f[0]?c?c.p(f,_):(c=vn(f),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(f){a||(I(n.$$.fragment,f),a=!0)},o(f){V(n.$$.fragment,f),a=!1},d(f){f&&S(e),le(n),i[6](null),c&&c.d(),r=!1,u()}}}function Ju(i,e,t){let n;te(i,Ui,b=>t(2,n=b));const l=Yi(),a=rt("cache");let r=!1,u;function c(b){t(0,r=!1);const d=b.target.dataset.menu;l("menu",d)}const f=()=>t(0,r=!r);function _(b){We[b?"unshift":"push"](()=>{u=b,t(1,u)})}return[r,u,n,a,c,f,_,()=>t(0,r=!1)]}class Zu extends se{constructor(e){super(),oe(this,e,Ju,qu,de,{})}}function yn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Cn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Qu(i){let e,t,n,l=i[7]&&yn(i),a=i[6]&&Cn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=yn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Cn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Wu(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class Yu extends se{constructor(e){super(),oe(this,e,Wu,Qu,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Ln(i,e,t){const n=i.slice();return n[12]=e[t],n}function Pn(i){let e,t,n,l,a,r,u,c,f=Ke(i[3]),_=[];for(let w=0;w<f.length;w+=1)_[w]=Sn(Ln(i,f,w));return{c(){e=L("div"),t=L("aside"),n=L("nav"),l=L("ul");for(let w=0;w<_.length;w+=1)_[w].c();o(t,"class","dropdown-content-devices svelte-16px64t"),o(t,"style",a=i[0]?"":"display:none")},m(w,b){E(w,e,b),g(e,t),g(t,n),g(n,l);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(l,null);u||(c=[dt(r=ln.call(null,e,i[1])),Z(e,"outclick",i[10])],u=!0)},p(w,b){if(b&60){f=Ke(w[3]);let d;for(d=0;d<f.length;d+=1){const A=Ln(w,f,d);_[d]?_[d].p(A,b):(_[d]=Sn(A),_[d].c(),_[d].m(l,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=f.length}b&1&&a!==(a=w[0]?"":"display:none")&&o(t,"style",a),r&&Ci(r.update)&&b&2&&r.update.call(null,w[1])},d(w){w&&S(e),Fi(_,w),u=!1,Be(c)}}}function An(i){let e;return{c(){e=U("(this)")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function Sn(i){let e,t,n,l=!1,a,r,u=i[12].name+"",c,f,_,w,b,d,A,R=i[4]===i[12].id&&An();return b=Ur(i[9][0]),{c(){e=L("li"),t=L("input"),r=L("label"),c=U(u),f=F(),R&&R.c(),w=F(),o(t,"type","radio"),o(t,"name","activeDevice"),t.__value=n=i[12].id,he(t,t.__value),o(t,"id",a="radio-"+i[12].id),o(r,"for",_="radio-"+i[12].id),o(e,"class","option svelte-16px64t"),b.p(t)},m(z,j){E(z,e,j),g(e,t),t.checked=t.__value===i[2],g(e,r),g(r,c),g(r,f),R&&R.m(r,null),g(e,w),d||(A=[Z(t,"change",i[8]),Z(t,"change",i[5])],d=!0)},p(z,j){j&8&&n!==(n=z[12].id)&&(t.__value=n,he(t,t.__value),l=!0),j&8&&a!==(a="radio-"+z[12].id)&&o(t,"id",a),(l||j&12)&&(t.checked=t.__value===z[2]),j&8&&u!==(u=z[12].name+"")&&K(c,u),z[4]===z[12].id?R||(R=An(),R.c(),R.m(r,null)):R&&(R.d(1),R=null),j&8&&_!==(_="radio-"+z[12].id)&&o(r,"for",_)},d(z){z&&S(e),R&&R.d(),b.r(),d=!1,Be(A)}}}function Ku(i){let e,t,n,l,a,r,u;n=new Yu({props:{size:"1.9rem"}});let c=i[0]&&Pn(i);return{c(){e=L("div"),t=L("a"),re(n.$$.fragment),l=F(),c&&c.c(),o(t,"href","#"),o(t,"aria-label","Device list"),o(t,"aria-expanded",i[0]),o(t,"id","device-list-button"),o(t,"class","svelte-16px64t"),o(e,"class","dropdown svelte-16px64t")},m(f,_){E(f,e,_),g(e,t),ne(n,t,null),i[7](t),g(e,l),c&&c.m(e,null),a=!0,r||(u=Z(t,"click",Ye(i[6])),r=!0)},p(f,[_]){(!a||_&1)&&o(t,"aria-expanded",f[0]),f[0]?c?c.p(f,_):(c=Pn(f),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(f){a||(I(n.$$.fragment,f),a=!0)},o(f){V(n.$$.fragment,f),a=!1},d(f){f&&S(e),le(n),i[7](null),c&&c.d(),r=!1,u()}}}function Xu(i,e,t){let n,l,a;te(i,at,A=>t(2,n=A)),te(i,en,A=>t(3,l=A)),te(i,Ht,A=>t(4,a=A)),Yi();let r=!1,u;function c(){let A=Ei(fi.MakeDeviceActive,{device_id:n});ri.send(JSON.stringify(A)),console.log("Sending make device active: ",A),t(0,r=!1)}const f=[[]],_=()=>t(0,r=!r);function w(A){We[A?"unshift":"push"](()=>{u=A,t(1,u)})}function b(){n=this.__value,at.set(n)}return[r,u,n,l,a,c,_,w,b,f,()=>t(0,r=!1)]}class xu extends se{constructor(e){super(),oe(this,e,Xu,Ku,de,{})}}function En(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function zn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function $u(i){let e,t,n,l=i[7]&&En(i),a=i[6]&&zn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=En(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=zn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function ed(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class id extends se{constructor(e){super(),oe(this,e,ed,$u,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Tn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Hn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function td(i){let e,t,n,l=i[7]&&Tn(i),a=i[6]&&Hn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M19.5,9V1.5H16.5V9H13.5V1.5H10.5V9H7.5V1.5H4.65V9H3V10.5H21V9H19.5M19.5,13.5H16.5V21H13.5V13.5H10.5V21H7.5V13.5H4.65V21H3V22.5H21V21H19.5V13.5Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Tn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Hn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function nd(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class ld extends se{constructor(e){super(),oe(this,e,nd,td,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Rn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Bn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function rd(i){let e,t,n,l=i[7]&&Rn(i),a=i[6]&&Bn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Rn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Bn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function ad(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class ca extends se{constructor(e){super(),oe(this,e,ad,rd,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function In(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Mn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function ud(i){let e,t,n,l=i[7]&&In(i),a=i[6]&&Mn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M9,1V7H5L12,14L19,7H15V1H9M5,16V18H19V16H5M5,20V22H19V20H5Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=In(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Mn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function dd(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class od extends se{constructor(e){super(),oe(this,e,dd,ud,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function On(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Fn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function sd(i){let e,t,n,l=i[7]&&On(i),a=i[6]&&Fn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M9,11H12.63L9,15.2V17H15V15H11.37L15,10.8V9H9V11Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=On(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Fn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function cd(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class fa extends se{constructor(e){super(),oe(this,e,cd,sd,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Nn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Dn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function fd(i){let e,t,n,l=i[7]&&Nn(i),a=i[6]&&Dn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M8,3.28L6.6,1.86L5.74,2.57L7.16,4M16.47,18.39C15.26,19.39 13.7,20 12,20A7,7 0 0,1 5,13C5,11.3 5.61,9.74 6.61,8.53M2.92,2.29L1.65,3.57L3,4.9L1.87,5.83L3.29,7.25L4.4,6.31L5.2,7.11C3.83,8.69 3,10.75 3,13A9,9 0 0,0 12,22C14.25,22 16.31,21.17 17.89,19.8L20.09,22L21.36,20.73L3.89,3.27L2.92,2.29M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72M12,6A7,7 0 0,1 19,13C19,13.84 18.84,14.65 18.57,15.4L20.09,16.92C20.67,15.73 21,14.41 21,13A9,9 0 0,0 12,4C10.59,4 9.27,4.33 8.08,4.91L9.6,6.43C10.35,6.16 11.16,6 12,6Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Nn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Dn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function hd(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class ha extends se{constructor(e){super(),oe(this,e,hd,fd,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Vn(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function jn(i){let e,t=i[6]+"",n;return{c(){e=L("option"),n=U(t),e.__value=i[8],he(e,e.__value)},m(l,a){E(l,e,a),g(e,n)},p(l,a){a&2&&t!==(t=l[6]+"")&&K(n,t)},d(l){l&&S(e)}}}function md(i){let e,t,n,l=Ke(i[1]),a=[];for(let r=0;r<l.length;r+=1)a[r]=jn(Vn(i,l,r));return{c(){e=L("select");for(let r=0;r<a.length;r+=1)a[r].c();o(e,"name","collection"),i[0]===void 0&&bt(()=>i[3].call(e))},m(r,u){E(r,e,u);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);dn(e,i[0],!0),t||(n=[Z(e,"change",i[3]),Z(e,"change",i[2])],t=!0)},p(r,[u]){if(u&2){l=Ke(r[1]);let c;for(c=0;c<l.length;c+=1){const f=Vn(r,l,c);a[c]?a[c].p(f,u):(a[c]=jn(f),a[c].c(),a[c].m(e,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=l.length}u&1&&dn(e,r[0])},i:J,o:J,d(r){r&&S(e),Fi(a,r),t=!1,Be(n)}}}function _d(i,e,t){let n;te(i,je,f=>t(4,n=f));let{selected:l=0}=e,a=[];const r=Gt.subscribe(f=>{f&&t(1,a=f.names)});pt(r);function u(){ae(je,n=l,n)}function c(){l=za(this),t(0,l)}return i.$$set=f=>{"selected"in f&&t(0,l=f.selected)},[l,a,u,c]}class gd extends se{constructor(e){super(),oe(this,e,_d,md,de,{selected:0})}}var rn=(i=>(i[i.FileCached=0]="FileCached",i[i.FileDeleted=1]="FileDeleted",i))(rn||{});function Gn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Un(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function bd(i){let e,t,n,l=i[7]&&Gn(i),a=i[6]&&Un(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Gn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Un(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function wd(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class ma extends se{constructor(e){super(),oe(this,e,wd,bd,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function qn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Jn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function pd(i){let e,t,n,l=i[7]&&qn(i),a=i[6]&&Jn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M19 17H22L18 21L14 17H17V3H19M11 13V15L7.67 19H11V21H5V19L8.33 15H5V13M9 3H7C5.9 3 5 3.9 5 5V11H7V9H9V11H11V5C11 3.9 10.11 3 9 3M9 7H7V5H9Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=qn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Jn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function vd(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class kd extends se{constructor(e){super(),oe(this,e,vd,pd,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Zn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Qn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function yd(i){let e,t,n,l=i[7]&&Zn(i),a=i[6]&&Qn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M20 17H23L19 21L15 17H18V3H20V17M8 5C4.14 5 1 8.13 1 12C1 15.87 4.13 19 8 19C11.86 19 15 15.87 15 12C15 8.13 11.87 5 8 5M8 7.15C10.67 7.15 12.85 9.32 12.85 12C12.85 14.68 10.68 16.85 8 16.85C5.32 16.85 3.15 14.68 3.15 12C3.15 9.32 5.32 7.15 8 7.15M7 9V12.69L10.19 14.53L10.94 13.23L8.5 11.82V9"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Zn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Qn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Cd(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class Ld extends se{constructor(e){super(),oe(this,e,Cd,yd,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Gi(i){if(!isFinite(i))return"?";if(i<0)return"00:00";let e=0,t=Math.floor(i/60),n=Math.floor(i%60);return n=("0"+n).slice(-2),t>=60&&(e=Math.floor(t/60),t=t-e*60,t=("0"+t).slice(-2)),e?`${e}:${t}:${n}`:`${t}:${n}`}function Wn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Yn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Pd(i){let e,t,n,l=i[7]&&Wn(i),a=i[6]&&Yn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M19,8L15,12H18A6,6 0 0,1 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20A8,8 0 0,0 20,12H23M6,12A6,6 0 0,1 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4A8,8 0 0,0 4,12H1L5,16L9,12"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Wn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Yn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Ad(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class _a extends se{constructor(e){super(),oe(this,e,Ad,Pd,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Kn(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Xn(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Sd(i){let e,t,n,l=i[7]&&Kn(i),a=i[6]&&Xn(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M8,5.14V19.14L19,12.14L8,5.14Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Kn(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Xn(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Ed(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class ga extends se{constructor(e){super(),oe(this,e,Ed,Sd,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function xn(i){return Object.prototype.toString.call(i)==="[object Date]"}function Yt(i,e,t,n){if(typeof t=="number"||xn(t)){const l=n-t,a=(t-e)/(i.dt||1/60),r=i.opts.stiffness*l,u=i.opts.damping*a,c=(r-u)*i.inv_mass,f=(a+c)*i.dt;return Math.abs(f)<i.opts.precision&&Math.abs(l)<i.opts.precision?n:(i.settled=!1,xn(t)?new Date(t.getTime()+f):t+f)}else{if(Array.isArray(t))return t.map((l,a)=>Yt(i,e[a],t[a],n[a]));if(typeof t=="object"){const l={};for(const a in t)l[a]=Yt(i,e[a],t[a],n[a]);return l}else throw new Error(`Cannot spring ${typeof t} values`)}}function zd(i,e={}){const t=Ne(i),{stiffness:n=.15,damping:l=.8,precision:a=.01}=e;let r,u,c,f=i,_=i,w=1,b=0,d=!1;function A(z,j={}){_=z;const q=c={};return i==null||j.hard||R.stiffness>=1&&R.damping>=1?(d=!0,r=un(),f=z,t.set(i=_),Promise.resolve()):(j.soft&&(b=1/((j.soft===!0?.5:+j.soft)*60),w=0),u||(r=un(),d=!1,u=Pa(T=>{if(d)return d=!1,u=null,!1;w=Math.min(w+b,1);const s={inv_mass:w,opts:R,settled:!0,dt:(T-r)*60/1e3},h=Yt(s,f,i,_);return r=T,f=i,t.set(i=h),s.settled&&(u=null),!s.settled})),new Promise(T=>{u.promise.then(()=>{q===c&&T()})}))}const R={set:A,update:(z,j)=>A(z(_,i),j),subscribe:t.subscribe,stiffness:n,damping:l,precision:a};return R}function $n(i){let e,t,n,l;return n=new ma({props:{size:At+"rem"}}),{c(){e=L("div"),t=L("span"),re(n.$$.fragment),o(e,"class","play-slide-action svelte-h1kb8d"),ti(e,"opacity",i[11]*i[11]),ti(e,"top",`${i[10]}px`)},m(a,r){E(a,e,r),g(e,t),ne(n,t,null),l=!0},p(a,r){r&2048&&ti(e,"opacity",a[11]*a[11]),r&1024&&ti(e,"top",`${a[10]}px`)},i(a){l||(I(n.$$.fragment,a),l=!0)},o(a){V(n.$$.fragment,a),l=!1},d(a){a&&S(e),le(n)}}}function el(i){let e,t,n;return t=new ga({props:{size:"2rem"}}),{c(){e=L("div"),re(t.$$.fragment),o(e,"aria-label","Now playing")},m(l,a){E(l,e,a),ne(t,e,null),n=!0},i(l){n||(I(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&S(e),le(t)}}}function il(i){let e,t;return{c(){e=L("h6"),t=U(i[5]),o(e,"class","title svelte-h1kb8d")},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&32&&K(t,n[5])},d(n){n&&S(e)}}}function tl(i){let e,t;return{c(){e=L("span"),t=U(i[7]),o(e,"class","extension svelte-h1kb8d")},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function nl(i){let e,t,n;return t=new _a({props:{size:"1.2em"}}),{c(){e=L("span"),re(t.$$.fragment),o(e,"aria-label","Cached")},m(l,a){E(l,e,a),ne(t,e,null),n=!0},i(l){n||(I(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&S(e),le(t)}}}function Td(i){var M;let e,t,n,l,a,r,u,c,f,_,w,b,d,A,R=((M=i[0].meta)==null?void 0:M.bitrate)+"",z,j,q,T,s,h,m,p,k,C=i[11]>0&&$n(i),y=i[4]&&el(),P=i[5]&&il(i),D=i[7]&&tl(i),B=i[0].cached&&nl();return{c(){e=L("li"),C&&C.c(),t=F(),n=L("div"),y&&y.c(),l=F(),a=L("div"),r=L("h4"),u=U(i[6]),c=F(),P&&P.c(),f=F(),_=L("div"),w=L("span"),b=U(i[8]),d=F(),A=L("span"),z=U(R),j=U("kbps"),q=F(),D&&D.c(),T=F(),s=L("div"),B&&B.c(),o(r,"class","file-name item-header svelte-h1kb8d"),o(r,"role","link"),o(w,"class","time svelte-h1kb8d"),o(A,"class","bitrate svelte-h1kb8d"),o(_,"class","meta svelte-h1kb8d"),o(a,"class","info svelte-h1kb8d"),o(s,"class","icons svelte-h1kb8d"),o(n,"class","item svelte-h1kb8d"),o(n,"draggable","false"),yi(n,"active",i[4]),ti(n,"transform",`translateX(${1.15*At*i[11]}rem)`)},m(H,v){E(H,e,v),C&&C.m(e,null),g(e,t),g(e,n),y&&y.m(n,null),g(n,l),g(n,a),g(a,r),g(r,u),g(a,c),P&&P.m(a,null),g(a,f),g(a,_),g(_,w),g(w,b),g(_,d),g(_,A),g(A,z),g(A,j),g(_,q),D&&D.m(_,null),g(n,T),g(n,s),B&&B.m(s,null),i[22](e),m=!0,p||(k=[Z(e,"click",i[23]),dt(h=Na.call(null,e,{disabled:!i[12].enableSlideInBrowser})),Z(e,"slidestart",i[24]),Z(e,"slidemove",i[15]),Z(e,"slideend",i[25])],p=!0)},p(H,[v]){var N;H[11]>0?C?(C.p(H,v),v&2048&&I(C,1)):(C=$n(H),C.c(),I(C,1),C.m(e,t)):C&&(ke(),V(C,1,1,()=>{C=null}),ye()),H[4]?y?v&16&&I(y,1):(y=el(),y.c(),I(y,1),y.m(n,l)):y&&(ke(),V(y,1,1,()=>{y=null}),ye()),(!m||v&64)&&K(u,H[6]),H[5]?P?P.p(H,v):(P=il(H),P.c(),P.m(a,f)):P&&(P.d(1),P=null),(!m||v&256)&&K(b,H[8]),(!m||v&1)&&R!==(R=((N=H[0].meta)==null?void 0:N.bitrate)+"")&&K(z,R),H[7]?D?D.p(H,v):(D=tl(H),D.c(),D.m(_,null)):D&&(D.d(1),D=null),H[0].cached?B?v&1&&I(B,1):(B=nl(),B.c(),I(B,1),B.m(s,null)):B&&(ke(),V(B,1,1,()=>{B=null}),ye()),(!m||v&16)&&yi(n,"active",H[4]),v&2048&&ti(n,"transform",`translateX(${1.15*At*H[11]}rem)`),h&&Ci(h.update)&&v&4096&&h.update.call(null,{disabled:!H[12].enableSlideInBrowser})},i(H){m||(I(C),I(y),I(B),m=!0)},o(H){V(C),V(y),V(B),m=!1},d(H){H&&S(e),C&&C.d(),y&&y.d(),P&&P.d(),D&&D.d(),B&&B.d(),i[22](null),p=!1,Be(k)}}}let Hd=parseFloat(getComputedStyle(document.documentElement).fontSize);const At=2;function Rd(i,e,t){let n,l,a,r,u,c,f,_;te(i,je,M=>t(18,r=M)),te(i,Qi,M=>t(19,u=M)),te(i,Ue,M=>t(20,c=M)),te(i,Bi,M=>t(21,f=M)),te(i,Ii,M=>t(12,_=M));let{file:w}=e,{position:b}=e,{container:d}=e,{playFunction:A}=e,R,z,j,q,T;function s(M){let H=M==null?void 0:M.title;if(H&&H!=z&&H!=z.replace("_"," "))return H}const h={stiffness:.05,damping:.5},m={stiffness:1,damping:1};let p=zd(0,h);te(i,p,M=>t(11,a=M));let k=0;function C(M){let H=M.detail.dx;H=H<0?0:H;let v=H/(T.clientWidth/2);ae(p,a=v>1?1:v,a)}function y(M){We[M?"unshift":"push"](()=>{T=M,t(3,T)})}const P=()=>{_.enableSlideInBrowser||A(b,!0,0)},D=M=>{ae(p,a=0,a),t(9,p.stiffness=m.stiffness,p),t(9,p.damping=m.damping,p)},B=M=>{a>.9999&&A(b,!0,0),t(9,p.stiffness=h.stiffness,p),t(9,p.damping=h.damping,p),ae(p,a=0,a)};return i.$$set=M=>{"file"in M&&t(0,w=M.file),"position"in M&&t(1,b=M.position),"container"in M&&t(16,d=M.container),"playFunction"in M&&t(2,A=M.playFunction)},i.$$.update=()=>{var M,H;i.$$.dirty&65536&&t(17,n=d?new sa(d):null),i.$$.dirty&1&&(t(6,{baseName:z,extension:j}=oa(w),z,(t(7,j),t(0,w))),t(5,R=s((M=w.meta)==null?void 0:M.tags)),t(8,q=Gi((H=w.meta)==null?void 0:H.duration))),i.$$.dirty&3932161&&t(4,l=f&&u&&f.path===w.path&&u.folder===c.value&&c.type===be.REGULAR&&u.collection===r),i.$$.dirty&131096&&l&&T&&n&&n.scrollToView(T),i.$$.dirty&8&&T&&t(10,k=(T.clientHeight-Hd*At)/2)},[w,b,A,T,l,R,z,j,q,p,k,a,_,h,m,C,d,n,r,u,c,f,y,P,D,B]}class Bd extends se{constructor(e){super(),oe(this,e,Rd,Td,de,{file:0,position:1,container:16,playFunction:2})}}function Id(i){let e,t;return{c(){e=L("div"),t=U(i[4]),o(e,"class","innerInitials svelte-11tq2af")},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&16&&K(t,n[4])},d(n){n&&S(e)}}}function Md(i){let e,t;return{c(){e=L("div"),t=L("img"),o(t,"alt","Folder Icon"),o(t,"class","svelte-11tq2af"),yi(t,"loading",i[5]),o(e,"class","imgWrapper svelte-11tq2af"),yi(e,"imageLoading",i[5])},m(n,l){E(n,e,l),g(e,t),i[13](t)},p(n,l){l&32&&yi(t,"loading",n[5]),l&32&&yi(e,"imageLoading",n[5])},d(n){n&&S(e),i[13](null)}}}function Od(i){let e;function t(a,r){return!a[8]&&a[3]?Md:Id}let n=t(i),l=n(i);return{c(){e=L("div"),l.c(),o(e,"aria-hidden","true"),o(e,"class","wrapper svelte-11tq2af"),ti(e,"--borderRadius",Fd),ti(e,"--size",i[2]),ti(e,"--bgColor",i[0]?i[0]:"var(--icon-background)"),ti(e,"--textColor",i[1]),ti(e,"--abbrLength",i[7])},m(a,r){E(a,e,r),l.m(e,null)},p(a,[r]){n===(n=t(a))&&l?l.p(a,r):(l.d(1),l=n(a),l&&(l.c(),l.m(e,null))),r&4&&ti(e,"--size",a[2]),r&1&&ti(e,"--bgColor",a[0]?a[0]:"var(--icon-background)"),r&2&&ti(e,"--textColor",a[1]),r&128&&ti(e,"--abbrLength",a[7])},i:J,o:J,d(a){a&&S(e),l.d()}}}let Fd="0";function Nd(i){let e=i.split(/[ \-,;()\[\]\_]/).filter(t=>t.length>0).slice(0,2);return e.length===0?"?":/^\d+$/.test(e[0])?e[0].slice(-2):(e=e.map(t=>t.substring(0,1).toUpperCase()),e.join(""))}function Dd(i,e,t){let n,l;te(i,je,s=>t(14,n=s)),te(i,zi,s=>t(15,l=s));let{name:a}=e,{path:r}=e,{bgColor:u=""}=e,{textColor:c="white"}=e,{size:f="64px"}=e,{visible:_=!0}=e,w,b;async function d(s){t(8,z=!1),t(5,j=!0);const h=`${l.basePath}/${n}/icon/${encodeURIComponent(s)}`;t(11,b=new AbortController);try{const m=await fetch(h,{signal:b.signal,credentials:"include",mode:"cors"});if(m.status===200){const p=await m.blob(),k=URL.createObjectURL(p);t(8,z=!1),w&&t(6,w.src=k,w)}else t(8,z=!0)}catch(m){m.name!=="AbortError"?console.error(`Failed to load icon for ${s}`,m):console.debug("icon request aborted"),t(8,z=!0)}finally{t(11,b=null),t(5,j=!1),t(12,q=s)}}let A,R,z=!1,j=!1,q;function T(s){We[s?"unshift":"push"](()=>{w=s,t(6,w)})}return i.$$set=s=>{"name"in s&&t(9,a=s.name),"path"in s&&t(10,r=s.path),"bgColor"in s&&t(0,u=s.bgColor),"textColor"in s&&t(1,c=s.textColor),"size"in s&&t(2,f=s.size),"visible"in s&&t(3,_=s.visible)},i.$$.update=()=>{i.$$.dirty&512&&t(4,A=Nd(a)),i.$$.dirty&16&&t(7,R=A.length),i.$$.dirty&7208&&(_?!j&&r!==q&&d(r):(b&&b.abort("Out of view"),t(12,q=null)))},[u,c,f,_,A,j,w,R,z,a,r,b,q,T]}class ba extends se{constructor(e){super(),oe(this,e,Dd,Od,de,{name:9,path:10,bgColor:0,textColor:1,size:2,visible:3})}}function ll(i){let e,t,n;return t=new ba({props:{name:i[0].name,path:i[0].path,visible:i[5],size:i[6].folderIconSize+"px"}}),{c(){e=L("div"),re(t.$$.fragment),o(e,"class","icon svelte-he6n3k")},m(l,a){E(l,e,a),ne(t,e,null),n=!0},p(l,a){const r={};a&1&&(r.name=l[0].name),a&1&&(r.path=l[0].path),a&32&&(r.visible=l[5]),a&64&&(r.size=l[6].folderIconSize+"px"),t.$set(r)},i(l){n||(I(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&S(e),le(t)}}}function rl(i){let e,t;return{c(){e=L("h6"),t=U(i[4]),o(e,"class","subtitle svelte-he6n3k")},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&16&&K(t,n[4])},d(n){n&&S(e)}}}function Vd(i){let e,t,n,l,a=i[0].name+"",r,u,c,f,_,w=i[6].folderIconSize>0&&ll(i),b=i[2]&&i[4]&&rl(i);return{c(){e=L("div"),w&&w.c(),t=F(),n=L("div"),l=L("h4"),r=U(a),u=F(),b&&b.c(),o(l,"class","title item-header svelte-he6n3k"),o(l,"role","link"),yi(l,"finished",i[3]),o(n,"class","info"),o(e,"class","item svelte-he6n3k")},m(d,A){E(d,e,A),w&&w.m(e,null),g(e,t),g(e,n),g(n,l),g(l,r),g(n,u),b&&b.m(n,null),c=!0,f||(_=[dt(i[1].observe(e)),Z(e,"intersect",i[7])],f=!0)},p(d,[A]){d[6].folderIconSize>0?w?(w.p(d,A),A&64&&I(w,1)):(w=ll(d),w.c(),I(w,1),w.m(e,t)):w&&(ke(),V(w,1,1,()=>{w=null}),ye()),(!c||A&1)&&a!==(a=d[0].name+"")&&K(r,a),(!c||A&8)&&yi(l,"finished",d[3]),d[2]&&d[4]?b?b.p(d,A):(b=rl(d),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},i(d){c||(I(w),c=!0)},o(d){V(w),c=!1},d(d){d&&S(e),w&&w.d(),b&&b.d(),f=!1,Be(_)}}}function jd(i,e,t){let n;te(i,Ii,w=>t(6,n=w));let{subfolder:l}=e,{observer:a}=e,{extended:r=!1}=e,{finished:u=!1}=e,c,f=!1;qr(()=>{t(4,c=Qt(l.path).folder)});const _=w=>{t(5,f=w.detail.isIntersecting)};return i.$$set=w=>{"subfolder"in w&&t(0,l=w.subfolder),"observer"in w&&t(1,a=w.observer),"extended"in w&&t(2,r=w.extended),"finished"in w&&t(3,u=w.finished)},[l,a,r,u,c,f,n,_]}class Gd extends se{constructor(e){super(),oe(this,e,jd,Vd,de,{subfolder:0,observer:1,extended:2,finished:3})}}var wa={exports:{}};(function(i){(function(){function e(s){var h={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(s===!1)return JSON.parse(JSON.stringify(h));var m={};for(var p in h)h.hasOwnProperty(p)&&(m[p]=h[p].defaultValue);return m}function t(){var s=e(!0),h={};for(var m in s)s.hasOwnProperty(m)&&(h[m]=!0);return h}var n={},l={},a={},r=e(!0),u="vanilla",c={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:t()};n.helper={},n.extensions={},n.setOption=function(s,h){return r[s]=h,this},n.getOption=function(s){return r[s]},n.getOptions=function(){return r},n.resetOptions=function(){r=e(!0)},n.setFlavor=function(s){if(!c.hasOwnProperty(s))throw Error(s+" flavor was not found");n.resetOptions();var h=c[s];u=s;for(var m in h)h.hasOwnProperty(m)&&(r[m]=h[m])},n.getFlavor=function(){return u},n.getFlavorOptions=function(s){if(c.hasOwnProperty(s))return c[s]},n.getDefaultOptions=function(s){return e(s)},n.subParser=function(s,h){if(n.helper.isString(s))if(typeof h<"u")l[s]=h;else{if(l.hasOwnProperty(s))return l[s];throw Error("SubParser named "+s+" not registered!")}},n.extension=function(s,h){if(!n.helper.isString(s))throw Error("Extension 'name' must be a string");if(s=n.helper.stdExtName(s),n.helper.isUndefined(h)){if(!a.hasOwnProperty(s))throw Error("Extension named "+s+" is not registered!");return a[s]}else{typeof h=="function"&&(h=h()),n.helper.isArray(h)||(h=[h]);var m=f(h,s);if(m.valid)a[s]=h;else throw Error(m.error)}},n.getAllExtensions=function(){return a},n.removeExtension=function(s){delete a[s]},n.resetExtensions=function(){a={}};function f(s,h){var m=h?"Error in "+h+" extension->":"Error in unnamed extension",p={valid:!0,error:""};n.helper.isArray(s)||(s=[s]);for(var k=0;k<s.length;++k){var C=m+" sub-extension "+k+": ",y=s[k];if(typeof y!="object")return p.valid=!1,p.error=C+"must be an object, but "+typeof y+" given",p;if(!n.helper.isString(y.type))return p.valid=!1,p.error=C+'property "type" must be a string, but '+typeof y.type+" given",p;var P=y.type=y.type.toLowerCase();if(P==="language"&&(P=y.type="lang"),P==="html"&&(P=y.type="output"),P!=="lang"&&P!=="output"&&P!=="listener")return p.valid=!1,p.error=C+"type "+P+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',p;if(P==="listener"){if(n.helper.isUndefined(y.listeners))return p.valid=!1,p.error=C+'. Extensions of type "listener" must have a property called "listeners"',p}else if(n.helper.isUndefined(y.filter)&&n.helper.isUndefined(y.regex))return p.valid=!1,p.error=C+P+' extensions must define either a "regex" property or a "filter" method',p;if(y.listeners){if(typeof y.listeners!="object")return p.valid=!1,p.error=C+'"listeners" property must be an object but '+typeof y.listeners+" given",p;for(var D in y.listeners)if(y.listeners.hasOwnProperty(D)&&typeof y.listeners[D]!="function")return p.valid=!1,p.error=C+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+D+" must be a function but "+typeof y.listeners[D]+" given",p}if(y.filter){if(typeof y.filter!="function")return p.valid=!1,p.error=C+'"filter" must be a function, but '+typeof y.filter+" given",p}else if(y.regex){if(n.helper.isString(y.regex)&&(y.regex=new RegExp(y.regex,"g")),!(y.regex instanceof RegExp))return p.valid=!1,p.error=C+'"regex" property must either be a string or a RegExp object, but '+typeof y.regex+" given",p;if(n.helper.isUndefined(y.replace))return p.valid=!1,p.error=C+'"regex" extensions must implement a replace string or function',p}}return p}n.validateExtension=function(s){var h=f(s,null);return h.valid?!0:(console.warn(h.error),!1)},n.hasOwnProperty("helper")||(n.helper={}),n.helper.isString=function(s){return typeof s=="string"||s instanceof String},n.helper.isFunction=function(s){var h={};return s&&h.toString.call(s)==="[object Function]"},n.helper.isArray=function(s){return Array.isArray(s)},n.helper.isUndefined=function(s){return typeof s>"u"},n.helper.forEach=function(s,h){if(n.helper.isUndefined(s))throw new Error("obj param is required");if(n.helper.isUndefined(h))throw new Error("callback param is required");if(!n.helper.isFunction(h))throw new Error("callback param must be a function/closure");if(typeof s.forEach=="function")s.forEach(h);else if(n.helper.isArray(s))for(var m=0;m<s.length;m++)h(s[m],m,s);else if(typeof s=="object")for(var p in s)s.hasOwnProperty(p)&&h(s[p],p,s);else throw new Error("obj does not seem to be an array or an iterable object")},n.helper.stdExtName=function(s){return s.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function _(s,h){var m=h.charCodeAt(0);return"¨E"+m+"E"}n.helper.escapeCharactersCallback=_,n.helper.escapeCharacters=function(s,h,m){var p="(["+h.replace(/([\[\]\\])/g,"\\$1")+"])";m&&(p="\\\\"+p);var k=new RegExp(p,"g");return s=s.replace(k,_),s},n.helper.unescapeHTMLEntities=function(s){return s.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var w=function(s,h,m,p){var k=p||"",C=k.indexOf("g")>-1,y=new RegExp(h+"|"+m,"g"+k.replace(/g/g,"")),P=new RegExp(h,k.replace(/g/g,"")),D=[],B,M,H,v,N;do for(B=0;H=y.exec(s);)if(P.test(H[0]))B++||(M=y.lastIndex,v=M-H[0].length);else if(B&&!--B){N=H.index+H[0].length;var Q={left:{start:v,end:M},match:{start:M,end:H.index},right:{start:H.index,end:N},wholeMatch:{start:v,end:N}};if(D.push(Q),!C)return D}while(B&&(y.lastIndex=M));return D};n.helper.matchRecursiveRegExp=function(s,h,m,p){for(var k=w(s,h,m,p),C=[],y=0;y<k.length;++y)C.push([s.slice(k[y].wholeMatch.start,k[y].wholeMatch.end),s.slice(k[y].match.start,k[y].match.end),s.slice(k[y].left.start,k[y].left.end),s.slice(k[y].right.start,k[y].right.end)]);return C},n.helper.replaceRecursiveRegExp=function(s,h,m,p,k){if(!n.helper.isFunction(h)){var C=h;h=function(){return C}}var y=w(s,m,p,k),P=s,D=y.length;if(D>0){var B=[];y[0].wholeMatch.start!==0&&B.push(s.slice(0,y[0].wholeMatch.start));for(var M=0;M<D;++M)B.push(h(s.slice(y[M].wholeMatch.start,y[M].wholeMatch.end),s.slice(y[M].match.start,y[M].match.end),s.slice(y[M].left.start,y[M].left.end),s.slice(y[M].right.start,y[M].right.end))),M<D-1&&B.push(s.slice(y[M].wholeMatch.end,y[M+1].wholeMatch.start));y[D-1].wholeMatch.end<s.length&&B.push(s.slice(y[D-1].wholeMatch.end)),P=B.join("")}return P},n.helper.regexIndexOf=function(s,h,m){if(!n.helper.isString(s))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(h instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var p=s.substring(m||0).search(h);return p>=0?p+(m||0):p},n.helper.splitAtIndex=function(s,h){if(!n.helper.isString(s))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[s.substring(0,h),s.substring(h)]},n.helper.encodeEmailAddress=function(s){var h=[function(m){return"&#"+m.charCodeAt(0)+";"},function(m){return"&#x"+m.charCodeAt(0).toString(16)+";"},function(m){return m}];return s=s.replace(/./g,function(m){if(m==="@")m=h[Math.floor(Math.random()*2)](m);else{var p=Math.random();m=p>.9?h[2](m):p>.45?h[1](m):h[0](m)}return m}),s},n.helper.padEnd=function(h,m,p){return m=m>>0,p=String(p||" "),h.length>m?String(h):(m=m-h.length,m>p.length&&(p+=p.repeat(m/p.length)),String(h)+p.slice(0,m))},typeof console>"u"&&(console={warn:function(s){alert(s)},log:function(s){alert(s)},error:function(s){throw s}}),n.helper.regexes={asteriskDashAndColon:/([*_:~])/g},n.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},n.Converter=function(s){var h={},m=[],p=[],k={},C=u,y={parsed:{},raw:"",format:""};P();function P(){s=s||{};for(var v in r)r.hasOwnProperty(v)&&(h[v]=r[v]);if(typeof s=="object")for(var N in s)s.hasOwnProperty(N)&&(h[N]=s[N]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof s+" was passed instead.");h.extensions&&n.helper.forEach(h.extensions,D)}function D(v,N){if(N=N||null,n.helper.isString(v))if(v=n.helper.stdExtName(v),N=v,n.extensions[v]){console.warn("DEPRECATION WARNING: "+v+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),B(n.extensions[v],v);return}else if(!n.helper.isUndefined(a[v]))v=a[v];else throw Error('Extension "'+v+'" could not be loaded. It was either not found or is not a valid extension.');typeof v=="function"&&(v=v()),n.helper.isArray(v)||(v=[v]);var Q=f(v,N);if(!Q.valid)throw Error(Q.error);for(var ee=0;ee<v.length;++ee){switch(v[ee].type){case"lang":m.push(v[ee]);break;case"output":p.push(v[ee]);break}if(v[ee].hasOwnProperty("listeners"))for(var Y in v[ee].listeners)v[ee].listeners.hasOwnProperty(Y)&&M(Y,v[ee].listeners[Y])}}function B(v,N){typeof v=="function"&&(v=v(new n.Converter)),n.helper.isArray(v)||(v=[v]);var Q=f(v,N);if(!Q.valid)throw Error(Q.error);for(var ee=0;ee<v.length;++ee)switch(v[ee].type){case"lang":m.push(v[ee]);break;case"output":p.push(v[ee]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function M(v,N){if(!n.helper.isString(v))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof v+" given");if(typeof N!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof N+" given");k.hasOwnProperty(v)||(k[v]=[]),k[v].push(N)}function H(v){var N=v.match(/^\s*/)[0].length,Q=new RegExp("^\\s{0,"+N+"}","gm");return v.replace(Q,"")}this._dispatch=function(N,Q,ee,Y){if(k.hasOwnProperty(N))for(var x=0;x<k[N].length;++x){var ce=k[N][x](N,Q,this,ee,Y);ce&&typeof ce<"u"&&(Q=ce)}return Q},this.listen=function(v,N){return M(v,N),this},this.makeHtml=function(v){if(!v)return v;var N={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:m,outputModifiers:p,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return v=v.replace(/¨/g,"¨T"),v=v.replace(/\$/g,"¨D"),v=v.replace(/\r\n/g,`
`),v=v.replace(/\r/g,`
`),v=v.replace(/\u00A0/g,"&nbsp;"),h.smartIndentationFix&&(v=H(v)),v=`

`+v+`

`,v=n.subParser("detab")(v,h,N),v=v.replace(/^[ \t]+$/mg,""),n.helper.forEach(m,function(Q){v=n.subParser("runExtension")(Q,v,h,N)}),v=n.subParser("metadata")(v,h,N),v=n.subParser("hashPreCodeTags")(v,h,N),v=n.subParser("githubCodeBlocks")(v,h,N),v=n.subParser("hashHTMLBlocks")(v,h,N),v=n.subParser("hashCodeTags")(v,h,N),v=n.subParser("stripLinkDefinitions")(v,h,N),v=n.subParser("blockGamut")(v,h,N),v=n.subParser("unhashHTMLSpans")(v,h,N),v=n.subParser("unescapeSpecialChars")(v,h,N),v=v.replace(/¨D/g,"$$"),v=v.replace(/¨T/g,"¨"),v=n.subParser("completeHTMLDocument")(v,h,N),n.helper.forEach(p,function(Q){v=n.subParser("runExtension")(Q,v,h,N)}),y=N.metadata,v},this.makeMarkdown=this.makeMd=function(v,N){if(v=v.replace(/\r\n/g,`
`),v=v.replace(/\r/g,`
`),v=v.replace(/>[ \t]+</,">¨NBSP;<"),!N)if(window&&window.document)N=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var Q=N.createElement("div");Q.innerHTML=v;var ee={preList:Pe(Q)};we(Q);for(var Y=Q.childNodes,x="",ce=0;ce<Y.length;ce++)x+=n.subParser("makeMarkdown.node")(Y[ce],ee);function we(ge){for(var ve=0;ve<ge.childNodes.length;++ve){var X=ge.childNodes[ve];X.nodeType===3?!/\S/.test(X.nodeValue)&&!/^[ ]+$/.test(X.nodeValue)?(ge.removeChild(X),--ve):(X.nodeValue=X.nodeValue.split(`
`).join(" "),X.nodeValue=X.nodeValue.replace(/(\s)+/g,"$1")):X.nodeType===1&&we(X)}}function Pe(ge){for(var ve=ge.querySelectorAll("pre"),X=[],$=0;$<ve.length;++$)if(ve[$].childElementCount===1&&ve[$].firstChild.tagName.toLowerCase()==="code"){var Ae=ve[$].firstChild.innerHTML.trim(),Ce=ve[$].firstChild.getAttribute("data-language")||"";if(Ce==="")for(var Me=ve[$].firstChild.className.split(" "),Le=0;Le<Me.length;++Le){var ai=Me[Le].match(/^language-(.+)$/);if(ai!==null){Ce=ai[1];break}}Ae=n.helper.unescapeHTMLEntities(Ae),X.push(Ae),ve[$].outerHTML='<precode language="'+Ce+'" precodenum="'+$.toString()+'"></precode>'}else X.push(ve[$].innerHTML),ve[$].innerHTML="",ve[$].setAttribute("prenum",$.toString());return X}return x},this.setOption=function(v,N){h[v]=N},this.getOption=function(v){return h[v]},this.getOptions=function(){return h},this.addExtension=function(v,N){N=N||null,D(v,N)},this.useExtension=function(v){D(v)},this.setFlavor=function(v){if(!c.hasOwnProperty(v))throw Error(v+" flavor was not found");var N=c[v];C=v;for(var Q in N)N.hasOwnProperty(Q)&&(h[Q]=N[Q])},this.getFlavor=function(){return C},this.removeExtension=function(v){n.helper.isArray(v)||(v=[v]);for(var N=0;N<v.length;++N){for(var Q=v[N],ee=0;ee<m.length;++ee)m[ee]===Q&&m.splice(ee,1);for(var Y=0;Y<p.length;++Y)p[Y]===Q&&p.splice(Y,1)}},this.getAllExtensions=function(){return{language:m,output:p}},this.getMetadata=function(v){return v?y.raw:y.parsed},this.getMetadataFormat=function(){return y.format},this._setMetadataPair=function(v,N){y.parsed[v]=N},this._setMetadataFormat=function(v){y.format=v},this._setMetadataRaw=function(v){y.raw=v}},n.subParser("anchors",function(s,h,m){s=m.converter._dispatch("anchors.before",s,h,m);var p=function(k,C,y,P,D,B,M){if(n.helper.isUndefined(M)&&(M=""),y=y.toLowerCase(),k.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)P="";else if(!P)if(y||(y=C.toLowerCase().replace(/ ?\n/g," ")),P="#"+y,!n.helper.isUndefined(m.gUrls[y]))P=m.gUrls[y],n.helper.isUndefined(m.gTitles[y])||(M=m.gTitles[y]);else return k;P=P.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback);var H='<a href="'+P+'"';return M!==""&&M!==null&&(M=M.replace(/"/g,"&quot;"),M=M.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback),H+=' title="'+M+'"'),h.openLinksInNewWindow&&!/^#/.test(P)&&(H+=' rel="noopener noreferrer" target="¨E95Eblank"'),H+=">"+C+"</a>",H};return s=s.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,p),s=s.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),s=s.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),s=s.replace(/\[([^\[\]]+)]()()()()()/g,p),h.ghMentions&&(s=s.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(k,C,y,P,D){if(y==="\\")return C+P;if(!n.helper.isString(h.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var B=h.ghMentionsLink.replace(/\{u}/g,D),M="";return h.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="¨E95Eblank"'),C+'<a href="'+B+'"'+M+">"+P+"</a>"})),s=m.converter._dispatch("anchors.after",s,h,m),s});var b=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,d=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,A=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,R=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,z=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,j=function(s){return function(h,m,p,k,C,y,P){p=p.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback);var D=p,B="",M="",H=m||"",v=P||"";return/^www\./i.test(p)&&(p=p.replace(/^www\./i,"http://www.")),s.excludeTrailingPunctuationFromURLs&&y&&(B=y),s.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="¨E95Eblank"'),H+'<a href="'+p+'"'+M+">"+D+"</a>"+B+v}},q=function(s,h){return function(m,p,k){var C="mailto:";return p=p||"",k=n.subParser("unescapeSpecialChars")(k,s,h),s.encodeEmails?(C=n.helper.encodeEmailAddress(C+k),k=n.helper.encodeEmailAddress(k)):C=C+k,p+'<a href="'+C+'">'+k+"</a>"}};n.subParser("autoLinks",function(s,h,m){return s=m.converter._dispatch("autoLinks.before",s,h,m),s=s.replace(A,j(h)),s=s.replace(z,q(h,m)),s=m.converter._dispatch("autoLinks.after",s,h,m),s}),n.subParser("simplifiedAutoLinks",function(s,h,m){return h.simplifiedAutoLink&&(s=m.converter._dispatch("simplifiedAutoLinks.before",s,h,m),h.excludeTrailingPunctuationFromURLs?s=s.replace(d,j(h)):s=s.replace(b,j(h)),s=s.replace(R,q(h,m)),s=m.converter._dispatch("simplifiedAutoLinks.after",s,h,m)),s}),n.subParser("blockGamut",function(s,h,m){return s=m.converter._dispatch("blockGamut.before",s,h,m),s=n.subParser("blockQuotes")(s,h,m),s=n.subParser("headers")(s,h,m),s=n.subParser("horizontalRule")(s,h,m),s=n.subParser("lists")(s,h,m),s=n.subParser("codeBlocks")(s,h,m),s=n.subParser("tables")(s,h,m),s=n.subParser("hashHTMLBlocks")(s,h,m),s=n.subParser("paragraphs")(s,h,m),s=m.converter._dispatch("blockGamut.after",s,h,m),s}),n.subParser("blockQuotes",function(s,h,m){s=m.converter._dispatch("blockQuotes.before",s,h,m),s=s+`

`;var p=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return h.splitAdjacentBlockquotes&&(p=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),s=s.replace(p,function(k){return k=k.replace(/^[ \t]*>[ \t]?/gm,""),k=k.replace(/¨0/g,""),k=k.replace(/^[ \t]+$/gm,""),k=n.subParser("githubCodeBlocks")(k,h,m),k=n.subParser("blockGamut")(k,h,m),k=k.replace(/(^|\n)/g,"$1  "),k=k.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(C,y){var P=y;return P=P.replace(/^  /mg,"¨0"),P=P.replace(/¨0/g,""),P}),n.subParser("hashBlock")(`<blockquote>
`+k+`
</blockquote>`,h,m)}),s=m.converter._dispatch("blockQuotes.after",s,h,m),s}),n.subParser("codeBlocks",function(s,h,m){s=m.converter._dispatch("codeBlocks.before",s,h,m),s+="¨0";var p=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return s=s.replace(p,function(k,C,y){var P=C,D=y,B=`
`;return P=n.subParser("outdent")(P,h,m),P=n.subParser("encodeCode")(P,h,m),P=n.subParser("detab")(P,h,m),P=P.replace(/^\n+/g,""),P=P.replace(/\n+$/g,""),h.omitExtraWLInCodeBlocks&&(B=""),P="<pre><code>"+P+B+"</code></pre>",n.subParser("hashBlock")(P,h,m)+D}),s=s.replace(/¨0/,""),s=m.converter._dispatch("codeBlocks.after",s,h,m),s}),n.subParser("codeSpans",function(s,h,m){return s=m.converter._dispatch("codeSpans.before",s,h,m),typeof s>"u"&&(s=""),s=s.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(p,k,C,y){var P=y;return P=P.replace(/^([ \t]*)/g,""),P=P.replace(/[ \t]*$/g,""),P=n.subParser("encodeCode")(P,h,m),P=k+"<code>"+P+"</code>",P=n.subParser("hashHTMLSpans")(P,h,m),P}),s=m.converter._dispatch("codeSpans.after",s,h,m),s}),n.subParser("completeHTMLDocument",function(s,h,m){if(!h.completeHTMLDocument)return s;s=m.converter._dispatch("completeHTMLDocument.before",s,h,m);var p="html",k=`<!DOCTYPE HTML>
`,C="",y=`<meta charset="utf-8">
`,P="",D="";typeof m.metadata.parsed.doctype<"u"&&(k="<!DOCTYPE "+m.metadata.parsed.doctype+`>
`,p=m.metadata.parsed.doctype.toString().toLowerCase(),(p==="html"||p==="html5")&&(y='<meta charset="utf-8">'));for(var B in m.metadata.parsed)if(m.metadata.parsed.hasOwnProperty(B))switch(B.toLowerCase()){case"doctype":break;case"title":C="<title>"+m.metadata.parsed.title+`</title>
`;break;case"charset":p==="html"||p==="html5"?y='<meta charset="'+m.metadata.parsed.charset+`">
`:y='<meta name="charset" content="'+m.metadata.parsed.charset+`">
`;break;case"language":case"lang":P=' lang="'+m.metadata.parsed[B]+'"',D+='<meta name="'+B+'" content="'+m.metadata.parsed[B]+`">
`;break;default:D+='<meta name="'+B+'" content="'+m.metadata.parsed[B]+`">
`}return s=k+"<html"+P+`>
<head>
`+C+y+D+`</head>
<body>
`+s.trim()+`
</body>
</html>`,s=m.converter._dispatch("completeHTMLDocument.after",s,h,m),s}),n.subParser("detab",function(s,h,m){return s=m.converter._dispatch("detab.before",s,h,m),s=s.replace(/\t(?=\t)/g,"    "),s=s.replace(/\t/g,"¨A¨B"),s=s.replace(/¨B(.+?)¨A/g,function(p,k){for(var C=k,y=4-C.length%4,P=0;P<y;P++)C+=" ";return C}),s=s.replace(/¨A/g,"    "),s=s.replace(/¨B/g,""),s=m.converter._dispatch("detab.after",s,h,m),s}),n.subParser("ellipsis",function(s,h,m){return h.ellipsis&&(s=m.converter._dispatch("ellipsis.before",s,h,m),s=s.replace(/\.\.\./g,"…"),s=m.converter._dispatch("ellipsis.after",s,h,m)),s}),n.subParser("emoji",function(s,h,m){if(!h.emoji)return s;s=m.converter._dispatch("emoji.before",s,h,m);var p=/:([\S]+?):/g;return s=s.replace(p,function(k,C){return n.helper.emojis.hasOwnProperty(C)?n.helper.emojis[C]:k}),s=m.converter._dispatch("emoji.after",s,h,m),s}),n.subParser("encodeAmpsAndAngles",function(s,h,m){return s=m.converter._dispatch("encodeAmpsAndAngles.before",s,h,m),s=s.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),s=s.replace(/<(?![a-z\/?$!])/gi,"&lt;"),s=s.replace(/</g,"&lt;"),s=s.replace(/>/g,"&gt;"),s=m.converter._dispatch("encodeAmpsAndAngles.after",s,h,m),s}),n.subParser("encodeBackslashEscapes",function(s,h,m){return s=m.converter._dispatch("encodeBackslashEscapes.before",s,h,m),s=s.replace(/\\(\\)/g,n.helper.escapeCharactersCallback),s=s.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,n.helper.escapeCharactersCallback),s=m.converter._dispatch("encodeBackslashEscapes.after",s,h,m),s}),n.subParser("encodeCode",function(s,h,m){return s=m.converter._dispatch("encodeCode.before",s,h,m),s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,n.helper.escapeCharactersCallback),s=m.converter._dispatch("encodeCode.after",s,h,m),s}),n.subParser("escapeSpecialCharsWithinTagAttributes",function(s,h,m){s=m.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",s,h,m);var p=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,k=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return s=s.replace(p,function(C){return C.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)}),s=s.replace(k,function(C){return C.replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)}),s=m.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",s,h,m),s}),n.subParser("githubCodeBlocks",function(s,h,m){return h.ghCodeBlocks?(s=m.converter._dispatch("githubCodeBlocks.before",s,h,m),s+="¨0",s=s.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(p,k,C,y){var P=h.omitExtraWLInCodeBlocks?"":`
`;return y=n.subParser("encodeCode")(y,h,m),y=n.subParser("detab")(y,h,m),y=y.replace(/^\n+/g,""),y=y.replace(/\n+$/g,""),y="<pre><code"+(C?' class="'+C+" language-"+C+'"':"")+">"+y+P+"</code></pre>",y=n.subParser("hashBlock")(y,h,m),`

¨G`+(m.ghCodeBlocks.push({text:p,codeblock:y})-1)+`G

`}),s=s.replace(/¨0/,""),m.converter._dispatch("githubCodeBlocks.after",s,h,m)):s}),n.subParser("hashBlock",function(s,h,m){return s=m.converter._dispatch("hashBlock.before",s,h,m),s=s.replace(/(^\n+|\n+$)/g,""),s=`

¨K`+(m.gHtmlBlocks.push(s)-1)+`K

`,s=m.converter._dispatch("hashBlock.after",s,h,m),s}),n.subParser("hashCodeTags",function(s,h,m){s=m.converter._dispatch("hashCodeTags.before",s,h,m);var p=function(k,C,y,P){var D=y+n.subParser("encodeCode")(C,h,m)+P;return"¨C"+(m.gHtmlSpans.push(D)-1)+"C"};return s=n.helper.replaceRecursiveRegExp(s,p,"<code\\b[^>]*>","</code>","gim"),s=m.converter._dispatch("hashCodeTags.after",s,h,m),s}),n.subParser("hashElement",function(s,h,m){return function(p,k){var C=k;return C=C.replace(/\n\n/g,`
`),C=C.replace(/^\n/,""),C=C.replace(/\n+$/g,""),C=`

¨K`+(m.gHtmlBlocks.push(C)-1)+`K

`,C}}),n.subParser("hashHTMLBlocks",function(s,h,m){s=m.converter._dispatch("hashHTMLBlocks.before",s,h,m);var p=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],k=function(v,N,Q,ee){var Y=v;return Q.search(/\bmarkdown\b/)!==-1&&(Y=Q+m.converter.makeHtml(N)+ee),`

¨K`+(m.gHtmlBlocks.push(Y)-1)+`K

`};h.backslashEscapesHTMLTags&&(s=s.replace(/\\<(\/?[^>]+?)>/g,function(v,N){return"&lt;"+N+"&gt;"}));for(var C=0;C<p.length;++C)for(var y,P=new RegExp("^ {0,3}(<"+p[C]+"\\b[^>]*>)","im"),D="<"+p[C]+"\\b[^>]*>",B="</"+p[C]+">";(y=n.helper.regexIndexOf(s,P))!==-1;){var M=n.helper.splitAtIndex(s,y),H=n.helper.replaceRecursiveRegExp(M[1],k,D,B,"im");if(H===M[1])break;s=M[0].concat(H)}return s=s.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(s,h,m)),s=n.helper.replaceRecursiveRegExp(s,function(v){return`

¨K`+(m.gHtmlBlocks.push(v)-1)+`K

`},"^ {0,3}<!--","-->","gm"),s=s.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(s,h,m)),s=m.converter._dispatch("hashHTMLBlocks.after",s,h,m),s}),n.subParser("hashHTMLSpans",function(s,h,m){s=m.converter._dispatch("hashHTMLSpans.before",s,h,m);function p(k){return"¨C"+(m.gHtmlSpans.push(k)-1)+"C"}return s=s.replace(/<[^>]+?\/>/gi,function(k){return p(k)}),s=s.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(k){return p(k)}),s=s.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(k){return p(k)}),s=s.replace(/<[^>]+?>/gi,function(k){return p(k)}),s=m.converter._dispatch("hashHTMLSpans.after",s,h,m),s}),n.subParser("unhashHTMLSpans",function(s,h,m){s=m.converter._dispatch("unhashHTMLSpans.before",s,h,m);for(var p=0;p<m.gHtmlSpans.length;++p){for(var k=m.gHtmlSpans[p],C=0;/¨C(\d+)C/.test(k);){var y=RegExp.$1;if(k=k.replace("¨C"+y+"C",m.gHtmlSpans[y]),C===10){console.error("maximum nesting of 10 spans reached!!!");break}++C}s=s.replace("¨C"+p+"C",k)}return s=m.converter._dispatch("unhashHTMLSpans.after",s,h,m),s}),n.subParser("hashPreCodeTags",function(s,h,m){s=m.converter._dispatch("hashPreCodeTags.before",s,h,m);var p=function(k,C,y,P){var D=y+n.subParser("encodeCode")(C,h,m)+P;return`

¨G`+(m.ghCodeBlocks.push({text:k,codeblock:D})-1)+`G

`};return s=n.helper.replaceRecursiveRegExp(s,p,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),s=m.converter._dispatch("hashPreCodeTags.after",s,h,m),s}),n.subParser("headers",function(s,h,m){s=m.converter._dispatch("headers.before",s,h,m);var p=isNaN(parseInt(h.headerLevelStart))?1:parseInt(h.headerLevelStart),k=h.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,C=h.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;s=s.replace(k,function(D,B){var M=n.subParser("spanGamut")(B,h,m),H=h.noHeaderId?"":' id="'+P(B)+'"',v=p,N="<h"+v+H+">"+M+"</h"+v+">";return n.subParser("hashBlock")(N,h,m)}),s=s.replace(C,function(D,B){var M=n.subParser("spanGamut")(B,h,m),H=h.noHeaderId?"":' id="'+P(B)+'"',v=p+1,N="<h"+v+H+">"+M+"</h"+v+">";return n.subParser("hashBlock")(N,h,m)});var y=h.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;s=s.replace(y,function(D,B,M){var H=M;h.customizedHeaderId&&(H=M.replace(/\s?\{([^{]+?)}\s*$/,""));var v=n.subParser("spanGamut")(H,h,m),N=h.noHeaderId?"":' id="'+P(M)+'"',Q=p-1+B.length,ee="<h"+Q+N+">"+v+"</h"+Q+">";return n.subParser("hashBlock")(ee,h,m)});function P(D){var B,M;if(h.customizedHeaderId){var H=D.match(/\{([^{]+?)}\s*$/);H&&H[1]&&(D=H[1])}return B=D,n.helper.isString(h.prefixHeaderId)?M=h.prefixHeaderId:h.prefixHeaderId===!0?M="section-":M="",h.rawPrefixHeaderId||(B=M+B),h.ghCompatibleHeaderId?B=B.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():h.rawHeaderId?B=B.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():B=B.replace(/[^\w]/g,"").toLowerCase(),h.rawPrefixHeaderId&&(B=M+B),m.hashLinkCounts[B]?B=B+"-"+m.hashLinkCounts[B]++:m.hashLinkCounts[B]=1,B}return s=m.converter._dispatch("headers.after",s,h,m),s}),n.subParser("horizontalRule",function(s,h,m){s=m.converter._dispatch("horizontalRule.before",s,h,m);var p=n.subParser("hashBlock")("<hr />",h,m);return s=s.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,p),s=s.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,p),s=s.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,p),s=m.converter._dispatch("horizontalRule.after",s,h,m),s}),n.subParser("images",function(s,h,m){s=m.converter._dispatch("images.before",s,h,m);var p=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,k=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,C=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,y=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,P=/!\[([^\[\]]+)]()()()()()/g;function D(M,H,v,N,Q,ee,Y,x){return N=N.replace(/\s/g,""),B(M,H,v,N,Q,ee,Y,x)}function B(M,H,v,N,Q,ee,Y,x){var ce=m.gUrls,we=m.gTitles,Pe=m.gDimensions;if(v=v.toLowerCase(),x||(x=""),M.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)N="";else if(N===""||N===null)if((v===""||v===null)&&(v=H.toLowerCase().replace(/ ?\n/g," ")),N="#"+v,!n.helper.isUndefined(ce[v]))N=ce[v],n.helper.isUndefined(we[v])||(x=we[v]),n.helper.isUndefined(Pe[v])||(Q=Pe[v].width,ee=Pe[v].height);else return M;H=H.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback),N=N.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback);var ge='<img src="'+N+'" alt="'+H+'"';return x&&n.helper.isString(x)&&(x=x.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback),ge+=' title="'+x+'"'),Q&&ee&&(Q=Q==="*"?"auto":Q,ee=ee==="*"?"auto":ee,ge+=' width="'+Q+'"',ge+=' height="'+ee+'"'),ge+=" />",ge}return s=s.replace(y,B),s=s.replace(C,D),s=s.replace(k,B),s=s.replace(p,B),s=s.replace(P,B),s=m.converter._dispatch("images.after",s,h,m),s}),n.subParser("italicsAndBold",function(s,h,m){s=m.converter._dispatch("italicsAndBold.before",s,h,m);function p(k,C,y){return C+k+y}return h.literalMidWordUnderscores?(s=s.replace(/\b___(\S[\s\S]*?)___\b/g,function(k,C){return p(C,"<strong><em>","</em></strong>")}),s=s.replace(/\b__(\S[\s\S]*?)__\b/g,function(k,C){return p(C,"<strong>","</strong>")}),s=s.replace(/\b_(\S[\s\S]*?)_\b/g,function(k,C){return p(C,"<em>","</em>")})):(s=s.replace(/___(\S[\s\S]*?)___/g,function(k,C){return/\S$/.test(C)?p(C,"<strong><em>","</em></strong>"):k}),s=s.replace(/__(\S[\s\S]*?)__/g,function(k,C){return/\S$/.test(C)?p(C,"<strong>","</strong>"):k}),s=s.replace(/_([^\s_][\s\S]*?)_/g,function(k,C){return/\S$/.test(C)?p(C,"<em>","</em>"):k})),h.literalMidWordAsterisks?(s=s.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(k,C,y){return p(y,C+"<strong><em>","</em></strong>")}),s=s.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(k,C,y){return p(y,C+"<strong>","</strong>")}),s=s.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(k,C,y){return p(y,C+"<em>","</em>")})):(s=s.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(k,C){return/\S$/.test(C)?p(C,"<strong><em>","</em></strong>"):k}),s=s.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(k,C){return/\S$/.test(C)?p(C,"<strong>","</strong>"):k}),s=s.replace(/\*([^\s*][\s\S]*?)\*/g,function(k,C){return/\S$/.test(C)?p(C,"<em>","</em>"):k})),s=m.converter._dispatch("italicsAndBold.after",s,h,m),s}),n.subParser("lists",function(s,h,m){function p(y,P){m.gListLevel++,y=y.replace(/\n{2,}$/,`
`),y+="¨0";var D=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,B=/\n[ \t]*\n(?!¨0)/.test(y);return h.disableForced4SpacesIndentedSublists&&(D=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),y=y.replace(D,function(M,H,v,N,Q,ee,Y){Y=Y&&Y.trim()!=="";var x=n.subParser("outdent")(Q,h,m),ce="";return ee&&h.tasklists&&(ce=' class="task-list-item" style="list-style-type: none;"',x=x.replace(/^[ \t]*\[(x|X| )?]/m,function(){var we='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return Y&&(we+=" checked"),we+=">",we})),x=x.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(we){return"¨A"+we}),H||x.search(/\n{2,}/)>-1?(x=n.subParser("githubCodeBlocks")(x,h,m),x=n.subParser("blockGamut")(x,h,m)):(x=n.subParser("lists")(x,h,m),x=x.replace(/\n$/,""),x=n.subParser("hashHTMLBlocks")(x,h,m),x=x.replace(/\n\n+/g,`

`),B?x=n.subParser("paragraphs")(x,h,m):x=n.subParser("spanGamut")(x,h,m)),x=x.replace("¨A",""),x="<li"+ce+">"+x+`</li>
`,x}),y=y.replace(/¨0/g,""),m.gListLevel--,P&&(y=y.replace(/\s+$/,"")),y}function k(y,P){if(P==="ol"){var D=y.match(/^ *(\d+)\./);if(D&&D[1]!=="1")return' start="'+D[1]+'"'}return""}function C(y,P,D){var B=h.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,M=h.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,H=P==="ul"?B:M,v="";if(y.search(H)!==-1)(function Q(ee){var Y=ee.search(H),x=k(y,P);Y!==-1?(v+=`

<`+P+x+`>
`+p(ee.slice(0,Y),!!D)+"</"+P+`>
`,P=P==="ul"?"ol":"ul",H=P==="ul"?B:M,Q(ee.slice(Y))):v+=`

<`+P+x+`>
`+p(ee,!!D)+"</"+P+`>
`})(y);else{var N=k(y,P);v=`

<`+P+N+`>
`+p(y,!!D)+"</"+P+`>
`}return v}return s=m.converter._dispatch("lists.before",s,h,m),s+="¨0",m.gListLevel?s=s.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(y,P,D){var B=D.search(/[*+-]/g)>-1?"ul":"ol";return C(P,B,!0)}):s=s.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(y,P,D,B){var M=B.search(/[*+-]/g)>-1?"ul":"ol";return C(D,M,!1)}),s=s.replace(/¨0/,""),s=m.converter._dispatch("lists.after",s,h,m),s}),n.subParser("metadata",function(s,h,m){if(!h.metadata)return s;s=m.converter._dispatch("metadata.before",s,h,m);function p(k){m.metadata.raw=k,k=k.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),k=k.replace(/\n {4}/g," "),k.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(C,y,P){return m.metadata.parsed[y]=P,""})}return s=s.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(k,C,y){return p(y),"¨M"}),s=s.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(k,C,y){return C&&(m.metadata.format=C),p(y),"¨M"}),s=s.replace(/¨M/g,""),s=m.converter._dispatch("metadata.after",s,h,m),s}),n.subParser("outdent",function(s,h,m){return s=m.converter._dispatch("outdent.before",s,h,m),s=s.replace(/^(\t|[ ]{1,4})/gm,"¨0"),s=s.replace(/¨0/g,""),s=m.converter._dispatch("outdent.after",s,h,m),s}),n.subParser("paragraphs",function(s,h,m){s=m.converter._dispatch("paragraphs.before",s,h,m),s=s.replace(/^\n+/g,""),s=s.replace(/\n+$/g,"");for(var p=s.split(/\n{2,}/g),k=[],C=p.length,y=0;y<C;y++){var P=p[y];P.search(/¨(K|G)(\d+)\1/g)>=0?k.push(P):P.search(/\S/)>=0&&(P=n.subParser("spanGamut")(P,h,m),P=P.replace(/^([ \t]*)/g,"<p>"),P+="</p>",k.push(P))}for(C=k.length,y=0;y<C;y++){for(var D="",B=k[y],M=!1;/¨(K|G)(\d+)\1/.test(B);){var H=RegExp.$1,v=RegExp.$2;H==="K"?D=m.gHtmlBlocks[v]:M?D=n.subParser("encodeCode")(m.ghCodeBlocks[v].text,h,m):D=m.ghCodeBlocks[v].codeblock,D=D.replace(/\$/g,"$$$$"),B=B.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,D),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(B)&&(M=!0)}k[y]=B}return s=k.join(`
`),s=s.replace(/^\n+/g,""),s=s.replace(/\n+$/g,""),m.converter._dispatch("paragraphs.after",s,h,m)}),n.subParser("runExtension",function(s,h,m,p){if(s.filter)h=s.filter(h,p.converter,m);else if(s.regex){var k=s.regex;k instanceof RegExp||(k=new RegExp(k,"g")),h=h.replace(k,s.replace)}return h}),n.subParser("spanGamut",function(s,h,m){return s=m.converter._dispatch("spanGamut.before",s,h,m),s=n.subParser("codeSpans")(s,h,m),s=n.subParser("escapeSpecialCharsWithinTagAttributes")(s,h,m),s=n.subParser("encodeBackslashEscapes")(s,h,m),s=n.subParser("images")(s,h,m),s=n.subParser("anchors")(s,h,m),s=n.subParser("autoLinks")(s,h,m),s=n.subParser("simplifiedAutoLinks")(s,h,m),s=n.subParser("emoji")(s,h,m),s=n.subParser("underline")(s,h,m),s=n.subParser("italicsAndBold")(s,h,m),s=n.subParser("strikethrough")(s,h,m),s=n.subParser("ellipsis")(s,h,m),s=n.subParser("hashHTMLSpans")(s,h,m),s=n.subParser("encodeAmpsAndAngles")(s,h,m),h.simpleLineBreaks?/\n\n¨K/.test(s)||(s=s.replace(/\n+/g,`<br />
`)):s=s.replace(/  +\n/g,`<br />
`),s=m.converter._dispatch("spanGamut.after",s,h,m),s}),n.subParser("strikethrough",function(s,h,m){function p(k){return h.simplifiedAutoLink&&(k=n.subParser("simplifiedAutoLinks")(k,h,m)),"<del>"+k+"</del>"}return h.strikethrough&&(s=m.converter._dispatch("strikethrough.before",s,h,m),s=s.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(k,C){return p(C)}),s=m.converter._dispatch("strikethrough.after",s,h,m)),s}),n.subParser("stripLinkDefinitions",function(s,h,m){var p=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,k=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;s+="¨0";var C=function(y,P,D,B,M,H,v){return P=P.toLowerCase(),s.toLowerCase().split(P).length-1<2?y:(D.match(/^data:.+?\/.+?;base64,/)?m.gUrls[P]=D.replace(/\s/g,""):m.gUrls[P]=n.subParser("encodeAmpsAndAngles")(D,h,m),H?H+v:(v&&(m.gTitles[P]=v.replace(/"|'/g,"&quot;")),h.parseImgDimensions&&B&&M&&(m.gDimensions[P]={width:B,height:M}),""))};return s=s.replace(k,C),s=s.replace(p,C),s=s.replace(/¨0/,""),s}),n.subParser("tables",function(s,h,m){if(!h.tables)return s;var p=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,k=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function C(M){return/^:[ \t]*--*$/.test(M)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(M)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(M)?' style="text-align:center;"':""}function y(M,H){var v="";return M=M.trim(),(h.tablesHeaderId||h.tableHeaderId)&&(v=' id="'+M.replace(/ /g,"_").toLowerCase()+'"'),M=n.subParser("spanGamut")(M,h,m),"<th"+v+H+">"+M+`</th>
`}function P(M,H){var v=n.subParser("spanGamut")(M,h,m);return"<td"+H+">"+v+`</td>
`}function D(M,H){for(var v=`<table>
<thead>
<tr>
`,N=M.length,Q=0;Q<N;++Q)v+=M[Q];for(v+=`</tr>
</thead>
<tbody>
`,Q=0;Q<H.length;++Q){v+=`<tr>
`;for(var ee=0;ee<N;++ee)v+=H[Q][ee];v+=`</tr>
`}return v+=`</tbody>
</table>
`,v}function B(M){var H,v=M.split(`
`);for(H=0;H<v.length;++H)/^ {0,3}\|/.test(v[H])&&(v[H]=v[H].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(v[H])&&(v[H]=v[H].replace(/\|[ \t]*$/,"")),v[H]=n.subParser("codeSpans")(v[H],h,m);var N=v[0].split("|").map(function(ge){return ge.trim()}),Q=v[1].split("|").map(function(ge){return ge.trim()}),ee=[],Y=[],x=[],ce=[];for(v.shift(),v.shift(),H=0;H<v.length;++H)v[H].trim()!==""&&ee.push(v[H].split("|").map(function(ge){return ge.trim()}));if(N.length<Q.length)return M;for(H=0;H<Q.length;++H)x.push(C(Q[H]));for(H=0;H<N.length;++H)n.helper.isUndefined(x[H])&&(x[H]=""),Y.push(y(N[H],x[H]));for(H=0;H<ee.length;++H){for(var we=[],Pe=0;Pe<Y.length;++Pe)n.helper.isUndefined(ee[H][Pe]),we.push(P(ee[H][Pe],x[Pe]));ce.push(we)}return D(Y,ce)}return s=m.converter._dispatch("tables.before",s,h,m),s=s.replace(/\\(\|)/g,n.helper.escapeCharactersCallback),s=s.replace(p,B),s=s.replace(k,B),s=m.converter._dispatch("tables.after",s,h,m),s}),n.subParser("underline",function(s,h,m){return h.underline&&(s=m.converter._dispatch("underline.before",s,h,m),h.literalMidWordUnderscores?(s=s.replace(/\b___(\S[\s\S]*?)___\b/g,function(p,k){return"<u>"+k+"</u>"}),s=s.replace(/\b__(\S[\s\S]*?)__\b/g,function(p,k){return"<u>"+k+"</u>"})):(s=s.replace(/___(\S[\s\S]*?)___/g,function(p,k){return/\S$/.test(k)?"<u>"+k+"</u>":p}),s=s.replace(/__(\S[\s\S]*?)__/g,function(p,k){return/\S$/.test(k)?"<u>"+k+"</u>":p})),s=s.replace(/(_)/g,n.helper.escapeCharactersCallback),s=m.converter._dispatch("underline.after",s,h,m)),s}),n.subParser("unescapeSpecialChars",function(s,h,m){return s=m.converter._dispatch("unescapeSpecialChars.before",s,h,m),s=s.replace(/¨E(\d+)E/g,function(p,k){var C=parseInt(k);return String.fromCharCode(C)}),s=m.converter._dispatch("unescapeSpecialChars.after",s,h,m),s}),n.subParser("makeMarkdown.blockquote",function(s,h){var m="";if(s.hasChildNodes())for(var p=s.childNodes,k=p.length,C=0;C<k;++C){var y=n.subParser("makeMarkdown.node")(p[C],h);y!==""&&(m+=y)}return m=m.trim(),m="> "+m.split(`
`).join(`
> `),m}),n.subParser("makeMarkdown.codeBlock",function(s,h){var m=s.getAttribute("language"),p=s.getAttribute("precodenum");return"```"+m+`
`+h.preList[p]+"\n```"}),n.subParser("makeMarkdown.codeSpan",function(s){return"`"+s.innerHTML+"`"}),n.subParser("makeMarkdown.emphasis",function(s,h){var m="";if(s.hasChildNodes()){m+="*";for(var p=s.childNodes,k=p.length,C=0;C<k;++C)m+=n.subParser("makeMarkdown.node")(p[C],h);m+="*"}return m}),n.subParser("makeMarkdown.header",function(s,h,m){var p=new Array(m+1).join("#"),k="";if(s.hasChildNodes()){k=p+" ";for(var C=s.childNodes,y=C.length,P=0;P<y;++P)k+=n.subParser("makeMarkdown.node")(C[P],h)}return k}),n.subParser("makeMarkdown.hr",function(){return"---"}),n.subParser("makeMarkdown.image",function(s){var h="";return s.hasAttribute("src")&&(h+="!["+s.getAttribute("alt")+"](",h+="<"+s.getAttribute("src")+">",s.hasAttribute("width")&&s.hasAttribute("height")&&(h+=" ="+s.getAttribute("width")+"x"+s.getAttribute("height")),s.hasAttribute("title")&&(h+=' "'+s.getAttribute("title")+'"'),h+=")"),h}),n.subParser("makeMarkdown.links",function(s,h){var m="";if(s.hasChildNodes()&&s.hasAttribute("href")){var p=s.childNodes,k=p.length;m="[";for(var C=0;C<k;++C)m+=n.subParser("makeMarkdown.node")(p[C],h);m+="](",m+="<"+s.getAttribute("href")+">",s.hasAttribute("title")&&(m+=' "'+s.getAttribute("title")+'"'),m+=")"}return m}),n.subParser("makeMarkdown.list",function(s,h,m){var p="";if(!s.hasChildNodes())return"";for(var k=s.childNodes,C=k.length,y=s.getAttribute("start")||1,P=0;P<C;++P)if(!(typeof k[P].tagName>"u"||k[P].tagName.toLowerCase()!=="li")){var D="";m==="ol"?D=y.toString()+". ":D="- ",p+=D+n.subParser("makeMarkdown.listItem")(k[P],h),++y}return p+=`
<!-- -->
`,p.trim()}),n.subParser("makeMarkdown.listItem",function(s,h){for(var m="",p=s.childNodes,k=p.length,C=0;C<k;++C)m+=n.subParser("makeMarkdown.node")(p[C],h);return/\n$/.test(m)?m=m.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):m+=`
`,m}),n.subParser("makeMarkdown.node",function(s,h,m){m=m||!1;var p="";if(s.nodeType===3)return n.subParser("makeMarkdown.txt")(s,h);if(s.nodeType===8)return"<!--"+s.data+`-->

`;if(s.nodeType!==1)return"";var k=s.tagName.toLowerCase();switch(k){case"h1":m||(p=n.subParser("makeMarkdown.header")(s,h,1)+`

`);break;case"h2":m||(p=n.subParser("makeMarkdown.header")(s,h,2)+`

`);break;case"h3":m||(p=n.subParser("makeMarkdown.header")(s,h,3)+`

`);break;case"h4":m||(p=n.subParser("makeMarkdown.header")(s,h,4)+`

`);break;case"h5":m||(p=n.subParser("makeMarkdown.header")(s,h,5)+`

`);break;case"h6":m||(p=n.subParser("makeMarkdown.header")(s,h,6)+`

`);break;case"p":m||(p=n.subParser("makeMarkdown.paragraph")(s,h)+`

`);break;case"blockquote":m||(p=n.subParser("makeMarkdown.blockquote")(s,h)+`

`);break;case"hr":m||(p=n.subParser("makeMarkdown.hr")(s,h)+`

`);break;case"ol":m||(p=n.subParser("makeMarkdown.list")(s,h,"ol")+`

`);break;case"ul":m||(p=n.subParser("makeMarkdown.list")(s,h,"ul")+`

`);break;case"precode":m||(p=n.subParser("makeMarkdown.codeBlock")(s,h)+`

`);break;case"pre":m||(p=n.subParser("makeMarkdown.pre")(s,h)+`

`);break;case"table":m||(p=n.subParser("makeMarkdown.table")(s,h)+`

`);break;case"code":p=n.subParser("makeMarkdown.codeSpan")(s,h);break;case"em":case"i":p=n.subParser("makeMarkdown.emphasis")(s,h);break;case"strong":case"b":p=n.subParser("makeMarkdown.strong")(s,h);break;case"del":p=n.subParser("makeMarkdown.strikethrough")(s,h);break;case"a":p=n.subParser("makeMarkdown.links")(s,h);break;case"img":p=n.subParser("makeMarkdown.image")(s,h);break;default:p=s.outerHTML+`

`}return p}),n.subParser("makeMarkdown.paragraph",function(s,h){var m="";if(s.hasChildNodes())for(var p=s.childNodes,k=p.length,C=0;C<k;++C)m+=n.subParser("makeMarkdown.node")(p[C],h);return m=m.trim(),m}),n.subParser("makeMarkdown.pre",function(s,h){var m=s.getAttribute("prenum");return"<pre>"+h.preList[m]+"</pre>"}),n.subParser("makeMarkdown.strikethrough",function(s,h){var m="";if(s.hasChildNodes()){m+="~~";for(var p=s.childNodes,k=p.length,C=0;C<k;++C)m+=n.subParser("makeMarkdown.node")(p[C],h);m+="~~"}return m}),n.subParser("makeMarkdown.strong",function(s,h){var m="";if(s.hasChildNodes()){m+="**";for(var p=s.childNodes,k=p.length,C=0;C<k;++C)m+=n.subParser("makeMarkdown.node")(p[C],h);m+="**"}return m}),n.subParser("makeMarkdown.table",function(s,h){var m="",p=[[],[]],k=s.querySelectorAll("thead>tr>th"),C=s.querySelectorAll("tbody>tr"),y,P;for(y=0;y<k.length;++y){var D=n.subParser("makeMarkdown.tableCell")(k[y],h),B="---";if(k[y].hasAttribute("style")){var M=k[y].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(M){case"text-align:left;":B=":---";break;case"text-align:right;":B="---:";break;case"text-align:center;":B=":---:";break}}p[0][y]=D.trim(),p[1][y]=B}for(y=0;y<C.length;++y){var H=p.push([])-1,v=C[y].getElementsByTagName("td");for(P=0;P<k.length;++P){var N=" ";typeof v[P]<"u"&&(N=n.subParser("makeMarkdown.tableCell")(v[P],h)),p[H].push(N)}}var Q=3;for(y=0;y<p.length;++y)for(P=0;P<p[y].length;++P){var ee=p[y][P].length;ee>Q&&(Q=ee)}for(y=0;y<p.length;++y){for(P=0;P<p[y].length;++P)y===1?p[y][P].slice(-1)===":"?p[y][P]=n.helper.padEnd(p[y][P].slice(-1),Q-1,"-")+":":p[y][P]=n.helper.padEnd(p[y][P],Q,"-"):p[y][P]=n.helper.padEnd(p[y][P],Q);m+="| "+p[y].join(" | ")+` |
`}return m.trim()}),n.subParser("makeMarkdown.tableCell",function(s,h){var m="";if(!s.hasChildNodes())return"";for(var p=s.childNodes,k=p.length,C=0;C<k;++C)m+=n.subParser("makeMarkdown.node")(p[C],h,!0);return m.trim()}),n.subParser("makeMarkdown.txt",function(s){var h=s.nodeValue;return h=h.replace(/ +/g," "),h=h.replace(/¨NBSP;/g," "),h=n.helper.unescapeHTMLEntities(h),h=h.replace(/([*_~|`])/g,"\\$1"),h=h.replace(/^(\s*)>/g,"\\$1>"),h=h.replace(/^#/gm,"\\#"),h=h.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),h=h.replace(/^( {0,3}\d+)\./gm,"$1\\."),h=h.replace(/^( {0,3})([+-])/gm,"$1\\$2"),h=h.replace(/]([\s]*)\(/g,"\\]$1\\("),h=h.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),h});var T=this;i.exports?i.exports=n:T.showdown=n}).call(gu)})(wa);var Ud=wa.exports;const qd=bu(Ud);function Jd(i){let e;return{c(){e=L("div")},m(t,n){E(t,e,n),i[2](e)},p:J,i:J,o:J,d(t){t&&S(e),i[2](null)}}}function Zd(i,e,t){let n,l;te(i,je,f=>t(3,n=f)),te(i,tn,f=>t(4,l=f));let{descriptionPath:a}=e,r;const u=async f=>{if(!f||!r)return;t(0,r.innerHTML="",r);const _=await l.colIdDescPathGetRaw({colId:n,path:f}),w=_.raw.headers.get("Content-Type"),b=await _.value();if(w=="text/html")t(0,r.innerHTML=b,r);else if(w=="text/x-markdown"||w=="text/markdown"){let d=new qd.Converter;t(0,r.innerHTML=d.makeHtml(b),r)}else if(w=="text/plain"){const d=b.split(/\r?\n/);for(let A of d){if(A=A.trim(),!A)continue;const R=document.createElement("p");R.innerText=A,r.appendChild(R)}}else console.error(`Unsupported content type ${w} for description`)};Wi(()=>u(a));function c(f){We[f?"unshift":"push"](()=>{r=f,t(0,r)})}return i.$$set=f=>{"descriptionPath"in f&&t(1,a=f.descriptionPath)},i.$$.update=()=>{i.$$.dirty&2&&u(a)},[r,a,c]}class Qd extends se{constructor(e){super(),oe(this,e,Zd,Jd,de,{descriptionPath:1})}}function Wd(i){let e;return{c(){e=L("div")},m(t,n){E(t,e,n),i[2](e)},p:J,i:J,o:J,d(t){t&&S(e),i[2](null)}}}function Yd(i,e,t){let n,l;te(i,je,f=>t(3,n=f)),te(i,zi,f=>t(4,l=f));let a,{coverPath:r}=e;const u=f=>{if(!a||!f)return;t(0,a.innerHTML="",a);const _=l.basePath+"/"+n+"/cover/"+encodeURIComponent(f),w=document.createElement("img");w.src=_,a.appendChild(w)};Wi(()=>u(r));function c(f){We[f?"unshift":"push"](()=>{a=f,t(0,a)})}return i.$$set=f=>{"coverPath"in f&&t(1,r=f.coverPath)},i.$$.update=()=>{i.$$.dirty&2&&u(r)},[a,r,c]}class Kd extends se{constructor(e){super(),oe(this,e,Yd,Wd,de,{coverPath:1})}}class Xd{constructor(e,t){_e(this,"timer");this.callBack=e,this.interval=t}debounce(e){window.clearTimeout(this.timer),this.timer=window.setTimeout(this.callBack,this.interval,[e])}}class xd{constructor(e,t){_e(this,"skip",!1);this.callBack=e,this.interval=t}throttle(e){this.skip||(this.callBack(e),this.skip=!0,window.setTimeout(()=>{this.skip=!1},this.interval))}}function $d(i){let e,t;return{c(){e=L("span"),t=U(i[0]),o(e,"class","badge svelte-vu3nmn")},m(n,l){E(n,e,l),g(e,t)},p(n,[l]){l&1&&K(t,n[0])},i:J,o:J,d(n){n&&S(e)}}}function eo(i,e,t){let{value:n}=e;return i.$$set=l=>{"value"in l&&t(0,n=l.value)},[n]}class pa extends se{constructor(e){super(),oe(this,e,eo,$d,de,{value:0})}}const io={rootMargin:"0px",threshold:0};class to{constructor(e,t={}){_e(this,"observer");if(typeof IntersectionObserver>"u")throw new Error("IntersentionObserver is not supported");const n=Object.assign({root:e},io,t);this.observer=new IntersectionObserver(this.handleEvent,n)}handleEvent(e,t){e.forEach(n=>{n.target.dispatchEvent(new CustomEvent("intersect",{detail:n}))})}observe(e){return this.observer.observe(e),{destroy:()=>{this.observer.unobserve(e)}}}close(){this.observer.disconnect()}}function al(i,e,t){const n=i.slice();return n[43]=e[t],n}function ul(i,e,t){const n=i.slice();return n[46]=e[t],n}function dl(i,e,t){const n=i.slice();return n[49]=e[t],n}function ol(i,e,t){const n=i.slice();return n[52]=e[t],n}function sl(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A;l=new pa({props:{value:i[4].length}});const R=[lo,no],z=[];function j(h,m){return h[10]?0:1}u=j(i),c=z[u]=R[u](i);let q=Ke(i[4]),T=[];for(let h=0;h<q.length;h+=1)T[h]=cl(ol(i,q,h));const s=h=>V(T[h],1,1,()=>{T[h]=null});return{c(){e=L("details"),t=L("summary"),n=U(`Subfolders\r
          `),re(l.$$.fragment),a=F(),r=L("span"),c.c(),_=F(),w=L("ul");for(let h=0;h<T.length;h+=1)T[h].c();o(r,"class","summary-icons button-like svelte-rk76ov"),o(r,"aria-label",f="Sort by "+(i[10]?"Time":"Name")),o(r,"role","button"),o(t,"class","svelte-rk76ov"),o(w,"class","items-list"),e.open=!0,o(e,"role","region"),o(e,"aria-label","Subfolders")},m(h,m){E(h,e,m),g(e,t),g(t,n),ne(l,t,null),g(t,a),g(t,r),z[u].m(r,null),g(e,_),g(e,w);for(let p=0;p<T.length;p+=1)T[p]&&T[p].m(w,null);b=!0,d||(A=Z(r,"click",Sa(Ye(i[12]))),d=!0)},p(h,m){const p={};m[0]&16&&(p.value=h[4].length),l.$set(p);let k=u;if(u=j(h),u!==k&&(ke(),V(z[k],1,1,()=>{z[k]=null}),ye(),c=z[u],c||(c=z[u]=R[u](h),c.c()),I(c,1),c.m(r,null)),(!b||m[0]&1024&&f!==(f="Sort by "+(h[10]?"Time":"Name")))&&o(r,"aria-label",f),m[0]&8220){q=Ke(h[4]);let C;for(C=0;C<q.length;C+=1){const y=ol(h,q,C);T[C]?(T[C].p(y,m),I(T[C],1)):(T[C]=cl(y),T[C].c(),I(T[C],1),T[C].m(w,null))}for(ke(),C=q.length;C<T.length;C+=1)s(C);ye()}},i(h){if(!b){I(l.$$.fragment,h),I(c);for(let m=0;m<q.length;m+=1)I(T[m]);b=!0}},o(h){V(l.$$.fragment,h),V(c),T=T.filter(Boolean);for(let m=0;m<T.length;m+=1)V(T[m]);b=!1},d(h){h&&S(e),le(l),z[u].d(),Fi(T,h),d=!1,A()}}}function no(i){let e,t;return e=new kd({}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function lo(i){let e,t;return e=new Ld({}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function cl(i){let e,t,n,l,a,r;return t=new Gd({props:{observer:i[3],subfolder:i[52],extended:i[2].type!=be.REGULAR,finished:i[52].finished}}),{c(){e=L("li"),re(t.$$.fragment),n=F()},m(u,c){E(u,e,c),ne(t,e,null),g(e,n),l=!0,a||(r=Z(e,"click",function(){Ci(i[13](i[52].path))&&i[13](i[52].path).apply(this,arguments)}),a=!0)},p(u,c){i=u;const f={};c[0]&8&&(f.observer=i[3]),c[0]&16&&(f.subfolder=i[52]),c[0]&4&&(f.extended=i[2].type!=be.REGULAR),c[0]&16&&(f.finished=i[52].finished),t.$set(f)},i(u){l||(I(t.$$.fragment,u),l=!0)},o(u){V(t.$$.fragment,u),l=!1},d(u){u&&S(e),le(t),a=!1,r()}}}function fl(i){let e,t,n=Ke(ut(Array.from(i[5].keys()))),l=[];for(let r=0;r<n.length;r+=1)l[r]=ml(ul(i,n,r));const a=r=>V(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=pe()},m(r,u){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(r,u);E(r,e,u),t=!0},p(r,u){if(u[0]&16418){n=Ke(ut(Array.from(r[5].keys())));let c;for(c=0;c<n.length;c+=1){const f=ul(r,n,c);l[c]?(l[c].p(f,u),I(l[c],1)):(l[c]=ml(f),l[c].c(),I(l[c],1),l[c].m(e.parentNode,e))}for(ke(),c=n.length;c<l.length;c+=1)a(c);ye()}},i(r){if(!t){for(let u=0;u<n.length;u+=1)I(l[u]);t=!0}},o(r){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)V(l[u]);t=!1},d(r){r&&S(e),Fi(l,r)}}}function hl(i){let e,t;return e=new Bd({props:{file:i[49],position:i[49].id,container:i[1],playFunction:i[14]}}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},p(n,l){const a={};l[0]&32&&(a.file=n[49]),l[0]&32&&(a.position=n[49].id),l[0]&2&&(a.container=n[1]),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function ml(i){let e,t,n=i[46]+"",l,a,r,u,c,f;a=new pa({props:{value:i[5].get(i[46]).length}});let _=Ke(ut(i[5].get(i[46]))),w=[];for(let d=0;d<_.length;d+=1)w[d]=hl(dl(i,_,d));const b=d=>V(w[d],1,1,()=>{w[d]=null});return{c(){e=L("details"),t=L("summary"),l=U(n),re(a.$$.fragment),r=F(),u=L("ul");for(let d=0;d<w.length;d+=1)w[d].c();c=F(),o(t,"class","svelte-rk76ov"),o(u,"class","items-list"),e.open=!0,o(e,"role","region"),o(e,"aria-label","Files"),o(e,"class","details-album svelte-rk76ov")},m(d,A){E(d,e,A),g(e,t),g(t,l),ne(a,t,null),g(e,r),g(e,u);for(let R=0;R<w.length;R+=1)w[R]&&w[R].m(u,null);g(e,c),f=!0},p(d,A){(!f||A[0]&32)&&n!==(n=d[46]+"")&&K(l,n);const R={};if(A[0]&32&&(R.value=d[5].get(d[46]).length),a.$set(R),A[0]&16418){_=Ke(ut(d[5].get(d[46])));let z;for(z=0;z<_.length;z+=1){const j=dl(d,_,z);w[z]?(w[z].p(j,A),I(w[z],1)):(w[z]=hl(j),w[z].c(),I(w[z],1),w[z].m(u,null))}for(ke(),z=_.length;z<w.length;z+=1)b(z);ye()}},i(d){if(!f){I(a.$$.fragment,d);for(let A=0;A<_.length;A+=1)I(w[A]);f=!0}},o(d){V(a.$$.fragment,d),w=w.filter(Boolean);for(let A=0;A<w.length;A+=1)V(w[A]);f=!1},d(d){d&&S(e),le(a),Fi(w,d)}}}function _l(i){let e,t,n=i[9]||i[8]||Pt(i[6]),l,a=i[7]&&i[11]&&gl(i),r=n&&bl(i);return{c(){e=L("div"),a&&a.c(),t=F(),r&&r.c(),o(e,"class","browser-sidebar svelte-rk76ov")},m(u,c){E(u,e,c),a&&a.m(e,null),g(e,t),r&&r.m(e,null),l=!0},p(u,c){u[7]&&u[11]?a?(a.p(u,c),c[0]&128&&I(a,1)):(a=gl(u),a.c(),I(a,1),a.m(e,t)):a&&(ke(),V(a,1,1,()=>{a=null}),ye()),c[0]&832&&(n=u[9]||u[8]||Pt(u[6])),n?r?(r.p(u,c),c[0]&832&&I(r,1)):(r=bl(u),r.c(),I(r,1),r.m(e,null)):r&&(ke(),V(r,1,1,()=>{r=null}),ye())},i(u){l||(I(a),I(r),l=!0)},o(u){V(a),V(r),l=!1},d(u){u&&S(e),a&&a.d(),r&&r.d()}}}function gl(i){let e,t,n,l,a,r,u=Gi(i[7].position)+"",c,f,_,w;return n=new ma({props:{size:"2rem"}}),{c(){e=L("div"),t=L("button"),re(n.$$.fragment),l=F(),a=U(i[11]),r=U(" at "),c=U(u),o(t,"aria-label","Continue on last position in this folder"),o(t,"class","svelte-rk76ov"),o(e,"class","last-position"),o(e,"id","last-remote-position")},m(b,d){E(b,e,d),g(e,t),ne(n,t,null),g(t,l),g(t,a),g(t,r),g(t,c),f=!0,_||(w=Z(t,"click",ao),_=!0)},p(b,d){(!f||d[0]&128)&&u!==(u=Gi(b[7].position)+"")&&K(c,u)},i(b){f||(I(n.$$.fragment,b),f=!0)},o(b){V(n.$$.fragment,b),f=!1},d(b){b&&S(e),le(n),_=!1,w()}}}function bl(i){let e,t,n,l,a,r,u=i[0]&&wl(i);return{c(){e=L("details"),t=L("summary"),t.textContent="Info",n=F(),u&&u.c(),o(t,"class","svelte-rk76ov"),o(e,"role","complementary")},m(c,f){E(c,e,f),g(e,t),g(e,n),u&&u.m(e,null),e.open=i[0],l=!0,a||(r=Z(e,"toggle",i[18]),a=!0)},p(c,f){c[0]?u?(u.p(c,f),f[0]&1&&I(u,1)):(u=wl(c),u.c(),I(u,1),u.m(e,null)):u&&(ke(),V(u,1,1,()=>{u=null}),ye()),f[0]&1&&(e.open=c[0])},i(c){l||(I(u),l=!0)},o(c){V(u),l=!1},d(c){c&&S(e),u&&u.d(),a=!1,r()}}}function wl(i){let e,t=Pt(i[6]),n,l,a,r=i[9]&&pl(i),u=t&&vl(i),c=i[8]&&yl(i);return{c(){r&&r.c(),e=F(),u&&u.c(),n=F(),c&&c.c(),l=pe()},m(f,_){r&&r.m(f,_),E(f,e,_),u&&u.m(f,_),E(f,n,_),c&&c.m(f,_),E(f,l,_),a=!0},p(f,_){f[9]?r?(r.p(f,_),_[0]&512&&I(r,1)):(r=pl(f),r.c(),I(r,1),r.m(e.parentNode,e)):r&&(ke(),V(r,1,1,()=>{r=null}),ye()),_[0]&64&&(t=Pt(f[6])),t?u?u.p(f,_):(u=vl(f),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null),f[8]?c?(c.p(f,_),_[0]&256&&I(c,1)):(c=yl(f),c.c(),I(c,1),c.m(l.parentNode,l)):c&&(ke(),V(c,1,1,()=>{c=null}),ye())},i(f){a||(I(r),I(c),a=!0)},o(f){V(r),V(c),a=!1},d(f){f&&(S(e),S(n),S(l)),r&&r.d(f),u&&u.d(f),c&&c.d(f)}}}function pl(i){let e,t,n;return t=new Kd({props:{coverPath:i[9]}}),{c(){e=L("div"),re(t.$$.fragment),o(e,"id","folder-cover")},m(l,a){E(l,e,a),ne(t,e,null),n=!0},p(l,a){const r={};a[0]&512&&(r.coverPath=l[9]),t.$set(r)},i(l){n||(I(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&S(e),le(t)}}}function vl(i){let e,t,n,l=Ke(ut(Object.keys(i[6]))),a=[];for(let r=0;r<l.length;r+=1)a[r]=kl(al(i,l,r));return{c(){e=L("div"),t=L("table"),n=L("tbody");for(let r=0;r<a.length;r+=1)a[r].c();o(t,"role","grid"),o(e,"id","folder-tags"),o(e,"class","svelte-rk76ov")},m(r,u){E(r,e,u),g(e,t),g(t,n);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(n,null)},p(r,u){if(u[0]&64){l=Ke(ut(Object.keys(r[6])));let c;for(c=0;c<l.length;c+=1){const f=al(r,l,c);a[c]?a[c].p(f,u):(a[c]=kl(f),a[c].c(),a[c].m(n,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=l.length}},d(r){r&&S(e),Fi(a,r)}}}function kl(i){let e,t,n=i[43]+"",l,a,r,u=i[6][i[43]]+"",c,f;return{c(){e=L("tr"),t=L("th"),l=U(n),a=F(),r=L("td"),c=U(u),f=F()},m(_,w){E(_,e,w),g(e,t),g(t,l),g(e,a),g(e,r),g(r,c),g(e,f)},p(_,w){w[0]&64&&n!==(n=_[43]+"")&&K(l,n),w[0]&64&&u!==(u=_[6][_[43]]+"")&&K(c,u)},d(_){_&&S(e)}}}function yl(i){let e,t,n;return t=new Qd({props:{descriptionPath:i[8]}}),{c(){e=L("div"),re(t.$$.fragment),o(e,"id","folder-description")},m(l,a){E(l,e,a),ne(t,e,null),n=!0},p(l,a){const r={};a[0]&256&&(r.descriptionPath=l[8]),t.$set(r)},i(l){n||(I(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&S(e),le(t)}}}function ro(i){let e,t,n,l,a,r=i[4].length>0&&sl(i),u=i[5].size>0&&fl(i),c=i[2]&&i[2].type===be.REGULAR&&_l(i);return{c(){e=L("div"),t=L("div"),r&&r.c(),n=F(),u&&u.c(),l=F(),c&&c.c(),o(t,"class","main-browser-panel svelte-rk76ov"),o(e,"id","browser"),o(e,"class","svelte-rk76ov")},m(f,_){E(f,e,_),g(e,t),r&&r.m(t,null),g(t,n),u&&u.m(t,null),g(e,l),c&&c.m(e,null),a=!0},p(f,_){f[4].length>0?r?(r.p(f,_),_[0]&16&&I(r,1)):(r=sl(f),r.c(),I(r,1),r.m(t,n)):r&&(ke(),V(r,1,1,()=>{r=null}),ye()),f[5].size>0?u?(u.p(f,_),_[0]&32&&I(u,1)):(u=fl(f),u.c(),I(u,1),u.m(t,null)):u&&(ke(),V(u,1,1,()=>{u=null}),ye()),f[2]&&f[2].type===be.REGULAR?c?(c.p(f,_),_[0]&4&&I(c,1)):(c=_l(f),c.c(),I(c,1),c.m(e,null)):c&&(ke(),V(c,1,1,()=>{c=null}),ye())},i(f){a||(I(r),I(u),I(c),a=!0)},o(f){V(r),V(u),V(c),a=!1},d(f){f&&S(e),r&&r.d(),u&&u.d(),c&&c.d()}}}function ao(){}function uo(i,e,t){let n,l,a,r,u,c,f;te(i,je,X=>t(24,n=X)),te(i,zi,X=>t(25,X)),te(i,Ue,X=>t(2,l=X)),te(i,Qi,X=>t(26,a=X)),te(i,Bi,X=>t(27,r=X)),te(i,Ri,X=>t(28,u=X)),te(i,tn,X=>t(29,c=X)),te(i,Ui,X=>t(30,f=X));const _=rt("cache"),w=rt("history");let{container:b}=e,d,{infoOpen:A=!1}=e;const R=X=>{if(console.debug("navigate"),!ce())ae(je,n=a.collection,n),ae(Ue,l={value:a.folder,type:be.REGULAR},l);else if(X===yt.PLAY_ITEM){const $=document.querySelector("div.item.active");$!=null&&new sa(b).scrollToView($.parentElement)}};let z=[],j=new Map,q=new Map,T,s=!1,h,m,p=null,k,C,y,P,D=!1,B=new window.Intl.Collator(navigator.language);const M=()=>{t(10,D=!D),t(4,z=H(z))};function H(X){return X.sort(($,Ae)=>D?$.modified<Ae.modified?1:$.modified>Ae.modified?-1:0:B.compare($.name,Ae.name))}async function v(X){try{const $=await c.colIdSearchGet({colId:n,q:X,group:f});t(4,z=$.subfolders),h=X,t(7,k=void 0),T=void 0,s=!1,m=void 0,t(6,p=void 0),t(8,y=void 0),t(9,P=void 0)}catch($){console.error("Cannot search",$),$.status===401?ae(Ri,u=!1,u):(window.alert("Failed to search"),T&&ae(Ue,l={type:be.REGULAR,value:T},l))}}async function N(){var X,$;try{console.log("loadAll");const Ae="",Ce=await c.colIdAll({colId:n});j=Ce.files,t(5,q=new Map),Ce.files.forEach(Me=>{const Le=q.get(Me.parent_dir)||[];Le.push(Me),q.set(Me.parent_dir,Le)}),console.log("dirs: ",q),t(4,z=H(Ce.subfolders)),localStorage.setItem(Re.LAST_FOLDER,Ae),m=Ce.totalTime,t(6,p=Ce.tags),t(8,y=(X=Ce.description)==null?void 0:X.path),t(9,P=($=Ce.cover)==null?void 0:$.path),T=Ae,s=!Ce.isFile&&Ce.isCollapsed,ae(Qi,a={files:j,dirs:q,collection:n,folder:l.value,totalTime:m,hasImage:P&&P.length>0},a)}catch(Ae){console.error("Cannot load all",Ae),Ae.status===404?(console.error("loadAll not found"),ae(Ue,l={value:"",type:be.REGULAR},l)):Ae.status===401&&ae(Ri,u=!1,u)}finally{h=void 0}}function Q(X){if(h!=null)return{folderType:be.SEARCH,value:h,collection:n,scrollTo:X};if(T!=null)return{folderType:be.REGULAR,value:T,collection:n,scrollTo:X}}function ee(X){return()=>{console.debug("navigateTo"),ae(Ue,l={value:X,type:be.REGULAR},l)}}function Y(X,$=!0,Ae){const Ce=j.get(X),Me=new Ct({file:Ce,startPlay:$,time:Ae});let Le=Ei(fi.PlayTrack,{collection:n,track_id:Ce.id});ri.send(JSON.stringify(Le)),ae(Bi,r=Me,r),console.debug("startPlaying end")}const x=[];x.push(je.subscribe(X=>{X!=null&&(T===void 0?l||ae(Ue,l={value:localStorage.getItem(Re.LAST_FOLDER)||"",type:be.REGULAR},l):(ae(Ue,l={value:"",type:be.REGULAR},l),T===""&&N()),localStorage.setItem(Re.LAST_COLLECTION,n.toString()))}));function ce(){return a&&a.collection===n&&a.folder===T}zt();function we(X){console.log("handleCacheEvent");const $=X.item;$&&(X.kind,rn.FileCached,console.debug("File cached",$))}_==null||_.addListener(we);let Pe=new Xd(()=>{w.update(Q(b.scrollTop))},250);const ge=()=>Pe.debounce();pt(()=>{x.forEach(X=>X()),_==null||_.removeListener(we),b.removeEventListener("scroll",ge),d.close()});function ve(){A=this.open,t(0,A)}return i.$$set=X=>{"container"in X&&t(1,b=X.container),"infoOpen"in X&&t(0,A=X.infoOpen)},i.$$.update=()=>{if(i.$$.dirty[0]&2&&b&&t(3,d=new to(b,{rootMargin:"64px"})),i.$$.dirty[0]&6&&l!=null){console.log("Browser loadAll...");let X;const $=l.scrollTo;l.type===be.REGULAR?X=N():l.type===be.SEARCH&&(X=v(l.value)),X.then(()=>{w.add(Q()),ce()||b.scrollTo({top:$||0})})}i.$$.dirty[0]&2&&(b==null||b.addEventListener("scroll",ge))},[A,b,l,d,z,q,p,k,y,P,D,C,M,ee,Y,R,N,Q,ve]}class oo extends se{constructor(e){super(),oe(this,e,uo,ro,de,{container:1,infoOpen:0,navigate:15,loadAll:16,constructHistoryState:17},null,[-1,-1])}get navigate(){return this.$$.ctx[15]}get loadAll(){return this.$$.ctx[16]}get constructHistoryState(){return this.$$.ctx[17]}}function Cl(i,e){return i.collection===e.collection&&i.folderType===e.folderType&&i.value===e.value}function Oi(i){return`#${i.collection}/${i.folderType===be.SEARCH?"search:":""}${encodeURIComponent(i.value)}`}function so(i){const e=/#(\d+)\/(search:)?(.*)/.exec(i);if(e){const t=Number(e[1]);return{folderType:e[2]?be.SEARCH:be.REGULAR,collection:t,value:decodeURIComponent(e[3])}}else return null}class co{constructor(e){_e(this,"onPopup",e=>{const t=e.state;this.beforeChange(),t&&(je.set(t.collection),Ue.set({type:t.folderType,value:t.value,scrollTo:t.scrollTo}))});this.beforeChange=e,window.addEventListener("popstate",this.onPopup)}update(e){e&&history.state&&Cl(history.state,e)&&window.history.replaceState(e,"")}add(e){e&&(!history.state||!Cl(history.state,e))&&history.pushState(e,"",Oi(e))}finish(){window.removeEventListener("popstate",this.onPopup)}}function Ll(i,e,t){const n=i.slice();return n[7]=e[t],n[9]=t,n}function Pl(i){let e,t,n=i[7]+"",l,a,r,u,c,f;return{c(){e=U(`/\r
      `),t=L("a"),l=U(n),a=U(` \r
      `),o(t,"href",r=i[2]===be.SEARCH?Oi({folderType:i[2],collection:i[3],value:i[0].value}):Oi({folderType:be.REGULAR,collection:i[3],value:i[1].slice(0,i[9]+1).join("/")})),o(t,"aria-current",u=i[9]===i[1].length-1?"page":null),o(t,"class","svelte-17mo3uz")},m(_,w){E(_,e,w),E(_,t,w),g(t,l),g(t,a),c||(f=Z(t,"click",Ye(i[6](i[9]))),c=!0)},p(_,w){i=_,w&2&&n!==(n=i[7]+"")&&K(l,n),w&15&&r!==(r=i[2]===be.SEARCH?Oi({folderType:i[2],collection:i[3],value:i[0].value}):Oi({folderType:be.REGULAR,collection:i[3],value:i[1].slice(0,i[9]+1).join("/")}))&&o(t,"href",r),w&2&&u!==(u=i[9]===i[1].length-1?"page":null)&&o(t,"aria-current",u)},d(_){_&&(S(e),S(t)),c=!1,f()}}}function fo(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A,R=Ke(i[1]),z=[];for(let j=0;j<R.length;j+=1)z[j]=Pl(Ll(i,R,j));return{c(){e=L("nav"),t=L("div"),n=L("a"),l=U("Home"),u=F(),c=L("a"),f=U("All"),b=F();for(let j=0;j<z.length;j+=1)z[j].c();o(n,"href",a=Oi({folderType:be.REGULAR,collection:i[3],value:""})),o(n,"aria-current",r=i[1].length===0?"page":null),o(n,"class","svelte-17mo3uz"),o(c,"href",_=Oi({folderType:be.REGULAR,collection:i[3],value:""})),o(c,"aria-current",w=i[1].length===0?"page":null),o(c,"class","svelte-17mo3uz"),o(t,"class","breadcrumb svelte-17mo3uz"),o(e,"aria-label","Breadcrumb"),o(e,"class","svelte-17mo3uz")},m(j,q){E(j,e,q),g(e,t),g(t,n),g(n,l),g(t,u),g(t,c),g(c,f),g(t,b);for(let T=0;T<z.length;T+=1)z[T]&&z[T].m(t,null);d||(A=[Z(n,"click",Ye(i[4])),Z(c,"click",Ye(i[5]))],d=!0)},p(j,[q]){if(q&8&&a!==(a=Oi({folderType:be.REGULAR,collection:j[3],value:""}))&&o(n,"href",a),q&2&&r!==(r=j[1].length===0?"page":null)&&o(n,"aria-current",r),q&8&&_!==(_=Oi({folderType:be.REGULAR,collection:j[3],value:""}))&&o(c,"href",_),q&2&&w!==(w=j[1].length===0?"page":null)&&o(c,"aria-current",w),q&79){R=Ke(j[1]);let T;for(T=0;T<R.length;T+=1){const s=Ll(j,R,T);z[T]?z[T].p(s,q):(z[T]=Pl(s),z[T].c(),z[T].m(t,null))}for(;T<z.length;T+=1)z[T].d(1);z.length=R.length}},i:J,o:J,d(j){j&&S(e),Fi(z,j),d=!1,Be(A)}}}const Al="Search: ";function ho(i,e,t){let n,l;te(i,Ue,_=>t(0,n=_)),te(i,je,_=>t(3,l=_));let a=[],r=be.REGULAR;function u(){console.debug("goHome"),ae(Ue,n={value:"",type:be.REGULAR},n)}async function c(){console.debug("goAll"),ae(Ue,n={value:"",type:be.REGULAR},n)}function f(_){return()=>{if(r===be.REGULAR){const w=a.slice(0,_+1).join("/");ae(Ue,n={value:w,type:be.REGULAR},n)}else{let w=a[0].substring(Al.length);ae(Ue,n={value:w,type:be.SEARCH},n)}}}return i.$$.update=()=>{var _;i.$$.dirty&1&&((n==null?void 0:n.type)===be.REGULAR?(console.debug("currentFolder type REG"),t(1,a=((_=n.value)==null?void 0:_.split("/"))||[]),t(2,r=be.REGULAR)):(n==null?void 0:n.type)===be.SEARCH&&(t(1,a=[Al+n.value]),t(2,r=be.SEARCH)))},[n,a,r,l,u,c,f]}class mo extends se{constructor(e){super(),oe(this,e,ho,fo,de,{})}}function Sl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function El(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function _o(i){let e,t,n,l=i[7]&&Sl(i),a=i[6]&&El(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M4,12H20V14H4V12M4,9H20V11H4V9M16,4L12,8L8,4H11V1H13V4H16M8,19L12,15L16,19H13V22H11V19H8Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Sl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=El(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function go(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class bo extends se{constructor(e){super(),oe(this,e,go,_o,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function zl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Tl(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function wo(i){let e,t,n,l=i[7]&&zl(i),a=i[6]&&Tl(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M16.5,21C13.5,21 12.31,16.76 11.05,12.28C10.14,9.04 9,5 7.5,5C4.11,5 4,11.93 4,12H2C2,11.63 2.06,3 7.5,3C10.5,3 11.71,7.25 12.97,11.74C13.83,14.8 15,19 16.5,19C19.94,19 20.03,12.07 20.03,12H22.03C22.03,12.37 21.97,21 16.5,21Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=zl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Tl(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function po(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class vo extends se{constructor(e){super(),oe(this,e,po,wo,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Hl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Rl(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function ko(i){let e,t,n,l=i[7]&&Hl(i),a=i[6]&&Rl(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Hl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Rl(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function yo(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class Co extends se{constructor(e){super(),oe(this,e,yo,ko,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Bl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Il(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Lo(i){let e,t,n,l=i[7]&&Bl(i),a=i[6]&&Il(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M14,19H18V5H14M6,19H10V5H6V19Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Bl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Il(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Po(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class Ao extends se{constructor(e){super(),oe(this,e,Po,Lo,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Ml(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Ol(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function So(i){let e,t,n,l=i[7]&&Ml(i),a=i[6]&&Ol(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Ml(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Ol(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Eo(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class zo extends se{constructor(e){super(),oe(this,e,Eo,So,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Fl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Nl(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function To(i){let e,t,n,l=i[7]&&Fl(i),a=i[6]&&Nl(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M16,18H18V6H16M6,18L14.5,12L6,6V18Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Fl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Nl(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Ho(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class Ro extends se{constructor(e){super(),oe(this,e,Ho,To,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Dl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Vl(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Bo(i){let e,t,n,l=i[7]&&Dl(i),a=i[6]&&Vl(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Dl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Vl(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Io(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class Mo extends se{constructor(e){super(),oe(this,e,Io,Bo,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function jl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Gl(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Oo(i){let e,t,n,l=i[7]&&jl(i),a=i[6]&&Gl(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=jl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Gl(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Fo(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class No extends se{constructor(e){super(),oe(this,e,Fo,Oo,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Ul(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function ql(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Do(i){let e,t,n,l=i[7]&&Ul(i),a=i[6]&&ql(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M12 1.38L9.14 12.06C8.8 13.1 9.04 14.29 9.86 15.12C11.04 16.29 12.94 16.29 14.11 15.12C14.9 14.33 15.16 13.2 14.89 12.21M14.6 3.35L15.22 5.68C18.04 6.92 20 9.73 20 13C20 15.21 19.11 17.21 17.66 18.65H17.65C17.26 19.04 17.26 19.67 17.65 20.06C18.04 20.45 18.68 20.45 19.07 20.07C20.88 18.26 22 15.76 22 13C22 8.38 18.86 4.5 14.6 3.35M9.4 3.36C5.15 4.5 2 8.4 2 13C2 15.76 3.12 18.26 4.93 20.07C5.32 20.45 5.95 20.45 6.34 20.06C6.73 19.67 6.73 19.04 6.34 18.65C4.89 17.2 4 15.21 4 13C4 9.65 5.94 6.86 8.79 5.65"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Ul(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=ql(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Vo(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class jo extends se{constructor(e){super(),oe(this,e,Vo,Do,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Jl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Zl(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Go(i){let e,t,n,l=i[7]&&Jl(i),a=i[6]&&Zl(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Jl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Zl(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Uo(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class qo extends se{constructor(e){super(),oe(this,e,Uo,Go,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Ql(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Wl(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Jo(i){let e,t,n,l=i[7]&&Ql(i),a=i[6]&&Wl(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Ql(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Wl(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Zo(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class Qo extends se{constructor(e){super(),oe(this,e,Zo,Jo,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Yl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Kl(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function Wo(i){let e,t,n,l=i[7]&&Yl(i),a=i[6]&&Kl(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Yl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Kl(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function Yo(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class Ko extends se{constructor(e){super(),oe(this,e,Yo,Wo,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Xo(i){let e,t;return{c(){e=L("div"),t=L("div"),o(t,"class","cache-bar svelte-7hdto7"),ti(t,"width","Opx"),o(e,"class","player-cache svelte-7hdto7")},m(n,l){E(n,e,l),g(e,t),i[5](t),i[6](e)},p:J,i:J,o:J,d(n){n&&S(e),i[5](null),i[6](null)}}}function xo(i,e,t){let{offset:n=0}=e,{totalTime:l=0}=e,{ranges:a}=e,r,u,c="";Wi(()=>{c=Array.from(u.classList).filter(b=>b.includes("svelte-"))[0]});function f(){if(!r)return;let b=r.offsetWidth,d=b*n/l;for(;r.firstChild;)r.removeChild(r.firstChild);for(const A of a){let R=A.start,z=A.end;R=d+b*R/l,z=d+b*z/l,z=Math.min(b,z);let j=document.createElement("div");j.setAttribute("class","cache-bar "+c),j.style.left=`${R}px`,j.style.width=`${z-R}px`,r.appendChild(j)}}nn.subscribe(()=>{r&&f()});function _(b){We[b?"unshift":"push"](()=>{u=b,t(1,u)})}function w(b){We[b?"unshift":"push"](()=>{r=b,t(0,r)})}return i.$$set=b=>{"offset"in b&&t(2,n=b.offset),"totalTime"in b&&t(3,l=b.totalTime),"ranges"in b&&t(4,a=b.ranges)},i.$$.update=()=>{i.$$.dirty&16&&a&&f()},[r,u,n,l,a,_,w]}class $o extends se{constructor(e){super(),oe(this,e,xo,Xo,de,{offset:2,totalTime:3,ranges:4})}}const Xl=6e4,es=31556952e3;function is(i){const e=Date.now()-i;return e<1e4?0:e<5*Xl?2:e<30*Xl?15:e<es?30:0}function ts(i,e){return Math.floor(Math.random()*(e-i+1)+i)}function xl(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function $l(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function ns(i){let e,t,n,l=i[7]&&xl(i),a=i[6]&&$l(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=xl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=$l(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function ls(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class rs extends se{constructor(e){super(),oe(this,e,ls,ns,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function er(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function ir(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function as(i){let e,t,n,l=i[7]&&er(i),a=i[6]&&ir(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M19,13H5V11H19V13Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=er(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=ir(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function us(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class ds extends se{constructor(e){super(),oe(this,e,us,as,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function tr(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function nr(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function os(i){let e,t,n,l=i[7]&&tr(i),a=i[6]&&nr(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=tr(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=nr(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function ss(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class cs extends se{constructor(e){super(),oe(this,e,ss,os,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function lr(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function rr(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function fs(i){let e,t,n,l=i[7]&&lr(i),a=i[6]&&rr(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=lr(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=rr(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function hs(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class ms extends se{constructor(e){super(),oe(this,e,hs,fs,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function ar(i){let e,t,n,l,a;return t=new ha({props:{size:i[0]}}),{c(){e=L("span"),re(t.$$.fragment),o(e,"role","button"),o(e,"class","button-like cancel-sleep  svelte-1wjv68s")},m(r,u){E(r,e,u),ne(t,e,null),n=!0,l||(a=Z(e,"click",i[19]),l=!0)},p(r,u){const c={};u&1&&(c.size=r[0]),t.$set(c)},i(r){n||(I(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){r&&S(e),le(t),l=!1,a()}}}function _s(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A,R,z,j,q;n=new rs({props:{size:i[0]}}),r=new ds({props:{size:i[0]}}),w=new ms({props:{size:i[0]}}),A=new cs({props:{size:i[0]}});let T=i[5]>0&&ar(i);return{c(){e=L("div"),t=L("span"),re(n.$$.fragment),l=F(),a=L("span"),re(r.$$.fragment),u=F(),c=L("input"),f=F(),_=L("span"),re(w.$$.fragment),b=F(),d=L("span"),re(A.$$.fragment),R=F(),T&&T.c(),o(t,"role","button"),o(t,"class","button-like big-minus svelte-1wjv68s"),o(a,"role","button"),o(a,"class","button-like"),o(c,"tabindex","0"),o(c,"type","number"),o(c,"name","timer"),o(c,"id","timer"),o(c,"min","0"),o(c,"max","999"),o(c,"aria-label","Timer finer control"),o(c,"class","svelte-1wjv68s"),o(_,"role","button"),o(_,"class","button-like"),o(d,"role","button"),o(d,"class","button-like big-plus svelte-1wjv68s")},m(s,h){E(s,e,h),g(e,t),ne(n,t,null),g(e,l),g(e,a),ne(r,a,null),g(e,u),g(e,c),i[12](c),he(c,i[1]),g(e,f),g(e,_),ne(w,_,null),g(e,b),g(e,d),ne(A,d,null),g(e,R),T&&T.m(e,null),z=!0,j||(q=[Z(t,"click",i[10]),Z(a,"click",i[11]),Z(c,"input",i[13]),Z(c,"focus",i[14]),Z(c,"blur",i[15]),Z(c,"input",i[9]),Z(c,"keyup",i[16]),Z(_,"click",i[17]),Z(d,"click",i[18])],j=!0)},p(s,[h]){const m={};h&1&&(m.size=s[0]),n.$set(m);const p={};h&1&&(p.size=s[0]),r.$set(p),h&2&&Te(c.value)!==s[1]&&he(c,s[1]);const k={};h&1&&(k.size=s[0]),w.$set(k);const C={};h&1&&(C.size=s[0]),A.$set(C),s[5]>0?T?(T.p(s,h),h&32&&I(T,1)):(T=ar(s),T.c(),I(T,1),T.m(e,null)):T&&(ke(),V(T,1,1,()=>{T=null}),ye())},i(s){z||(I(n.$$.fragment,s),I(r.$$.fragment,s),I(w.$$.fragment,s),I(A.$$.fragment,s),I(T),z=!0)},o(s){V(n.$$.fragment,s),V(r.$$.fragment,s),V(w.$$.fragment,s),V(A.$$.fragment,s),V(T),z=!1},d(s){s&&S(e),le(n),le(r),i[12](null),le(w),le(A),T&&T.d(),j=!1,Be(q)}}}let ur=Et(li,i=>i===0?"":i);function gs(i,e,t){let n,l,a;te(i,ur,k=>t(4,n=k)),te(i,li,k=>t(5,l=k)),te(i,Ii,k=>t(6,a=k));let{iconSize:r=""}=e,u="",c=!1,f;const _=ur.subscribe(k=>{k!=u&&!c&&t(1,u=k)}),w=()=>{u===""?ae(li,l=0,l):u!=l&&u>=0?ae(li,l=u,l):t(1,u=l)},b=k=>{ae(li,l=Math.max(l-k,0),l)},d=k=>{const y=k.target.value.replace(/\D/g,"");t(1,u=parseInt(y)||"")};Wi(()=>{t(1,u=n)}),pt(_);const A=()=>b(a.sleepTimerExtend),R=()=>b(1);function z(k){We[k?"unshift":"push"](()=>{f=k,t(3,f)})}function j(){u=Te(this.value),t(1,u)}const q=()=>t(2,c=!0),T=()=>{t(2,c=!1),w()},s=k=>{k.key==="Enter"?f.blur():k.key==="Escape"&&(t(1,u=n),f.blur())},h=()=>ae(li,l+=1,l),m=()=>ae(li,l+=a.sleepTimerExtend,l),p=()=>ae(li,l=0,l);return i.$$set=k=>{"iconSize"in k&&t(0,r=k.iconSize)},[r,u,c,f,n,l,a,w,b,d,A,R,z,j,q,T,s,h,m,p]}class bs extends se{constructor(e){super(),oe(this,e,gs,_s,de,{iconSize:0})}}const{isNaN:mt}=Aa;function ws(i){let e,t;return e=new Qo({props:{size:"48px"}}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function ps(i){let e,t;return e=new Ko({props:{size:"48px"}}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function dr(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A,R,z,j,q,T,s,h,m,p,k=i[3].toFixed(1)+"",C,y,P,D;return l=new fa({props:{size:ji}}),r=new bs({props:{iconSize:ji}}),_=new qo({props:{size:ji}}),T=new jo({props:{size:ji}}),{c(){e=L("div"),t=L("div"),n=L("span"),re(l.$$.fragment),a=F(),re(r.$$.fragment),u=F(),c=L("div"),f=L("span"),re(_.$$.fragment),w=F(),b=L("input"),d=F(),A=L("span"),R=U(i[4]),z=F(),j=L("div"),q=L("span"),re(T.$$.fragment),s=F(),h=L("input"),m=F(),p=L("span"),C=U(k),o(t,"class","timer-control slider-control extra-control svelte-gzcrby"),o(b,"tabindex","0"),o(b,"type","range"),o(b,"name","volume"),o(b,"id","volume"),o(b,"min","0"),o(b,"max","100"),o(b,"step","1"),o(b,"aria-label","Volume"),o(A,"class","control-value"),o(c,"class","volume-control slider-control extra-control svelte-gzcrby"),o(h,"tabindex","0"),o(h,"type","range"),o(h,"name","playback-speed"),o(h,"id","playback-speed"),o(h,"min","0.5"),o(h,"max","3"),o(h,"step","0.1"),o(h,"aria-label","Playback Speed"),o(p,"class","control-value"),o(j,"class","speed-control slider-control extra-control svelte-gzcrby"),o(e,"class","extra-controls svelte-gzcrby")},m(B,M){E(B,e,M),g(e,t),g(t,n),ne(l,n,null),g(t,a),ne(r,t,null),g(e,u),g(e,c),g(c,f),ne(_,f,null),g(c,w),g(c,b),he(b,i[4]),g(c,d),g(c,A),g(A,R),g(e,z),g(e,j),g(j,q),ne(T,q,null),g(j,s),g(j,h),he(h,i[3]),g(j,m),g(j,p),g(p,C),y=!0,P||(D=[Z(b,"change",i[44]),Z(b,"input",i[44]),Z(b,"change",i[25]),Z(h,"change",i[45]),Z(h,"input",i[45])],P=!0)},p(B,M){M[0]&16&&he(b,B[4]),(!y||M[0]&16)&&K(R,B[4]),M[0]&8&&he(h,B[3]),(!y||M[0]&8)&&k!==(k=B[3].toFixed(1)+"")&&K(C,k)},i(B){y||(I(l.$$.fragment,B),I(r.$$.fragment,B),I(_.$$.fragment,B),I(T.$$.fragment,B),y=!0)},o(B){V(l.$$.fragment,B),V(r.$$.fragment,B),V(_.$$.fragment,B),V(T.$$.fragment,B),y=!1},d(B){B&&S(e),le(l),le(r),le(_),le(T),P=!1,Be(D)}}}function or(i){let e,t,n,l,a;return t=new ba({props:{name:"",path:i[8].folder,size:"128px"}}),{c(){e=L("div"),re(t.$$.fragment),o(e,"class","icon svelte-gzcrby"),o(e,"aria-hidden","true")},m(r,u){E(r,e,u),ne(t,e,null),n=!0,l||(a=Z(e,"click",i[30]),l=!0)},p(r,u){const c={};u[0]&256&&(c.path=r[8].folder),t.$set(c)},i(r){n||(I(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){r&&S(e),le(t),l=!1,a()}}}function vs(i){let e,t;return e=new vo({props:{size:ji}}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},p:J,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function ks(i){let e,t;return e=new bo({props:{size:ji}}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},p:J,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function ys(i){let e,t;return e=new _a({props:{size:ji}}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},p:J,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function sr(i){let e,t=!1,n,l=!0,a,r;function u(){cancelAnimationFrame(n),e.paused||(n=xt(u),t=!0),i[47].call(e)}return{c(){e=L("audio"),o(e,"preload","none"),o(e,"crossorigin","use-credentials"),i[0]===void 0&&bt(()=>i[46].call(e))},m(c,f){E(c,e,f),mt(i[13])||(e.volume=i[13]),mt(i[3])||(e.playbackRate=i[3]),i[51](e),a||(r=[Z(e,"durationchange",i[46]),Z(e,"timeupdate",u),Z(e,"play",i[48]),Z(e,"pause",i[48]),Z(e,"volumechange",i[49]),Z(e,"ratechange",i[50]),Z(e,"error",i[24]),Z(e,"ended",i[29])],a=!0)},p(c,f){!t&&f[0]&2&&!mt(c[1])&&(e.currentTime=c[1]),t=!1,f[0]&128&&l!==(l=c[7])&&e[l?"pause":"play"](),f[0]&8192&&!mt(c[13])&&(e.volume=c[13]),f[0]&8&&!mt(c[3])&&(e.playbackRate=c[3])},d(c){c&&S(e),i[51](null),a=!1,Be(r)}}}function Cs(i){let e,t;return e=new Ao({props:{size:tt}}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},p:J,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function Ls(i){let e,t;return e=new ga({props:{size:tt}}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},p:J,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function Ps(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A,R,z,j,q,T,s,h,m,p,k,C,y,P=(i[17]?Kt+1:0)+"",D,B,M,H,v,N,Q,ee,Y,x,ce,we,Pe,ge,ve,X,$,Ae,Ce,Me,Le,ai,qe,ni,hi,Li,Oe,Xe,W,Fe,Se,Je,Pi,Ze,He,ei,mi,qi,Qe,Ai,xe,ui,$e,De,oi,ii;const Ji=[ps,ws],_i=[];function gi(ie,ue){return ie[10]?0:1}n=gi(i),l=_i[n]=Ji[n](i);let Ie=i[10]&&dr(i),Ee=i[23].width>Wt&&i[8].hasImage&&or(i);d=new Co({props:{size:ji}});const bi=[ys,ks,vs],di=[];function Ti(ie,ue){return ie[16]?0:ie[5]?1:2}s=Ti(i),h=di[s]=bi[s](i);let Ve=i[22]===i[21]&&sr(i);Le=new $o({props:{ranges:i[12],totalTime:i[6].duration}}),W=new zo({props:{size:tt}}),Je=new Mo({props:{size:tt}});const Ni=[Ls,Cs],si=[];function wi(ie,ue){return ie[7]?0:1}return He=wi(i),ei=si[He]=Ni[He](i),Ai=new No({props:{size:tt}}),$e=new Ro({props:{size:tt}}),{c(){e=L("div"),t=L("div"),l.c(),a=F(),Ie&&Ie.c(),r=F(),u=L("div"),Ee&&Ee.c(),c=F(),f=L("div"),_=L("div"),w=L("div"),b=L("label"),re(d.$$.fragment),A=F(),R=L("span"),z=U(i[15]),j=F(),q=L("div"),T=L("label"),h.c(),p=F(),k=L("span"),C=U("("),y=L("span"),D=U(P),B=U("/"),M=L("span"),H=U(i[17]),v=U(")"),N=F(),Q=L("span"),ee=U(i[14]),Y=F(),x=L("div"),Ve&&Ve.c(),ce=F(),we=L("div"),Pe=U(i[18]),ge=F(),ve=L("div"),X=L("div"),$=L("input"),Me=F(),re(Le.$$.fragment),ai=F(),qe=L("div"),ni=U(i[19]),hi=F(),Li=L("div"),Oe=L("div"),Xe=L("span"),re(W.$$.fragment),Fe=F(),Se=L("span"),re(Je.$$.fragment),Pi=F(),Ze=L("span"),ei.c(),qi=F(),Qe=L("span"),re(Ai.$$.fragment),xe=F(),ui=L("span"),re($e.$$.fragment),o(t,"tabindex","0"),o(t,"role","button"),o(t,"aria-label","More Controls"),o(t,"aria-expanded",i[10]),o(t,"class","player-expand-button button-like svelte-gzcrby"),o(e,"class","player-separator svelte-gzcrby"),o(b,"for","folder-name"),o(b,"class","clickable svelte-gzcrby"),o(R,"role","link"),o(R,"aria-label","Navigate to currently playing folder"),o(R,"id","folder-name"),o(R,"class","item-name link-like svelte-gzcrby"),o(R,"dir","rtl"),o(w,"class","item-info svelte-gzcrby"),o(w,"id","folder-info"),o(T,"for","file-name"),o(T,"class","clickable svelte-gzcrby"),o(T,"title",m=i[16]?"Playing cached file":i[5]?"Playing transcoded file":"Playing streamed file"),o(k,"class","label clickable svelte-gzcrby"),o(k,"aria-label","Position of currently playing file in folder"),o(Q,"role","link"),o(Q,"aria-label","Locate currently playing file"),o(Q,"id","file-name"),o(Q,"class","item-name link-like svelte-gzcrby"),o(q,"class","item-info svelte-gzcrby"),o(q,"id","file-info"),o(_,"class","info svelte-gzcrby"),o(we,"class","play-time svelte-gzcrby"),o(we,"aria-label","Current time in file"),o($,"class","allow-global-keys svelte-gzcrby"),o($,"type","range"),o($,"id","playback-progress"),o($,"min","0"),o($,"max",Ae=i[6].duration),o($,"aria-label","File Playback Time"),o($,"aria-valuetext",Ce=`${i[18]} of ${i[19]}`),o(X,"class","progress-bar svelte-gzcrby"),o(ve,"class","progress svelte-gzcrby"),o(qe,"class","total-time svelte-gzcrby"),o(qe,"aria-label","Total time of current file"),o(x,"class","player svelte-gzcrby"),o(Xe,"tabindex","0"),o(Xe,"role","button"),o(Xe,"aria-label","Previous"),o(Xe,"class","control-button button-like svelte-gzcrby"),o(Se,"tabindex","0"),o(Se,"role","button"),o(Se,"aria-label","Jump back"),o(Se,"class","control-button button-like svelte-gzcrby"),o(Se,"title","You can also use Left Arrow key"),o(Ze,"tabindex","0"),o(Ze,"role","button"),o(Ze,"aria-label",mi=i[7]?"Play":"Pause"),o(Ze,"title","You can also use Space key"),o(Ze,"class","control-button button-like svelte-gzcrby"),yi(Ze,"blink",i[11]),o(Qe,"tabindex","0"),o(Qe,"role","button"),o(Qe,"aria-label","Jump ahead"),o(Qe,"class","control-button button-like svelte-gzcrby"),o(Qe,"title","You can also use Right Arrow key"),o(ui,"tabindex","0"),o(ui,"role","button"),o(ui,"aria-label","Next"),o(ui,"class","control-button button-like svelte-gzcrby"),o(Oe,"class","player-controls svelte-gzcrby"),o(Li,"class","controls-bar"),o(f,"class","player-inner svelte-gzcrby"),o(u,"class","player-wrapper svelte-gzcrby")},m(ie,ue){E(ie,e,ue),g(e,t),_i[n].m(t,null),E(ie,a,ue),Ie&&Ie.m(ie,ue),E(ie,r,ue),E(ie,u,ue),Ee&&Ee.m(u,null),g(u,c),g(u,f),g(f,_),g(_,w),g(w,b),ne(d,b,null),g(w,A),g(w,R),g(R,z),g(_,j),g(_,q),g(q,T),di[s].m(T,null),g(q,p),g(q,k),g(k,C),g(k,y),g(y,D),g(k,B),g(k,M),g(M,H),g(k,v),g(q,N),g(q,Q),g(Q,ee),g(f,Y),g(f,x),Ve&&Ve.m(x,null),g(x,ce),g(x,we),g(we,Pe),g(x,ge),g(x,ve),g(ve,X),g(X,$),he($,i[9]),g(X,Me),ne(Le,X,null),g(x,ai),g(x,qe),g(qe,ni),g(f,hi),g(f,Li),g(Li,Oe),g(Oe,Xe),ne(W,Xe,null),g(Oe,Fe),g(Oe,Se),ne(Je,Se,null),g(Oe,Pi),g(Oe,Ze),si[He].m(Ze,null),g(Oe,qi),g(Oe,Qe),ne(Ai,Qe,null),g(Oe,xe),g(Oe,ui),ne($e,ui,null),De=!0,oi||(ii=[Z(t,"click",i[43]),Z(b,"click",i[30]),Z(R,"click",i[30]),Z(T,"click",i[31]),Z(k,"click",i[31]),Z(Q,"click",i[31]),Z($,"change",i[52]),Z($,"input",i[52]),Z($,"mousedown",i[26]),Z($,"touchstart",i[26],{passive:!0}),Z($,"keydown",Ss),Z(Xe,"click",i[32]),Z(Se,"click",function(){Ci(i[27](-i[20].jumpBackTime))&&i[27](-i[20].jumpBackTime).apply(this,arguments)}),Z(Ze,"click",i[28]),Z(Qe,"click",function(){Ci(i[27](i[20].jumpForwardTime))&&i[27](i[20].jumpForwardTime).apply(this,arguments)}),Z(ui,"click",i[33])],oi=!0)},p(ie,ue){i=ie;let Di=n;n=gi(i),n!==Di&&(ke(),V(_i[Di],1,1,()=>{_i[Di]=null}),ye(),l=_i[n],l||(l=_i[n]=Ji[n](i),l.c()),I(l,1),l.m(t,null)),(!De||ue[0]&1024)&&o(t,"aria-expanded",i[10]),i[10]?Ie?(Ie.p(i,ue),ue[0]&1024&&I(Ie,1)):(Ie=dr(i),Ie.c(),I(Ie,1),Ie.m(r.parentNode,r)):Ie&&(ke(),V(Ie,1,1,()=>{Ie=null}),ye()),i[23].width>Wt&&i[8].hasImage?Ee?(Ee.p(i,ue),ue[0]&8388864&&I(Ee,1)):(Ee=or(i),Ee.c(),I(Ee,1),Ee.m(u,c)):Ee&&(ke(),V(Ee,1,1,()=>{Ee=null}),ye()),(!De||ue[0]&32768)&&K(z,i[15]);let st=s;s=Ti(i),s===st?di[s].p(i,ue):(ke(),V(di[st],1,1,()=>{di[st]=null}),ye(),h=di[s],h?h.p(i,ue):(h=di[s]=bi[s](i),h.c()),I(h,1),h.m(T,null)),(!De||ue[0]&65568&&m!==(m=i[16]?"Playing cached file":i[5]?"Playing transcoded file":"Playing streamed file"))&&o(T,"title",m),(!De||ue[0]&131072)&&P!==(P=(i[17]?Kt+1:0)+"")&&K(D,P),(!De||ue[0]&131072)&&K(H,i[17]),(!De||ue[0]&16384)&&K(ee,i[14]),i[22]===i[21]?Ve?Ve.p(i,ue):(Ve=sr(i),Ve.c(),Ve.m(x,ce)):Ve&&(Ve.d(1),Ve=null),(!De||ue[0]&262144)&&K(Pe,i[18]),(!De||ue[0]&64&&Ae!==(Ae=i[6].duration))&&o($,"max",Ae),(!De||ue[0]&786432&&Ce!==(Ce=`${i[18]} of ${i[19]}`))&&o($,"aria-valuetext",Ce),ue[0]&512&&he($,i[9]);const ct={};ue[0]&4096&&(ct.ranges=i[12]),ue[0]&64&&(ct.totalTime=i[6].duration),Le.$set(ct),(!De||ue[0]&524288)&&K(ni,i[19]);let ft=He;He=wi(i),He===ft?si[He].p(i,ue):(ke(),V(si[ft],1,1,()=>{si[ft]=null}),ye(),ei=si[He],ei?ei.p(i,ue):(ei=si[He]=Ni[He](i),ei.c()),I(ei,1),ei.m(Ze,null)),(!De||ue[0]&128&&mi!==(mi=i[7]?"Play":"Pause"))&&o(Ze,"aria-label",mi),(!De||ue[0]&2048)&&yi(Ze,"blink",i[11])},i(ie){De||(I(l),I(Ie),I(Ee),I(d.$$.fragment,ie),I(h),I(Le.$$.fragment,ie),I(W.$$.fragment,ie),I(Je.$$.fragment,ie),I(ei),I(Ai.$$.fragment,ie),I($e.$$.fragment,ie),De=!0)},o(ie){V(l),V(Ie),V(Ee),V(d.$$.fragment,ie),V(h),V(Le.$$.fragment,ie),V(W.$$.fragment,ie),V(Je.$$.fragment,ie),V(ei),V(Ai.$$.fragment,ie),V($e.$$.fragment,ie),De=!1},d(ie){ie&&(S(e),S(a),S(r),S(u)),_i[n].d(),Ie&&Ie.d(ie),Ee&&Ee.d(),le(d),di[s].d(),Ve&&Ve.d(),le(Le),le(W),le(Je),si[He].d(),le(Ai),le($e),oi=!1,Be(ii)}}}const ji="1.5rem",tt="48px";let Kt=0;function As(i,e=!1){}const Ss=i=>i.preventDefault();function Es(i,e,t){let n,l,a,r,u,c,f,_,w,b,d,A,R,z,j,q,T,s,h;te(i,Bi,O=>t(6,u=O)),te(i,Ii,O=>t(20,c=O)),te(i,ki,O=>t(7,f=O)),te(i,Qi,O=>t(8,_=O)),te(i,Lt,O=>t(59,w=O)),te(i,je,O=>t(60,b=O)),te(i,it,O=>t(9,d=O)),te(i,at,O=>t(21,A=O)),te(i,Ht,O=>t(22,R=O)),te(i,xi,O=>t(40,z=O)),te(i,zi,O=>t(61,j=O)),te(i,_u,O=>t(62,q=O)),te(i,aa,O=>t(41,T=O)),te(i,Ut,O=>t(42,s=O)),te(i,nn,O=>t(23,h=O));function m(){ae(xi,z=!1,z);const O=Y.error;console.error("Player error on ${$playItem.title}",O),oi()}const p=Yi(),k=rt("cache");let C=c.expandedPlayerTray,y,P,D,B=0,M,H;function v(O,me=!1){me&&t(36,B=0);try{R===A&&t(2,Y.currentTime=O-B,Y),ae(it,d=O,d)}catch(fe){console.error(`Cannot set currentTime, val=${O}, offset=${B}: ${fe}`)}}const N=()=>{ae(ki,f=!0,f)};let Q=!1,ee=!1,Y,x=[],ce=Number(localStorage.getItem(Re.PLAYBACK_SPEED)||1);function we(){De()}function Pe(){localStorage.setItem(Re.LAST_PAUSE,Date.now().toString())}let ge=Number(localStorage.getItem(Re.PLAYBACK_VOLUME)||100),ve=Number(ge/100),X="",$,Ae="",Ce,Me=!1,Le=!1,ai;function qe(){let O=Ei(fi.VolumeChange,{value:ge});ri.send(JSON.stringify(O))}const ni=()=>{z&&(window.removeEventListener("mouseup",ni),window.removeEventListener("touchend",ni),window.requestAnimationFrame(()=>{if(W(d),R!==A){let O=Ei(fi.RewindTo,{time:d});ri.send(JSON.stringify(O))}setTimeout(()=>{ae(xi,z=!1,z)},200)}))},hi=()=>{ae(xi,z=!0,z),window.addEventListener("mouseup",ni),window.addEventListener("touchend",ni)},Li=new xd(O=>{localStorage.setItem(Re.LAST_POSITION,H.toString()),Se(),Ee()},500);async function Oe(O,me=!1){console.debug(`Seeking time on url ${u.url} to time ${O}`);const fe=u.url+`&seek=${O}`;let ci=!f;t(36,B=O),t(2,Y.src=fe,Y),t(2,Y.currentTime=0,Y),(ci||me)&&await xe()}const Xe=O=>{let me=O-H;for(let fe=0;fe<Y.buffered.length;fe++){const ci=B+Y.buffered.start(fe),Si=B+Y.buffered.end(fe);if(ci<=O&&O<=Si)return!0;if(O<ci&&me<0){const ht=O-ci;ht>me&&(me=ht)}else if(O>Si&&me>0){const ht=O-Si;ht<me&&(me=ht)}}return!(isNaN(me)||me<0||me>c.transcodingJumpLimit)};function W(O){f||Xe(O)?v(O):Oe(O)}function Fe(O){return me=>{let fe=d+O;fe<0?fe=0:f&&fe>D&&(fe=D),W(fe)}}function Se(O){if(f&&!O||isNaN(H))return;const me=`/${Ce}/${$}`;if(q.enqueuePosition(me,H),R===A){let fe=Ei(fi.CurrentPos,{collection:b,track_id:u.id,time:H});ri.send(JSON.stringify(fe))}}async function Je(O){if(console.debug("startPlay item:",O),O&&Y){let me;if(O.cached){const fe=await(k==null?void 0:k.getCachedUrl(O.url));fe?(me=fe.cachedUrl,console.debug("Playing cached item",me),t(16,Le=!0)):(console.warn("Item was removed from cache"),t(16,Le=!1),me=O.url)}else me=O.url,t(16,Le=!1);t(2,Y.src=me,Y),localStorage.setItem(Re.LAST_FILE,O.path),t(36,B=0),O.time!=null&&isFinite(O.time)&&v(O.time),t(35,D=O.duration),t(0,P=0),t(14,X=oa(O).baseName),$=O.path,t(5,Me=O.transcoded),t(38,ai=O.mime),t(15,Ae=_.folder),Ce=_.collection,O.startPlay?(await ui(!0),Se()):(ae(ki,f=!0,f),ee=!1),Pi(O)}}function Pi(O){if(document.title=`${X} (${O.path})`,"mediaSession"in navigator){let me="favicon.png";_.hasImage&&(me=`${j.basePath}/${b}/icon/${encodeURIComponent(_.folder)}`);const{root:fe,path:ci}=Fu(Qt(O.path).folder);navigator.mediaSession.setPositionState(null),navigator.mediaSession.metadata=new MediaMetadata({title:X,album:ci,artist:fe,artwork:[{src:me}]}),navigator.mediaSession.setActionHandler("seekbackward",Fe(-c.jumpBackTime)),navigator.mediaSession.setActionHandler("seekforward",Fe(c.jumpForwardTime)),navigator.mediaSession.setActionHandler("previoustrack",gi),navigator.mediaSession.setActionHandler("nexttrack",Ie)}}function Ze(){var O;isFinite(H)&&isFinite(P)&&H<=P&&((O=navigator.mediaSession)==null||O.setPositionState({duration:P,playbackRate:Y.playbackRate,position:H}))}let He;const ei=Bi.subscribe(Je),mi=Qi.subscribe(O=>{(O.folder!=Ae||O.collection!=Ce)&&window.clearTimeout(He)});function qi(O,me=!1){window.clearTimeout(He);const fe=Math.min(c.cacheAheadDelay*1e3,1e3*u.duration/2);He=window.setTimeout(As,fe,O,me)}function Qe(O){if(!Le&&O.kind===rn.FileCached){const{collection:me,path:fe}=Ou(O.item.originalUrl,zt());me===Ce&&fe===$&&Ai(O.item,f)}}k==null||k.addListener(Qe);function Ai(O,me=!1){console.debug(`Current file ${u.url} gets cached on url ${O.cachedUrl}`);const fe=H;Y.src,t(2,Y.src=O.cachedUrl,Y),t(16,Le=!0),me?v(fe,!0):(ae(xi,z=!0,z),xe(),Y.addEventListener("canplay",ci=>{ae(xi,z=!1,z),v(fe,!0)},{once:!0}))}async function xe(){if(R!=A){console.debug("This device is not active");return}try{t(11,Q=!0),await Y.play()}catch(O){console.error("Playback start failed because of error",O)}t(11,Q=!1)}async function ui(O=!1){ee=!0,Me&&!Le&&(d>c.transcodingJumpLimit||O&&d>5)?Xe(d)?await xe():(console.debug(`Should seek to position ${it}`),await Oe(d,!0)):await xe(),qi(Kt,Le)}async function $e(){if(Se(!0),f){let O=Ei(fi.Resume,{});ri.send(JSON.stringify(O)),Y&&await ui(),ae(ki,f=!1,f)}else{let O=Ei(fi.Pause,{});ri.send(JSON.stringify(O)),ae(ki,f=!0,f),Y&&(ee=!1,Y.pause(),t(11,Q=!1))}}function De(){if(c.autorewind&&d>0){const O=Number(localStorage.getItem(Re.LAST_POSITION))||0,me=Number(localStorage.getItem(Re.LAST_PAUSE))||Date.now(),fe=Math.abs(d-O),ci=is(me);if(ci>0&&fe<=1){let Si=d-ci;Si<B&&(Si=B),(Le||!Me||Me&&Xe(Si))&&(console.debug("Autorewind to "+Si),v(Si,!1))}}}function oi(){if(H<D-60?console.warn(`Playback ended at ${H} before expected duration ${D}, maybe problem with cached version`):console.debug(`File ${u.name} on ${u.path} finished, wantPlay: ${ee}`),ee){const O=u.id+1;ii(O);const me=ee;ee=!1,window.setTimeout(()=>ee=me,100)}}function ii(O,me=!0){if(O>=0&&O<_.files.size){const fe=_.files.get(O),ci=new Ct({file:fe,startPlay:me,collection:_.collection,time:0});ae(Bi,u=ci,u),Qt(u.path).folder;let Si=Ei(fi.PlayTrack,{collection:b,track_id:u.id});ri.send(JSON.stringify(Si))}}function Ji(){p("navigate",yt.PLAYLIST_FOLDER)}function _i(){p("navigate",yt.PLAY_ITEM)}function gi(){if(Mi[w]===Mi[Mi.Off])ii(u.id-1,!f);else{let O=Ei(fi.PrevTrack,{collection:b,dir:Ae});ri.send(JSON.stringify(O))}}function Ie(){if(Mi[w]===Mi.Off)ii(u.id+1,!f);else{const O=ts(1,_.files.size-1);console.log("nextRandomInt id",O),ii(O,!f)}}function Ee(){const O=[];for(let fe=0;fe<Y.buffered.length;fe++)O.push({start:B+Y.buffered.start(fe),end:B+Y.buffered.end(fe)});(()=>{if(x.length!=O.length)return!0;for(let fe=0;fe<O.length;fe++)if(O[fe].start!==x[fe].start||O[fe].end!=x[fe].end)return!0;return!1})()&&t(12,x=O)}let bi=!1;window.addEventListener("keydown",Ti),window.addEventListener("keyup",di);function di(O){O.key==="Shift"&&(bi=!1)}function Ti(O){if(O.key==="Shift"){bi=!0;return}const me=bi?5:1;if(O.key==="MediaPause"||O.key==="MediaStop"){N();return}if(O.key==="MediaPlay"){f&&$e();return}if(O.key=="MediaPlayPause"&&$e(),O.key==="MediaTrackNext"){Ie();return}if(O.key=="MediaTrackPrevious"){gi();return}if((!["INPUT","SELECT","TEXTAREA"].includes(O.target.tagName)||O.target instanceof HTMLInputElement&&O.target.classList.contains("allow-global-keys"))&&["ArrowLeft","ArrowRight"," "].includes(O.key))return O.preventDefault(),O.stopPropagation(),O.key==="ArrowRight"?Fe(c.jumpForwardTime*me)(null):O.key=="ArrowLeft"?Fe(-c.jumpBackTime*me)(null):O.key==" "&&$e(),!1}Wi(async()=>{u&&await Je(u)}),pt(()=>{ei(),mi(),window.removeEventListener("mouseup",ni),window.removeEventListener("touchend",ni),window.removeEventListener("keydown",Ti),window.removeEventListener("keyup",di),k==null||k.removeListener(Qe),Y==null||Y.removeEventListener("progress",Ee),Y==null||Y.removeEventListener("play",we),Y==null||Y.removeEventListener("pause",Pe)});const Ve=()=>{t(10,C=!C),ae(Ii,c.expandedPlayerTray=C,c),Qr(c)};function Ni(){ge=Te(this.value),t(4,ge),t(41,T)}function si(){ce=Te(this.value),t(3,ce)}function wi(){P=this.duration,t(0,P)}function ie(){M=this.currentTime,t(1,M)}function ue(){f=this.paused,ki.set(f)}function Di(){ve=this.volume,t(13,ve),t(4,ge),t(41,T)}function st(){ce=this.playbackRate,t(3,ce)}function ct(O){We[O?"unshift":"push"](()=>{Y=O,t(2,Y),t(3,ce)})}function ft(){d=Te(this.value),it.set(d)}return i.$$.update=()=>{if(i.$$.dirty[0]&33|i.$$.dirty[1]&144&&isFinite(P)&&(!ai.startsWith("audio/m4b")||Me)&&P>D&&t(35,D=P),i.$$.dirty[0]&64&&t(19,n=Gi(u.duration)),i.$$.dirty[0]&2|i.$$.dirty[1]&32&&t(37,H=B+M),i.$$.dirty[1]&2048&&s&&(console.log("Jump to time",s),W(s),ae(Ut,s=void 0,s)),i.$$.dirty[1]&64&&t(39,l=(isFinite(y)?y:0)+(isFinite(H)?H:0)),i.$$.dirty[1]&256&&Gi(l),i.$$.dirty[0]&128){const O=f==null?"none":f?"paused":"playing";navigator.mediaSession&&(navigator.mediaSession.playbackState=O)}i.$$.dirty[0]&12&&Y&&(ce&&(t(2,Y.defaultPlaybackRate=ce,Y),localStorage.setItem(Re.PLAYBACK_SPEED,ce.toString())),Y.addEventListener("play",we),Y.addEventListener("pause",Pe),Y.addEventListener("progress",Ee)),i.$$.dirty[1]&1024&&t(4,ge=T||100),i.$$.dirty[0]&16&&localStorage.setItem(Re.PLAYBACK_VOLUME,ge.toString()),i.$$.dirty[0]&16&&t(13,ve=(ge||100)/100),i.$$.dirty[1]&576&&H!=null&&isFinite(H)&&(z||ae(it,d=H,d),Ze(),Li.throttle(H)),i.$$.dirty[0]&512&&t(18,a=Gi(d)),i.$$.dirty[0]&256&&t(17,r=(_==null?void 0:_.files.size)||0)},[P,M,Y,ce,ge,Me,u,f,_,d,C,Q,x,ve,X,Ae,Le,r,a,n,c,A,R,h,m,qe,hi,Fe,$e,oi,Ji,_i,gi,Ie,N,D,B,H,ai,l,z,T,s,Ve,Ni,si,wi,ie,ue,Di,st,ct,ft]}class zs extends se{constructor(e){super(),oe(this,e,Es,Ps,de,{pause:34},null,[-1,-1,-1])}get pause(){return this.$$.ctx[34]}}const Ts=i=>({}),cr=i=>({}),Hs=i=>({}),fr=i=>({});function hr(i){let e,t,n;return{c(){e=L("a"),e.textContent="Confirm",o(e,"href","#confirm"),o(e,"role","button")},m(l,a){E(l,e,a),t||(n=Z(e,"click",i[3]),t=!0)},p:J,d(l){l&&S(e),t=!1,n()}}}function Rs(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A;const R=i[6].header,z=Ft(R,i,i[5],fr),j=i[6].body,q=Ft(j,i,i[5],cr);let T=!i[1]&&hr(i);return{c(){e=L("dialog"),t=L("article"),n=L("a"),l=F(),a=L("h3"),z&&z.c(),r=F(),u=L("p"),q&&q.c(),c=F(),f=L("footer"),_=L("a"),_.textContent="Cancel",w=F(),T&&T.c(),o(n,"href","#close"),o(n,"aria-label","Close"),o(n,"class","close"),o(_,"href","#cancel"),o(_,"role","button"),o(_,"class","secondary"),o(e,"id",i[0])},m(s,h){E(s,e,h),g(e,t),g(t,n),g(t,l),g(t,a),z&&z.m(a,null),g(t,r),g(t,u),q&&q.m(u,null),g(t,c),g(t,f),g(f,_),g(f,w),T&&T.m(f,null),b=!0,d||(A=[Z(n,"click",i[2]),Z(_,"click",i[2])],d=!0)},p(s,[h]){z&&z.p&&(!b||h&32)&&Dt(z,R,s,s[5],b?Nt(R,s[5],h,Hs):Vt(s[5]),fr),q&&q.p&&(!b||h&32)&&Dt(q,j,s,s[5],b?Nt(j,s[5],h,Ts):Vt(s[5]),cr),s[1]?T&&(T.d(1),T=null):T?T.p(s,h):(T=hr(s),T.c(),T.m(f,null)),(!b||h&1)&&o(e,"id",s[0])},i(s){b||(I(z,s),I(q,s),b=!0)},o(s){V(z,s),V(q,s),b=!1},d(s){s&&S(e),z&&z.d(s),q&&q.d(s),T&&T.d(),d=!1,Be(A)}}}const Bs=()=>document.body.scrollHeight>screen.height,Is=()=>{const i=document.createElement("div");i.style.visibility="hidden",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",document.body.appendChild(i);const e=document.createElement("div");i.appendChild(e);const t=i.offsetWidth-e.offsetWidth;return i.parentNode.removeChild(i),t},mr="modal-is-open",_r="modal-is-opening",gr="modal-is-closing",br=400;function Ms(i,e,t){let{$$slots:n={},$$scope:l}=e,a=null,{id:r}=e,{confirmAction:u=null}=e,{noConfirm:c=!1}=e;const f=z=>{z==null||z.preventDefault();const j=document.getElementById(r);typeof j<"u"&&j!=null&&w(j)?d(j):b(j)},_=z=>{f(z),u&&u()},w=z=>!!(z.hasAttribute("open")&&z.getAttribute("open")!="false"),b=z=>{Bs()&&document.documentElement.style.setProperty("--scrollbar-width",`${Is()}px`),document.documentElement.classList.add(mr,_r),setTimeout(()=>{a=z,document.documentElement.classList.remove(_r)},br),z.setAttribute("open",!0)},d=z=>{a=null,document.documentElement.classList.add(gr),setTimeout(()=>{document.documentElement.classList.remove(gr,mr),document.documentElement.style.removeProperty("--scrollbar-width"),z.removeAttribute("open")},br)},A=z=>{a!=null&&!a.querySelector("article").contains(z.target)&&d(a)};document.addEventListener("click",A);const R=z=>{z.key==="Escape"&&a!=null&&d(a)};return document.addEventListener("keydown",R),pt(()=>{document.removeEventListener("click",A),document.removeEventListener("click",R)}),i.$$set=z=>{"id"in z&&t(0,r=z.id),"confirmAction"in z&&t(4,u=z.confirmAction),"noConfirm"in z&&t(1,c=z.noConfirm),"$$scope"in z&&t(5,l=z.$$scope)},[r,c,f,_,u,l,n]}class wr extends se{constructor(e){super(),oe(this,e,Ms,Rs,de,{id:0,confirmAction:4,noConfirm:1,toggleModal:2})}get toggleModal(){return this.$$.ctx[2]}}async function pr(i,e){const n=await(await fetch(i)).arrayBuffer();return await e.decodeAudioData(n)}function vr(i,e){const t=e.createBufferSource();t.buffer=i,t.connect(e.destination),t.start()}function Os(){const i=window.AudioContext,e=new i;return e.state==="suspended"&&e.resume(),e}class St{constructor(e,t,n){this.alpha=e,this.beta=t,this.gamma=n}get maxAbs(){return Math.max(Math.abs(this.alpha),Math.abs(this.beta),Math.abs(this.gamma))}sub(e,t,n){const l=Math.abs(e-t);return l>n?2*n-l:l}delta(e){return new St(this.sub(this.alpha,e.alpha,180),this.sub(this.beta,e.beta,180),this.sub(this.gamma,e.gamma,90))}toString(){return`a: ${this.alpha.toFixed(2)}; b:${this.beta.toFixed(2)}; g: ${this.gamma.toFixed(2)}`}}class Fs{constructor(e,t=20,n=45){_e(this,"cb");_e(this,"startOrientation",null);_e(this,"onOrientationChange",e=>{if(this.startOrientation==null)this.startOrientation=new St(e.alpha,e.beta,e.gamma);else{const t=new St(e.alpha,e.beta,e.gamma);this.startOrientation.delta(t).maxAbs>=45&&(this.cb(0),this.finish())}});_e(this,"onMotion",e=>{if(!e.acceleration||e.acceleration.x==null||e.acceleration.y==null||!e.acceleration.z==null){console.debug("Motion event does not have valid data, stop using it",e),window.removeEventListener("devicemotion",this.onMotion);return}Math.sqrt(e.acceleration.x*e.acceleration.x+e.acceleration.y*e.acceleration.y+e.acceleration.z*e.acceleration.z)>this.accelerationLimit&&(this.cb(1),this.finish())});this.accelerationLimit=t,this.orientationChange=n,this.cb=e,window.addEventListener("deviceorientation",this.onOrientationChange),window.addEventListener("devicemotion",this.onMotion)}finish(){window.removeEventListener("deviceorientation",this.onOrientationChange),window.removeEventListener("devicemotion",this.onMotion)}}function Ns(i){let e,t,n,l,a,r,u;const c=i[2].default,f=Ft(c,i,i[1],null);return{c(){e=L("h2"),t=L("span"),f&&f.c(),n=F(),l=L("a"),o(l,"href","#close"),o(l,"class","close svelte-143mvpc"),o(l,"aria-label","Close"),o(e,"class","svelte-143mvpc")},m(_,w){E(_,e,w),g(e,t),f&&f.m(t,null),g(e,n),g(e,l),a=!0,r||(u=Z(l,"click",Ye(i[0])),r=!0)},p(_,[w]){f&&f.p&&(!a||w&2)&&Dt(f,c,_,_[1],a?Nt(c,_[1],w,null):Vt(_[1]),null)},i(_){a||(I(f,_),a=!0)},o(_){V(f,_),a=!1},d(_){_&&S(e),f&&f.d(_),r=!1,u()}}}function Ds(i,e,t){let{$$slots:n={},$$scope:l}=e;const a=Yi(),r=()=>a("close");return i.$$set=u=>{"$$scope"in u&&t(1,l=u.$$scope)},[r,l,n]}class va extends se{constructor(e){super(),oe(this,e,Ds,Ns,de,{})}}function Vs(i){let e;return{c(){e=U("Audioserve Preferences")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function js(i){let e,t,n,l,a,r,u,c,f,_,w,b,d;return{c(){e=L("label"),e.textContent="Files to Cache Ahead",t=F(),n=L("input"),l=F(),a=L("p"),a.textContent=`When you start to play file next n files will be loaded to cache on\r
        background`,r=F(),u=L("label"),u.textContent="Delay before start caching next files (secs)",c=F(),f=L("input"),_=F(),w=L("p"),w.textContent=`Wait n seconds after playback start before starting to cache next files\r
        (for small files it's half of their duration).`,o(e,"for","cache-ahead"),o(e,"class","svelte-1v7yi8u"),o(n,"id","cache-ahead"),o(n,"aria-describedby","cache-ahead-desc"),o(n,"type","number"),o(a,"id","cache-ahead-desc"),o(a,"class","svelte-1v7yi8u"),o(u,"for","cache-ahead-delay"),o(u,"class","svelte-1v7yi8u"),o(f,"id","cache-ahead-delay"),o(f,"aria-describedby","cache-ahead-delay-desc"),o(f,"type","number"),o(w,"id","cache-ahead-delay-desc"),o(w,"class","svelte-1v7yi8u")},m(A,R){E(A,e,R),E(A,t,R),E(A,n,R),he(n,i[0].cacheAheadFiles),E(A,l,R),E(A,a,R),E(A,r,R),E(A,u,R),E(A,c,R),E(A,f,R),he(f,i[0].cacheAheadDelay),E(A,_,R),E(A,w,R),b||(d=[Z(n,"input",i[4]),Z(f,"input",i[5])],b=!0)},p(A,R){R&1&&Te(n.value)!==A[0].cacheAheadFiles&&he(n,A[0].cacheAheadFiles),R&1&&Te(f.value)!==A[0].cacheAheadDelay&&he(f,A[0].cacheAheadDelay)},d(A){A&&(S(e),S(t),S(n),S(l),S(a),S(r),S(u),S(c),S(f),S(_),S(w)),b=!1,Be(d)}}}function Gs(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A,R,z,j,q,T,s,h,m,p,k,C,y,P,D,B,M,H,v,N,Q,ee,Y,x,ce,we,Pe,ge,ve,X,$,Ae,Ce,Me,Le,ai,qe,ni,hi,Li,Oe,Xe,W,Fe,Se,Je,Pi,Ze,He,ei,mi,qi,Qe,Ai,xe,ui,$e,De,oi,ii,Ji,_i,gi,Ie,Ee,bi,di,Ti,Ve,Ni,si;t=new va({props:{$$slots:{default:[Vs]},$$scope:{ctx:i}}}),t.$on("close",i[3]);let wi=i[1]&&js(i);return{c(){e=L("div"),re(t.$$.fragment),n=F(),l=L("form"),wi&&wi.c(),a=F(),r=L("label"),r.textContent="Short Jump Forward (secs)",u=F(),c=L("input"),f=F(),_=L("p"),_.textContent="Time for short foward jump (arc arrow icon right from play/pause button)",w=F(),b=L("label"),b.textContent="Short Jump Backward (secs)",d=F(),A=L("input"),R=F(),z=L("p"),z.textContent="Time for short backward jump (arc arrow icon left from play/pause button)",j=F(),q=L("label"),T=L("input"),s=U(`\r
      Automatically rewind on playback start`),h=F(),m=L("p"),m.textContent=`When you click on Play button current position will be be moved back\r
      slightly to better catch up with previous text`,p=F(),k=L("label"),k.textContent="Size of folder icons (in pixels)",C=F(),y=L("input"),P=F(),D=L("p"),D.textContent=`Size in pixels of folder icons in browser, if set to 0 icons are not\r
      displayed.`,B=F(),M=L("label"),M.textContent="Sleep Timer (minutes)",H=F(),v=L("input"),N=F(),Q=L("p"),Q.textContent=`When you click sleep timer icon, n minutes is waited and then playback is\r
      paused`,ee=F(),Y=L("label"),Y.textContent="Sleep Timer Extension (minutes)",x=F(),ce=L("input"),we=F(),Pe=L("p"),Pe.textContent=`One minute before Sleep Timer finishes (notified by sound) you can extend\r
      it by n minutes by shaking device`,ge=F(),ve=L("label"),ve.textContent="Maximum History for Recently Listened (days)",X=F(),$=L("input"),Ae=F(),Ce=L("p"),Ce.textContent=`When showing recently listened files from menu only records newer then\r
      given number of days are fetched from server. Put zero to fetch all\r
      available records.`,Me=F(),Le=L("label"),Le.textContent="Playback Position Reporting Period (secs)",ai=F(),qe=L("input"),ni=F(),hi=L("p"),hi.textContent=`When file is being played, playback position is reported every n seconds\r
      to server`,Li=F(),Oe=L("label"),Oe.textContent="Transcoding Tolerance Coeficient",Xe=F(),W=L("input"),Fe=F(),Se=L("p"),Se.textContent=`If file bitrate is only by x bigger then transcoding limit, transcoding is\r
      not used`,Je=F(),Pi=L("label"),Pi.textContent="Transcoding Seek Limit (secs)",Ze=F(),He=L("input"),ei=F(),mi=L("p"),mi.textContent=`If you seek ahead on transcoded file in player (indicated by squaze icon)\r
      and jump is bigger theh this limit, then if not already buffred seek will\r
      be done on server (which is fast), rather then waiting for intermediate\r
      data to load`,qi=F(),Qe=L("label"),Qe.textContent="Mime Types to Always Transcode",Ai=F(),xe=L("input"),ui=F(),$e=L("p"),$e.textContent=`List audio Mime types (space separated), that you want always to transcode\r
      - e.g. they are not supported by browser on this platform. Typical example\r
      would be audio/ogg on iPhone/iPad`,De=F(),oi=L("label"),ii=L("input"),Ji=U(`\r
      Use Slide Gesture in Browser`),_i=F(),gi=L("p"),gi.textContent=`In file browser use slide gesture to play a file instead of click. Useful\r
      on touch devices to prevent accidental touches and thus jumps in playback.`,Ie=F(),Ee=L("div"),bi=L("button"),bi.textContent="Cancel",di=F(),Ti=L("button"),Ti.textContent="Apply",o(r,"for","jump-fwd"),o(r,"class","svelte-1v7yi8u"),o(c,"id","jump-fwd"),o(c,"aria-describedby","jump-fwd-desc"),o(c,"type","number"),o(_,"id","jump-fwd-desc"),o(_,"class","svelte-1v7yi8u"),o(b,"for","jump-back"),o(b,"class","svelte-1v7yi8u"),o(A,"id","jump-back"),o(A,"aria-describedby","jump-back-desc"),o(A,"type","number"),o(z,"id","jump-back-desc"),o(z,"class","svelte-1v7yi8u"),o(T,"id","autorewind"),o(T,"aria-describedby","autorewind-desc"),o(T,"type","checkbox"),o(q,"for","autorewind"),o(q,"class","svelte-1v7yi8u"),o(m,"class","no-input svelte-1v7yi8u"),o(m,"id","autorewind-desc"),o(k,"for","folder-icon-size"),o(k,"class","svelte-1v7yi8u"),o(y,"id","folder-icon-size"),o(y,"aria-describedby","folder-icon-size-desc"),o(y,"type","number"),o(D,"id","folder-icon-size-desc"),o(D,"class","svelte-1v7yi8u"),o(M,"for","sleep-time"),o(M,"class","svelte-1v7yi8u"),o(v,"id","sleep-time"),o(v,"aria-describedby","sleep-time-desc"),o(v,"type","number"),o(Q,"id","sleep-time-desc"),o(Q,"class","svelte-1v7yi8u"),o(Y,"for","sleep-time-extend"),o(Y,"class","svelte-1v7yi8u"),o(ce,"id","sleep-time-extend"),o(ce,"aria-describedby","sleep-time-extend-desc"),o(ce,"type","number"),o(Pe,"id","sleep-time-extend-desc"),o(Pe,"class","svelte-1v7yi8u"),o(ve,"for","recent-days"),o(ve,"class","svelte-1v7yi8u"),o($,"id","recent-days"),o($,"aria-describedby","recent-days-desc"),o($,"type","number"),o(Ce,"id","recent-days-desc"),o(Ce,"class","svelte-1v7yi8u"),o(Le,"for","pos-reporting"),o(Le,"class","svelte-1v7yi8u"),o(qe,"id","pos-reporting"),o(qe,"aria-describedby","pos-reporting-desc"),o(qe,"type","number"),o(hi,"id","pos-reporting-desc"),o(hi,"class","svelte-1v7yi8u"),o(Oe,"for","trans-tolerance"),o(Oe,"class","svelte-1v7yi8u"),o(W,"id","trans-tolerance"),o(W,"aria-describedby","trans-tolerance-desc"),o(W,"type","number"),o(Se,"id","trans-tolerance-desc"),o(Se,"class","svelte-1v7yi8u"),o(Pi,"for","trans-jump"),o(Pi,"class","svelte-1v7yi8u"),o(He,"id","trans-jump"),o(He,"aria-describedby","trans-jump-desc"),o(He,"type","number"),o(mi,"id","trans-jump-desc"),o(mi,"class","svelte-1v7yi8u"),o(Qe,"for","always-transcode"),o(Qe,"class","svelte-1v7yi8u"),o(xe,"id","always-transcode"),o(xe,"aria-describedby","always-transcode-desc"),o(xe,"type","text"),o($e,"id","always-transcode-desc"),o($e,"class","svelte-1v7yi8u"),o(ii,"id","browser-slide"),o(ii,"aria-describedby","browser-slide-desc"),o(ii,"type","checkbox"),o(oi,"for","browser-slide"),o(oi,"class","svelte-1v7yi8u"),o(gi,"class","no-input svelte-1v7yi8u"),o(gi,"id","browser-slide-desc"),o(bi,"class","secondary"),o(Ee,"class","grid"),o(e,"id","config-editor"),o(e,"class","svelte-1v7yi8u")},m(ie,ue){E(ie,e,ue),ne(t,e,null),g(e,n),g(e,l),wi&&wi.m(l,null),g(l,a),g(l,r),g(l,u),g(l,c),he(c,i[0].jumpForwardTime),g(l,f),g(l,_),g(l,w),g(l,b),g(l,d),g(l,A),he(A,i[0].jumpBackTime),g(l,R),g(l,z),g(l,j),g(l,q),g(q,T),T.checked=i[0].autorewind,g(q,s),g(l,h),g(l,m),g(l,p),g(l,k),g(l,C),g(l,y),he(y,i[0].folderIconSize),g(l,P),g(l,D),g(l,B),g(l,M),g(l,H),g(l,v),he(v,i[0].sleepTimerPeriod),g(l,N),g(l,Q),g(l,ee),g(l,Y),g(l,x),g(l,ce),he(ce,i[0].sleepTimerExtend),g(l,we),g(l,Pe),g(l,ge),g(l,ve),g(l,X),g(l,$),he($,i[0].recentDays),g(l,Ae),g(l,Ce),g(l,Me),g(l,Le),g(l,ai),g(l,qe),he(qe,i[0].positionReportingPeriod),g(l,ni),g(l,hi),g(l,Li),g(l,Oe),g(l,Xe),g(l,W),he(W,i[0].transcodingTolerance),g(l,Fe),g(l,Se),g(l,Je),g(l,Pi),g(l,Ze),g(l,He),he(He,i[0].transcodingJumpLimit),g(l,ei),g(l,mi),g(l,qi),g(l,Qe),g(l,Ai),g(l,xe),he(xe,i[0].alwaysTranscode),g(l,ui),g(l,$e),g(l,De),g(l,oi),g(oi,ii),ii.checked=i[0].enableSlideInBrowser,g(oi,Ji),g(l,_i),g(l,gi),g(l,Ie),g(l,Ee),g(Ee,bi),g(Ee,di),g(Ee,Ti),Ve=!0,Ni||(si=[Z(c,"input",i[6]),Z(A,"input",i[7]),Z(T,"change",i[8]),Z(y,"input",i[9]),Z(v,"input",i[10]),Z(ce,"input",i[11]),Z($,"input",i[12]),Z(qe,"input",i[13]),Z(W,"input",i[14]),Z(He,"input",i[15]),Z(xe,"input",i[16]),Z(ii,"change",i[17]),Z(bi,"click",Ye(i[3])),Z(Ti,"click",Ye(i[2]))],Ni=!0)},p(ie,[ue]){const Di={};ue&524288&&(Di.$$scope={dirty:ue,ctx:ie}),t.$set(Di),ie[1]&&wi.p(ie,ue),ue&1&&Te(c.value)!==ie[0].jumpForwardTime&&he(c,ie[0].jumpForwardTime),ue&1&&Te(A.value)!==ie[0].jumpBackTime&&he(A,ie[0].jumpBackTime),ue&1&&(T.checked=ie[0].autorewind),ue&1&&Te(y.value)!==ie[0].folderIconSize&&he(y,ie[0].folderIconSize),ue&1&&Te(v.value)!==ie[0].sleepTimerPeriod&&he(v,ie[0].sleepTimerPeriod),ue&1&&Te(ce.value)!==ie[0].sleepTimerExtend&&he(ce,ie[0].sleepTimerExtend),ue&1&&Te($.value)!==ie[0].recentDays&&he($,ie[0].recentDays),ue&1&&Te(qe.value)!==ie[0].positionReportingPeriod&&he(qe,ie[0].positionReportingPeriod),ue&1&&Te(W.value)!==ie[0].transcodingTolerance&&he(W,ie[0].transcodingTolerance),ue&1&&Te(He.value)!==ie[0].transcodingJumpLimit&&he(He,ie[0].transcodingJumpLimit),ue&1&&xe.value!==ie[0].alwaysTranscode&&he(xe,ie[0].alwaysTranscode),ue&1&&(ii.checked=ie[0].enableSlideInBrowser)},i(ie){Ve||(I(t.$$.fragment,ie),Ve=!0)},o(ie){V(t.$$.fragment,ie),Ve=!1},d(ie){ie&&S(e),le(t),wi&&wi.d(),Ni=!1,Be(si)}}}function Us(i,e,t){let n=Ot(Ii),l=rt("cache");const a=Yi(),r=()=>{a("finished"),Qr(n),Ii.set(n)},u=()=>{a("finished")};function c(){n.cacheAheadFiles=Te(this.value),t(0,n)}function f(){n.cacheAheadDelay=Te(this.value),t(0,n)}function _(){n.jumpForwardTime=Te(this.value),t(0,n)}function w(){n.jumpBackTime=Te(this.value),t(0,n)}function b(){n.autorewind=this.checked,t(0,n)}function d(){n.folderIconSize=Te(this.value),t(0,n)}function A(){n.sleepTimerPeriod=Te(this.value),t(0,n)}function R(){n.sleepTimerExtend=Te(this.value),t(0,n)}function z(){n.recentDays=Te(this.value),t(0,n)}function j(){n.positionReportingPeriod=Te(this.value),t(0,n)}function q(){n.transcodingTolerance=Te(this.value),t(0,n)}function T(){n.transcodingJumpLimit=Te(this.value),t(0,n)}function s(){n.alwaysTranscode=this.value,t(0,n)}function h(){n.enableSlideInBrowser=this.checked,t(0,n)}return[n,l,r,u,c,f,_,w,b,d,A,R,z,j,q,T,s,h]}class qs extends se{constructor(e){super(),oe(this,e,Us,Gs,de,{})}}function Js(i){let e,t,n,l,a,r=i[0].folder+"",u,c,f,_,w=Gi(i[0].position)+"",b,d;return{c(){e=L("div"),t=L("h4"),n=U(i[1]),l=F(),a=L("h6"),u=U(r),c=F(),f=L("div"),_=U("(pos. "),b=U(w),d=U(")"),o(t,"class","title item-header svelte-1q1jmlo"),o(t,"role","link"),o(a,"class","subtitle svelte-1q1jmlo"),yi(a,"finished",i[0].folderFinished),o(f,"class","position-time svelte-1q1jmlo")},m(A,R){E(A,e,R),g(e,t),g(t,n),g(e,l),g(e,a),g(a,u),g(e,c),g(e,f),g(f,_),g(f,b),g(f,d)},p(A,[R]){R&2&&K(n,A[1]),R&1&&r!==(r=A[0].folder+"")&&K(u,r),R&1&&yi(a,"finished",A[0].folderFinished),R&1&&w!==(w=Gi(A[0].position)+"")&&K(b,w)},i:J,o:J,d(A){A&&S(e)}}}function Zs(i,e,t){let{position:n}=e,l;return qr(()=>{t(1,l=Nu(n.file))}),i.$$set=a=>{"position"in a&&t(0,n=a.position)},[n,l]}class Qs extends se{constructor(e){super(),oe(this,e,Zs,Js,de,{position:0})}}function kr(i,e,t){const n=i.slice();return n[9]=e[t],n}function Ws(i){let e;return{c(){e=U("Recently Listened")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function yr(i){let e,t,n,l,a;return t=new Qs({props:{position:i[9]}}),{c(){e=L("li"),re(t.$$.fragment)},m(r,u){E(r,e,u),ne(t,e,null),n=!0,l||(a=Z(e,"click",function(){Ci(i[2](i[9]))&&i[2](i[9]).apply(this,arguments)}),l=!0)},p(r,u){i=r;const c={};u&1&&(c.position=i[9]),t.$set(c)},i(r){n||(I(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){r&&S(e),le(t),l=!1,a()}}}function Ys(i){let e,t,n,l,a,r,u,c;t=new va({props:{$$slots:{default:[Ws]},$$scope:{ctx:i}}}),t.$on("close",i[1]);let f=Ke(i[0]),_=[];for(let b=0;b<f.length;b+=1)_[b]=yr(kr(i,f,b));const w=b=>V(_[b],1,1,()=>{_[b]=null});return{c(){e=L("div"),re(t.$$.fragment),n=F(),l=L("details"),a=L("summary"),a.textContent="Files",r=F(),u=L("ul");for(let b=0;b<_.length;b+=1)_[b].c();o(a,"class","svelte-1gqpxls"),o(u,"class","items-list"),l.open=!0},m(b,d){E(b,e,d),ne(t,e,null),g(e,n),g(e,l),g(l,a),g(l,r),g(l,u);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(u,null);c=!0},p(b,[d]){const A={};if(d&4096&&(A.$$scope={dirty:d,ctx:b}),t.$set(A),d&5){f=Ke(b[0]);let R;for(R=0;R<f.length;R+=1){const z=kr(b,f,R);_[R]?(_[R].p(z,d),I(_[R],1)):(_[R]=yr(z),_[R].c(),I(_[R],1),_[R].m(u,null))}for(ke(),R=f.length;R<_.length;R+=1)w(R);ye()}},i(b){if(!c){I(t.$$.fragment,b);for(let d=0;d<f.length;d+=1)I(_[d]);c=!0}},o(b){V(t.$$.fragment,b),_=_.filter(Boolean);for(let d=0;d<_.length;d+=1)V(_[d]);c=!1},d(b){b&&S(e),le(t),Fi(_,b)}}}function Ks(i,e,t){let n,l,a,r,u;te(i,Ue,b=>t(3,n=b)),te(i,je,b=>t(4,l=b)),te(i,Ui,b=>t(5,a=b)),te(i,hu,b=>t(6,r=b)),te(i,Ii,b=>t(7,u=b));const c=Yi(),f=()=>c("close");let _=[];return Wi(()=>{let b;u.recentDays&&(b=Date.now()-u.recentDays*Vu),r.positionsGroupGet({group:a,to:b}).then(d=>t(0,_=d)).catch(d=>console.error("Cannot fetch recent positions",d))}),[_,f,b=>()=>{ae(je,l=b.collection,l),ae(Ue,n={value:b.folder,type:be.REGULAR},n),localStorage.setItem(Re.LAST_FOLDER,b.folder),localStorage.setItem(Re.LAST_FILE,b.file),localStorage.setItem(Re.LAST_POSITION,b.position.toString())}]}class Xs extends se{constructor(e){super(),oe(this,e,Ks,Ys,de,{})}}function Cr(i){let e,t;return{c(){e=G("desc"),t=U(i[7])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&128&&K(t,n[7])},d(n){n&&S(e)}}}function Lr(i){let e,t;return{c(){e=G("title"),t=U(i[6])},m(n,l){E(n,e,l),g(e,t)},p(n,l){l&64&&K(t,n[6])},d(n){n&&S(e)}}}function xs(i){let e,t,n,l=i[7]&&Cr(i),a=i[6]&&Lr(i);return{c(){e=G("svg"),l&&l.c(),t=pe(),a&&a.c(),n=G("path"),o(n,"d","M14.83,13.41L13.42,14.82L16.55,17.95L14.5,20H20V14.5L17.96,16.54L14.83,13.41M14.5,4L16.54,6.04L4,18.59L5.41,20L17.96,7.46L20,9.5V4M10.59,9.17L5.41,4L4,5.41L9.17,10.58L10.59,9.17Z"),o(n,"fill",i[2]),o(e,"viewBox",i[3]),o(e,"width",i[0]),o(e,"height",i[1]),o(e,"class",i[8]),o(e,"aria-label",i[4]),o(e,"aria-hidden",i[5])},m(r,u){E(r,e,u),l&&l.m(e,null),g(e,t),a&&a.m(e,null),g(e,n)},p(r,[u]){r[7]?l?l.p(r,u):(l=Cr(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),r[6]?a?a.p(r,u):(a=Lr(r),a.c(),a.m(e,n)):a&&(a.d(1),a=null),u&4&&o(n,"fill",r[2]),u&8&&o(e,"viewBox",r[3]),u&1&&o(e,"width",r[0]),u&2&&o(e,"height",r[1]),u&256&&o(e,"class",r[8]),u&16&&o(e,"aria-label",r[4]),u&32&&o(e,"aria-hidden",r[5])},i:J,o:J,d(r){r&&S(e),l&&l.d(),a&&a.d()}}}function $s(i,e,t){let{size:n="1em"}=e,{width:l=n}=e,{height:a=n}=e,{color:r="currentColor"}=e,{viewBox:u="0 0 24 24"}=e,{ariaLabel:c=void 0}=e,{ariaHidden:f=void 0}=e,{title:_=void 0}=e,{desc:w=void 0}=e,{class:b=void 0}=e;return i.$$set=d=>{"size"in d&&t(9,n=d.size),"width"in d&&t(0,l=d.width),"height"in d&&t(1,a=d.height),"color"in d&&t(2,r=d.color),"viewBox"in d&&t(3,u=d.viewBox),"ariaLabel"in d&&t(4,c=d.ariaLabel),"ariaHidden"in d&&t(5,f=d.ariaHidden),"title"in d&&t(6,_=d.title),"desc"in d&&t(7,w=d.desc),"class"in d&&t(8,b=d.class)},[l,a,r,u,c,f,_,w,b,n]}class ec extends se{constructor(e){super(),oe(this,e,$s,xs,de,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Pr(i,e,t){const n=i.slice();return n[11]=e[t],n}function Ar(i){let e,t,n,l,a,r,u,c,f=Ke(i[3]),_=[];for(let w=0;w<f.length;w+=1)_[w]=Sr(Pr(i,f,w));return{c(){e=L("div"),t=L("aside"),n=L("nav"),l=L("ul");for(let w=0;w<_.length;w+=1)_[w].c();o(t,"class","dropdown-content-shuffle svelte-l5wqw4"),o(t,"style",a=i[0]?"":"display:none")},m(w,b){E(w,e,b),g(e,t),g(t,n),g(n,l);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(l,null);u||(c=[dt(r=ln.call(null,e,i[1])),Z(e,"outclick",i[9])],u=!0)},p(w,b){if(b&28){f=Ke(w[3]);let d;for(d=0;d<f.length;d+=1){const A=Pr(w,f,d);_[d]?_[d].p(A,b):(_[d]=Sr(A),_[d].c(),_[d].m(l,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=f.length}b&1&&a!==(a=w[0]?"":"display:none")&&o(t,"style",a),r&&Ci(r.update)&&b&2&&r.update.call(null,w[1])},d(w){w&&S(e),Fi(_,w),u=!1,Be(c)}}}function Sr(i){let e,t,n,l=i[11]+"",a,r,u,c,f;return u=Ur(i[8][0]),{c(){e=L("li"),t=L("input"),n=L("label"),a=U(l),r=F(),o(t,"type","radio"),o(t,"name","shuffleMode"),t.__value=i[11],he(t,t.__value),o(t,"id","shuffle-"+i[11]),o(n,"for","shuffle-"+i[11]),o(e,"class","option svelte-l5wqw4"),u.p(t)},m(_,w){E(_,e,w),g(e,t),t.checked=t.__value===i[2],g(e,n),g(n,a),g(e,r),c||(f=[Z(t,"change",i[7]),Z(t,"change",i[4])],c=!0)},p(_,w){w&4&&(t.checked=t.__value===_[2])},d(_){_&&S(e),u.r(),c=!1,Be(f)}}}function ic(i){let e,t,n,l,a,r,u;n=new ec({props:{size:"1.9rem"}});let c=i[0]&&Ar(i);return{c(){e=L("div"),t=L("a"),re(n.$$.fragment),l=F(),c&&c.c(),o(t,"href","#"),o(t,"aria-label","Shuffle mode"),o(t,"aria-expanded",i[0]),o(t,"id","shuffle-button"),o(t,"class","svelte-l5wqw4"),o(e,"class","dropdown svelte-l5wqw4")},m(f,_){E(f,e,_),g(e,t),ne(n,t,null),i[6](t),g(e,l),c&&c.m(e,null),a=!0,r||(u=Z(t,"click",Ye(i[5])),r=!0)},p(f,[_]){(!a||_&1)&&o(t,"aria-expanded",f[0]),f[0]?c?c.p(f,_):(c=Ar(f),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(f){a||(I(n.$$.fragment,f),a=!0)},o(f){V(n.$$.fragment,f),a=!1},d(f){f&&S(e),le(n),i[6](null),c&&c.d(),r=!1,u()}}}function tc(i,e,t){let n;te(i,Lt,d=>t(2,n=d)),Yi();let l=!1,a;const r=Object.keys(Mi).filter(d=>isNaN(Number(d))===!1).map(d=>Mi[d]);function u(){let d=Ei(fi.SwitchShuffle,{mode:n});ri.send(JSON.stringify(d)),console.log("Sending shuffle mode: ",d),t(0,l=!1)}const c=[[]],f=()=>t(0,l=!l);function _(d){We[d?"unshift":"push"](()=>{a=d,t(1,a)})}function w(){n=this.__value,Lt.set(n)}return[l,a,n,r,u,f,_,w,c,()=>t(0,l=!1)]}class nc extends se{constructor(e){super(),oe(this,e,tc,ic,de,{})}}function lc(i){let e,t,n,l,a,r,u,c,f,_,w,b,d,A,R,z,j,q,T,s,h,m,p=i[9]&&Er(i),k=i[8]&&zr(i),C=i[7]&&Hr(i),y=!i[8]&&!i[7]&&i[10]&&Br(i),P=(!i[8]&&!i[7]||!i[10])&&Ir(i);b=new nc({}),A=new xu({}),z=new Zu({}),z.$on("menu",i[21]);const D=[hc,fc,cc],B=[];function M(v,N){return v[14]=="config"?0:v[14]=="recent"?1:2}q=M(i),T=B[q]=D[q](i);let H=i[20]&&Fr(i);return{c(){e=L("div"),t=L("nav"),p&&p.c(),n=F(),l=L("ul"),a=L("li"),r=L("div"),k&&k.c(),u=F(),C&&C.c(),c=F(),f=L("li"),y&&y.c(),_=F(),P&&P.c(),w=F(),re(b.$$.fragment),d=F(),re(A.$$.fragment),R=F(),re(z.$$.fragment),j=F(),T.c(),s=F(),H&&H.c(),h=pe(),o(r,"class","search-bar svelte-1xtgt2h"),o(a,"class","search-bar-box svelte-1xtgt2h"),o(f,"class","icons svelte-1xtgt2h"),o(l,"class","right-bar svelte-1xtgt2h"),o(t,"class","nav-bar"),o(e,"class","head svelte-1xtgt2h")},m(v,N){E(v,e,N),g(e,t),p&&p.m(t,null),g(t,n),g(t,l),g(l,a),g(a,r),k&&k.m(r,null),g(r,u),C&&C.m(r,null),g(l,c),g(l,f),y&&y.m(f,null),g(f,_),P&&P.m(f,null),g(f,w),ne(b,f,null),g(f,d),ne(A,f,null),g(f,R),ne(z,f,null),E(v,j,N),B[q].m(v,N),E(v,s,N),H&&H.m(v,N),E(v,h,N),m=!0},p(v,N){v[9]?p?p.p(v,N):(p=Er(v),p.c(),p.m(t,n)):p&&(p.d(1),p=null),v[8]?k?(k.p(v,N),N[0]&256&&I(k,1)):(k=zr(v),k.c(),I(k,1),k.m(r,u)):k&&(ke(),V(k,1,1,()=>{k=null}),ye()),v[7]?C?(C.p(v,N),N[0]&128&&I(C,1)):(C=Hr(v),C.c(),I(C,1),C.m(r,null)):C&&(ke(),V(C,1,1,()=>{C=null}),ye()),!v[8]&&!v[7]&&v[10]?y?(y.p(v,N),N[0]&1408&&I(y,1)):(y=Br(v),y.c(),I(y,1),y.m(f,_)):y&&(ke(),V(y,1,1,()=>{y=null}),ye()),!v[8]&&!v[7]||!v[10]?P?(P.p(v,N),N[0]&1408&&I(P,1)):(P=Ir(v),P.c(),I(P,1),P.m(f,w)):P&&(ke(),V(P,1,1,()=>{P=null}),ye());let Q=q;q=M(v),q===Q?B[q].p(v,N):(ke(),V(B[Q],1,1,()=>{B[Q]=null}),ye(),T=B[q],T?T.p(v,N):(T=B[q]=D[q](v),T.c()),I(T,1),T.m(s.parentNode,s)),v[20]?H?(H.p(v,N),N[0]&1048576&&I(H,1)):(H=Fr(v),H.c(),I(H,1),H.m(h.parentNode,h)):H&&(ke(),V(H,1,1,()=>{H=null}),ye())},i(v){m||(I(k),I(C),I(y),I(P),I(b.$$.fragment,v),I(A.$$.fragment,v),I(z.$$.fragment,v),I(T),I(H),m=!0)},o(v){V(k),V(C),V(y),V(P),V(b.$$.fragment,v),V(A.$$.fragment,v),V(z.$$.fragment,v),V(T),V(H),m=!1},d(v){v&&(S(e),S(j),S(s),S(h)),p&&p.d(),k&&k.d(),C&&C.d(),y&&y.d(),P&&P.d(),le(b),le(A),le(z),B[q].d(v),H&&H.d(v)}}}function rc(i){let e,t;return e=new Hu({}),{c(){re(e.$$.fragment)},m(n,l){ne(e,n,l),t=!0},p:J,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function ac(i){let e,t,n,l;return{c(){e=L("h2"),e.textContent="Error!",t=F(),n=L("p"),l=U(i[6])},m(a,r){E(a,e,r),E(a,t,r),E(a,n,r),g(n,l)},p(a,r){r[0]&64&&K(l,a[6])},i:J,o:J,d(a){a&&(S(e),S(t),S(n))}}}function Er(i){let e,t,n,l;function a(c,f){return c[10]?dc:uc}let r=a(i),u=r(i);return{c(){e=L("ul"),t=L("li"),n=L("h4"),l=L("a"),u.c(),o(l,"href","."),o(n,"class","logo svelte-1xtgt2h")},m(c,f){E(c,e,f),g(e,t),g(t,n),g(n,l),u.m(l,null)},p(c,f){r!==(r=a(c))&&(u.d(1),u=r(c),u&&(u.c(),u.m(l,null)))},d(c){c&&S(e),u.d()}}}function uc(i){let e;return{c(){e=U("audioserve")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function dc(i){let e;return{c(){e=U("as")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function zr(i){let e,t,n,l;e=new gd({props:{selected:i[1]}});let a=i[10]&&Tr(i);return{c(){re(e.$$.fragment),t=F(),a&&a.c(),n=pe()},m(r,u){ne(e,r,u),E(r,t,u),a&&a.m(r,u),E(r,n,u),l=!0},p(r,u){const c={};u[0]&2&&(c.selected=r[1]),e.$set(c),r[10]?a?(a.p(r,u),u[0]&1024&&I(a,1)):(a=Tr(r),a.c(),I(a,1),a.m(n.parentNode,n)):a&&(ke(),V(a,1,1,()=>{a=null}),ye())},i(r){l||(I(e.$$.fragment,r),I(a),l=!0)},o(r){V(e.$$.fragment,r),V(a),l=!1},d(r){r&&(S(t),S(n)),le(e,r),a&&a.d(r)}}}function Tr(i){let e,t,n,l,a;return t=new ca({props:{size:"1.6rem"}}),{c(){e=L("span"),re(t.$$.fragment),o(e,"role","button"),o(e,"class","button-like"),o(e,"aria-label","Close collection list")},m(r,u){E(r,e,u),ne(t,e,null),n=!0,l||(a=Z(e,"click",i[25]),l=!0)},p:J,i(r){n||(I(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){r&&S(e),le(t),l=!1,a()}}}function Hr(i){let e,t,n,l,a,r,u=i[10]&&Rr(i);return{c(){e=L("input"),t=F(),u&&u.c(),n=pe(),o(e,"type","text"),o(e,"name","search"),o(e,"placeholder","Search"),o(e,"class","svelte-1xtgt2h")},m(c,f){E(c,e,f),he(e,i[5]),E(c,t,f),u&&u.m(c,f),E(c,n,f),l=!0,a||(r=[Z(e,"keyup",i[22]),Z(e,"input",i[29]),dt(Gu.call(null,e))],a=!0)},p(c,f){f[0]&32&&e.value!==c[5]&&he(e,c[5]),c[10]?u?(u.p(c,f),f[0]&1024&&I(u,1)):(u=Rr(c),u.c(),I(u,1),u.m(n.parentNode,n)):u&&(ke(),V(u,1,1,()=>{u=null}),ye())},i(c){l||(I(u),l=!0)},o(c){V(u),l=!1},d(c){c&&(S(e),S(t),S(n)),u&&u.d(c),a=!1,Be(r)}}}function Rr(i){let e,t,n,l,a;return t=new ca({props:{size:"1.6rem"}}),{c(){e=L("span"),re(t.$$.fragment),o(e,"role","button"),o(e,"class","button-like"),o(e,"aria-label","Close search")},m(r,u){E(r,e,u),ne(t,e,null),n=!0,l||(a=Z(e,"click",i[25]),l=!0)},p:J,i(r){n||(I(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){r&&S(e),le(t),l=!1,a()}}}function Br(i){let e,t,n,l,a,r,u,c;return t=new ld({props:{size:"1.5rem"}}),a=new id({props:{size:"1.5rem"}}),{c(){e=L("span"),re(t.$$.fragment),n=F(),l=L("span"),re(a.$$.fragment),o(e,"role","button"),o(e,"class","button-like"),o(e,"aria-label","Open collection list"),o(l,"role","button"),o(l,"class","button-like"),o(l,"aria-label","Open search")},m(f,_){E(f,e,_),ne(t,e,null),E(f,n,_),E(f,l,_),ne(a,l,null),r=!0,u||(c=[Z(e,"click",i[23]),Z(l,"click",i[24])],u=!0)},p:J,i(f){r||(I(t.$$.fragment,f),I(a.$$.fragment,f),r=!0)},o(f){V(t.$$.fragment,f),V(a.$$.fragment,f),r=!1},d(f){f&&(S(e),S(n),S(l)),le(t),le(a),u=!1,Be(c)}}}function Ir(i){let e,t,n,l,a,r=i[19]>0&&Mr(i);const u=[sc,oc],c=[];function f(_,w){return _[15]>0?0:1}return t=f(i),n=c[t]=u[t](i),{c(){r&&r.c(),e=F(),n.c(),l=pe()},m(_,w){r&&r.m(_,w),E(_,e,w),c[t].m(_,w),E(_,l,w),a=!0},p(_,w){_[19]>0?r?(r.p(_,w),w[0]&524288&&I(r,1)):(r=Mr(_),r.c(),I(r,1),r.m(e.parentNode,e)):r&&(ke(),V(r,1,1,()=>{r=null}),ye());let b=t;t=f(_),t===b?c[t].p(_,w):(ke(),V(c[b],1,1,()=>{c[b]=null}),ye(),n=c[t],n?n.p(_,w):(n=c[t]=u[t](_),n.c()),I(n,1),n.m(l.parentNode,l))},i(_){a||(I(r),I(n),a=!0)},o(_){V(r),V(n),a=!1},d(_){_&&(S(e),S(l)),r&&r.d(_),c[t].d(_)}}}function Mr(i){let e,t,n,l,a,r,u,c;return t=new od({props:{size:"1.5rem"}}),{c(){e=L("span"),re(t.$$.fragment),n=F(),l=L("span"),a=U(i[19]),o(l,"class","svelte-1xtgt2h"),o(e,"role","button"),o(e,"aria-label","Pending downloads"),o(e,"class","with-text button-like svelte-1xtgt2h")},m(f,_){E(f,e,_),ne(t,e,null),g(e,n),g(e,l),g(l,a),r=!0,u||(c=Z(e,"click",i[26]),u=!0)},p(f,_){(!r||_[0]&524288)&&K(a,f[19])},i(f){r||(I(t.$$.fragment,f),r=!0)},o(f){V(t.$$.fragment,f),r=!1},d(f){f&&S(e),le(t),u=!1,c()}}}function oc(i){let e,t,n,l,a;return t=new fa({props:{size:"1.5rem"}}),{c(){e=L("span"),re(t.$$.fragment),o(e,"role","button"),o(e,"class","button-like"),o(e,"aria-label","Start sleep timer")},m(r,u){E(r,e,u),ne(t,e,null),n=!0,l||(a=Z(e,"click",i[31]),l=!0)},p:J,i(r){n||(I(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){r&&S(e),le(t),l=!1,a()}}}function sc(i){let e,t,n,l,a,r,u,c;return t=new ha({props:{size:"1.5rem"}}),{c(){e=L("span"),re(t.$$.fragment),n=F(),l=L("span"),a=U(i[15]),o(l,"class","svelte-1xtgt2h"),o(e,"role","button"),o(e,"aria-label","Stop sleep timer"),o(e,"class","with-text button-like svelte-1xtgt2h")},m(f,_){E(f,e,_),ne(t,e,null),g(e,n),g(e,l),g(l,a),r=!0,u||(c=Z(e,"click",i[30]),u=!0)},p(f,_){(!r||_[0]&32768)&&K(a,f[15])},i(f){r||(I(t.$$.fragment,f),r=!0)},o(f){V(t.$$.fragment,f),r=!1},d(f){f&&S(e),le(t),u=!1,c()}}}function cc(i){let e,t,n,l;e=new mo({});let a=i[4]&&Or(i);return{c(){re(e.$$.fragment),t=F(),n=L("div"),a&&a.c(),o(n,"class","browser svelte-1xtgt2h")},m(r,u){ne(e,r,u),E(r,t,u),E(r,n,u),a&&a.m(n,null),i[35](n),l=!0},p(r,u){r[4]?a?(a.p(r,u),u[0]&16&&I(a,1)):(a=Or(r),a.c(),I(a,1),a.m(n,null)):a&&(ke(),V(a,1,1,()=>{a=null}),ye())},i(r){l||(I(e.$$.fragment,r),I(a),l=!0)},o(r){V(e.$$.fragment,r),V(a),l=!1},d(r){r&&(S(t),S(n)),le(e,r),a&&a.d(),i[35](null)}}}function fc(i){let e,t,n;return t=new Xs({}),t.$on("close",i[33]),{c(){e=L("div"),re(t.$$.fragment),o(e,"class","browser svelte-1xtgt2h")},m(l,a){E(l,e,a),ne(t,e,null),n=!0},p:J,i(l){n||(I(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&S(e),le(t)}}}function hc(i){let e,t,n;return t=new qs({}),t.$on("finished",i[32]),{c(){e=L("div"),re(t.$$.fragment),o(e,"class","browser svelte-1xtgt2h")},m(l,a){E(l,e,a),ne(t,e,null),n=!0},p:J,i(l){n||(I(t.$$.fragment,l),n=!0)},o(l){V(t.$$.fragment,l),n=!1},d(l){l&&S(e),le(t)}}}function Or(i){let e,t,n={container:i[2],infoOpen:!i[10]};return e=new oo({props:n}),i[34](e),{c(){re(e.$$.fragment)},m(l,a){ne(e,l,a),t=!0},p(l,a){const r={};a[0]&4&&(r.container=l[2]),a[0]&1024&&(r.infoOpen=!l[10]),e.$set(r)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){i[34](null),le(e,l)}}}function Fr(i){let e,t,n,l={};return t=new zs({props:l}),i[36](t),t.$on("navigate",i[37]),{c(){e=L("div"),re(t.$$.fragment),o(e,"class","player svelte-1xtgt2h"),o(e,"role","region"),o(e,"aria-label","Player")},m(a,r){E(a,e,r),ne(t,e,null),n=!0},p(a,r){const u={};t.$set(u)},i(a){n||(I(t.$$.fragment,a),n=!0)},o(a){V(t.$$.fragment,a),n=!1},d(a){a&&S(e),i[36](null),le(t)}}}function mc(i){let e;return{c(){e=U("Cancel All Running Loads?")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function _c(i){let e;return{c(){e=U("Do you want to cancel all currently running loads of audio files?")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function gc(i){let e;return{c(){e=U("Audioserve Web Client")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function Nr(i){let e;return{c(){e=L("p"),e.textContent="Cache via service worker is not available",o(e,"class","red svelte-1xtgt2h")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function bc(i){var w;let e,t,n,l,a,r,u,c=((w=i[18])==null?void 0:w.version)+"",f,_=!i[0]&&Nr();return{c(){e=L("p"),e.innerHTML='New PWA client built with Svelte and TypeScript<br/> <a href="https://github.com/izderadicka/audioserve-web">Check it&#39;s site</a>',t=F(),_&&_.c(),n=F(),l=L("p"),l.textContent=`Version: ${na}(${la})`,a=F(),r=L("p"),u=U("Server Version: "),f=U(c)},m(b,d){E(b,e,d),E(b,t,d),_&&_.m(b,d),E(b,n,d),E(b,l,d),E(b,a,d),E(b,r,d),g(r,u),g(r,f)},p(b,d){var A;b[0]?_&&(_.d(1),_=null):_||(_=Nr(),_.c(),_.m(n.parentNode,n)),d[0]&262144&&c!==(c=((A=b[18])==null?void 0:A.version)+"")&&K(f,c)},d(b){b&&(S(e),S(t),S(n),S(l),S(a),S(r)),_&&_.d(b)}}}function wc(i){let e,t,n,l,a,r,u,c;const f=[ac,rc,lc],_=[];function w(A,R){return A[6]?0:A[17]?2:1}t=w(i),n=_[t]=f[t](i);let b={id:pc,confirmAction:i[27],$$slots:{body:[_c],header:[mc]},$$scope:{ctx:i}};a=new wr({props:b}),i[38](a);let d={id:vc,noConfirm:!0,$$slots:{body:[bc],header:[gc]},$$scope:{ctx:i}};return u=new wr({props:d}),i[39](u),{c(){e=L("main"),n.c(),l=F(),re(a.$$.fragment),r=F(),re(u.$$.fragment),o(e,"class","svelte-1xtgt2h")},m(A,R){E(A,e,R),_[t].m(e,null),E(A,l,R),ne(a,A,R),E(A,r,R),ne(u,A,R),c=!0},p(A,R){let z=t;t=w(A),t===z?_[t].p(A,R):(ke(),V(_[z],1,1,()=>{_[z]=null}),ye(),n=_[t],n?n.p(A,R):(n=_[t]=f[t](A),n.c()),I(n,1),n.m(e,null));const j={};R[1]&4194304&&(j.$$scope={dirty:R,ctx:A}),a.$set(j);const q={};R[0]&262145|R[1]&4194304&&(q.$$scope={dirty:R,ctx:A}),u.$set(q)},i(A){c||(I(n),I(a.$$.fragment,A),I(u.$$.fragment,A),c=!0)},o(A){V(n),V(a.$$.fragment,A),V(u.$$.fragment,A),c=!1},d(A){A&&(S(e),S(l),S(r)),_[t].d(),i[38](null),le(a,A),i[39](null),le(u,A)}}}const pc="cancel-prefetch-dialog",vc="about-dialog";function kc(){console.log("downloadCurrentFolder")}function yc(i,e,t){let n,l,a,r,u,c,f,_,w;te(i,li,W=>t(15,n=W)),te(i,Ii,W=>t(16,l=W)),te(i,Ue,W=>t(42,a=W)),te(i,Ri,W=>t(17,r=W)),te(i,je,W=>t(1,u=W)),te(i,Gt,W=>t(18,c=W)),te(i,tn,W=>t(43,f=W)),te(i,_n,W=>t(19,_=W)),te(i,Bi,W=>t(20,w=W));let{cache:b}=e;b&&(b.maxParallelLoads=l.maxParallelDownload,b.onQueueSizeChanged(W=>_n.set(W)),on("cache",b));let{initialHash:d}=e;if(Wi(async()=>{console.log("App onMount");try{await h()}catch(W){console.error("Error loading initial lists",W),W instanceof Kr?W.response.status===401?(ae(Ri,r=!1,r),Ri.subscribe(async Fe=>{if(Fe)try{await h()}catch{t(6,C="Fail to load collections after authentication, one reason can be insecure context and API on different origin")}})):t(6,C=`Unexpected response from server: ${W.response.status} ${W}`):t(6,C=`Cannot contact server: ${W}`)}}),d){const W=so(d);W&&(ae(je,u=W.collection,u),ae(Ue,a={type:W.folderType,value:W.value},a))}const A=()=>{t(14,$="browser")},R=new co(A);on("history",R);const z=localStorage.getItem(Re.THEME);z&&document.querySelector("html").setAttribute("data-theme",z);const j=Fa(ra);zi.set(new Tt({basePath:j,credentials:"include"}));let q,T,s=!1;async function h(){console.log("loadCollections"),await Promise.all([f.collectionsGet().then(Fe=>{console.log("Got collections list",Fe),ae(Gt,c=Fe,c);let Se=parseInt(localStorage.getItem(Re.LAST_COLLECTION)||"0");Se>=Fe.names.length&&(Se=0),ae(je,u=Se,u)})]),t(4,s=!0),console.debug("isInitialized",s)}function m(W){const Fe=W.detail;switch(console.debug("Menu selected",Fe),Fe){case"logout":ae(Ri,r=!1,r),Su();break;case"switch-theme":const Se=Wr();document.querySelector("html").setAttribute("data-theme",Se),localStorage.setItem(Re.THEME,Se);break;case"clear-cache":Promise.all([b==null?void 0:b.clearCache().then(()=>{b.cancelPendingLoads("",!0)}),window==null?void 0:window.caches.delete(Du)]).then(()=>window.location.reload()).catch(Je=>console.warn("Error clearing cache "+Je));break;case"show-preferences":t(14,$="config");break;case"about":x();break;case"recent":t(14,$="recent");break;case"download":t(14,$="browser"),kc()}}let p;function k(W){W.key==="Enter"&&p.length>0&&ae(Ue,a={value:p,type:be.SEARCH},a)}let C=null,y=!0,P=!0,D=!0,B=!1;nn.subscribe(W=>{W.width<=Wt?(B||(t(7,y=!1),t(8,P=!1),t(9,D=!0)),t(10,B=!0)):(t(7,y=!0),t(8,P=!0),t(10,B=!1),t(9,D=!0))});function M(){P?(t(8,P=!1),t(7,y=!1),t(9,D=!0)):(t(8,P=!0),t(7,y=!1),t(9,D=!1))}function H(){y?(t(7,y=!1),t(8,P=!1),t(9,D=!0)):(t(7,y=!0),t(8,P=!1),t(9,D=!1))}function v(){t(7,y=!1),t(8,P=!1),t(9,D=!0)}let N;function Q(W){N.toggleModal(W)}function ee(){console.debug("Cancel all prefetch loads"),b.cancelPendingLoads("",!0,!0)}let Y;function x(){Y.toggleModal()}let ce=null,we,Pe=null;const ge=()=>{Pe&&(Pe.finish(),Pe=null)};async function ve(){const W=Os(),Fe=await pr("static/will_sleep_soon.mp3",W),Se=await pr("static/extended.mp3",W);ce=window.setInterval(()=>{const Je=n-1;Je===1?(vr(Fe,W),Pe=new Fs(Pi=>{ae(li,n+=l.sleepTimerExtend,n),vr(Se,W),ge()})):Je===0&&(we==null||we.pause()),ae(li,n=Je,n)},6e4)}li.subscribe(W=>{W==0&&X(),W>1&&Pe!=null&&ge(),ce===null&&W>0&&ve()});function X(){window.clearInterval(ce),ge(),ae(li,n=0,n),ce=null}let $="browser";je.subscribe(W=>{t(14,$="browser")}),Ue.subscribe(W=>{t(14,$="browser")});function Ae(){p=this.value,t(5,p)}const Ce=()=>{ae(li,n=0,n)},Me=()=>{ae(li,n=l.sleepTimerPeriod,n)},Le=()=>{t(14,$="browser")},ai=()=>t(14,$="browser");function qe(W){We[W?"unshift":"push"](()=>{T=W,t(3,T)})}function ni(W){We[W?"unshift":"push"](()=>{q=W,t(2,q)})}function hi(W){We[W?"unshift":"push"](()=>{we=W,t(13,we)})}const Li=W=>T==null?void 0:T.navigate(W.detail);function Oe(W){We[W?"unshift":"push"](()=>{N=W,t(11,N)})}function Xe(W){We[W?"unshift":"push"](()=>{Y=W,t(12,Y)})}return i.$$set=W=>{"cache"in W&&t(0,b=W.cache),"initialHash"in W&&t(28,d=W.initialHash)},i.$$.update=()=>{i.$$.dirty[0]&2&&console.debug("Selected collection is "+u)},[b,u,q,T,s,p,C,y,P,D,B,N,Y,we,$,n,l,r,c,_,w,m,k,M,H,v,Q,ee,d,Ae,Ce,Me,Le,ai,qe,ni,hi,Li,Oe,Xe]}class Cc extends se{constructor(e){super(),oe(this,e,yc,wc,de,{cache:0,initialHash:28},null,[-1,-1])}}console.log(`Running app version ${na}(${la}) in env ${ta}`);function Lc(i){console.log("createApp",i),new Cc({target:document.body,props:{cache:i,initialHash:window.location.hash}})}"storage"in navigator&&navigator.storage.estimate().then(i=>console.debug("Available storage:",i));Lc(null);
